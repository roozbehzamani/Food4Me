function extendExceptionHandler(e){var t="myPrefix";return function(n,i){if(app.refreshOnError&&window.location.reload(),app.showExceptions&&e(n,i),!t||0!==n.message.indexOf(t)){t+n.message}}}function link(e,t,n){e.restaurant.restaurantRateAverage||(e.restaurant.restaurantRateAverage=0)}!function(){"use strict";function e(e){return{restrict:"A",require:"?^^inViewContainer",link:function(t,o,r,l){var u={};r.inViewOptions&&(u=t.$eval(r.inViewOptions)),u.offset&&(u.offset=s(u.offset)),u.viewportOffset&&(u.viewportOffset=s(u.viewportOffset));var p=d({type:"initial"}).merge(c(window,"checkInView click ready wheel mousewheel DomMouseScroll MozMousePixelScroll resize scroll touchmove mouseup keydown"));l&&(p=p.merge(l.eventsSignal)),u.throttle&&(p=p.throttle(u.throttle));var h=p.map(function(e){var t;t=l?l.getViewportRect():n(),t=a(t,u.viewportOffset);var s=a(o[0].getBoundingClientRect(),u.offset),r=!!(o[0].offsetWidth||o[0].offsetHeight||o[0].getClientRects().length),c={inView:r&&i(s,t),event:e,element:o,elementRect:s,viewportRect:t};return u.generateParts&&c.inView&&(c.parts={},c.parts.top=s.top>=t.top,c.parts.left=s.left>=t.left,c.parts.bottom=s.bottom<=t.bottom,c.parts.right=s.right<=t.right),c}).scan({},function(e,t){return u.generateDirection&&t.inView&&e.elementRect&&(t.direction={horizontal:t.elementRect.left-e.elementRect.left,vertical:t.elementRect.top-e.elementRect.top}),t.changed=t.inView!==e.inView||!angular.equals(t.parts,e.parts)||!angular.equals(t.direction,e.direction),t}).filter(function(e){return!!e.changed&&!("initial"===e.event.type&&!e.inView)}),f=e(r.inView),g=h.subscribe(function(e){t.$applyAsync(function(){f(t,{$inview:e.inView,$inviewInfo:e})})});t.$on("$destroy",g)}}}function t(){return{restrict:"A",controller:["$element",function(e){this.element=e,this.eventsSignal=c(e,"scroll"),this.getViewportRect=function(){return e[0].getBoundingClientRect()}}]}}function n(){var e={top:0,left:0,width:window.innerWidth,right:window.innerWidth,height:window.innerHeight,bottom:window.innerHeight};if(e.height)return e;var t=document.compatMode;return"CSS1Compat"===t?(e.width=e.right=document.documentElement.clientWidth,e.height=e.bottom=document.documentElement.clientHeight):(e.width=e.right=document.body.clientWidth,e.height=e.bottom=document.body.clientHeight),e}function i(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}function s(e){return angular.isArray(e)?2==e.length?e.concat(e):3==e.length?e.concat([e[1]]):e:[e,e,e,e]}function a(e,t){if(!t)return e;var n={top:o(t[0])?parseFloat(t[0])*e.height:t[0],right:o(t[1])?parseFloat(t[1])*e.width:t[1],bottom:o(t[2])?parseFloat(t[2])*e.height:t[2],left:o(t[3])?parseFloat(t[3])*e.width:t[3]};return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right,height:e.height+n.top+n.bottom,width:e.width+n.left+n.right}}function o(e){return angular.isString(e)&&e.indexOf("%")>0}function r(e){this.didSubscribeFunc=e}function l(){var e=arguments;return new r(function(t){for(var n=[],i=e.length-1;i>=0;i--)n.push(e[i].subscribe(function(){t.apply(null,arguments)}));t.$dispose=function(){for(var e=n.length-1;e>=0;e--)n[e]&&n[e]()}})}function c(e,t){return new r(function(n){var i=function(e){n(e)},s=angular.element(e);s.on(t,i),n.$dispose=function(){s.off(t,i)}})}function d(e){return new r(function(t){setTimeout(function(){t(e)})})}var u=angular.module("angular-inview",[]).directive("inView",["$parse",e]).directive("inViewContainer",t);r.prototype.subscribe=function(e){this.didSubscribeFunc(e);var t=function(){e.$dispose&&(e.$dispose(),e.$dispose=null)};return t},r.prototype.map=function(e){var t=this;return new r(function(n){n.$dispose=t.subscribe(function(t){n(e(t))})})},r.prototype.filter=function(e){var t=this;return new r(function(n){n.$dispose=t.subscribe(function(t){e(t)&&n(t)})})},r.prototype.scan=function(e,t){var n=this;return new r(function(i){var s=e;i.$dispose=n.subscribe(function(e){s=t(s,e),i(s)})})},r.prototype.merge=function(e){return l(this,e)},r.prototype.throttle=function(e){var t,n,i=this;return new r(function(s){var a=i.subscribe(function(){var i=+new Date,a=arguments;t&&i<t+e?(clearTimeout(n),n=setTimeout(function(){t=i,s.apply(null,a)},e)):(t=i,s.apply(null,a))});s.$dispose=function(){clearTimeout(n),a&&a()}})},"function"==typeof define&&define.amd?define(["angular"],u):"undefined"!=typeof module&&module&&module.exports&&(module.exports=u)}(),function(e,t,n){"use strict";function i(e,n,i){function s(e,i,s){var o,r;s=s||{},r=s.expires,o=t.isDefined(s.path)?s.path:a,t.isUndefined(i)&&(r="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(r)&&(r=new Date(r));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=o?";path="+o:"",l+=s.domain?";domain="+s.domain:"",l+=r?";expires="+r.toUTCString():"",l+=s.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var a=i.baseHref(),o=e[0];return function(e,t,n){o.cookie=s(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},i,e):i}var i=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(i,s){return{get:function(e){return i()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return i()},put:function(t,n,i){s(t,n,e(i))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,i){s(t,n,e(i))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),i.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=i})}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return B(new(B(function(){},{prototype:e})),t)}function s(e){return F(arguments,function(t){t!==e&&F(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return F(e,function(e,n){t.push(n)}),t}function r(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var s,l=a(n,i),c={},d=[];for(var u in l)if(l[u].params&&(s=o(l[u].params),s.length))for(var p in s)r(d,s[p])>=0||(d.push(s[p]),c[s[p]]=e[s[p]]);return B({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var s=0;s<n.length;s++){var a=n[s];if(e[a]!=t[a])return!1}return!0}function d(e,t){var n={};return F(e,function(e){n[e]=t[e]}),n}function u(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return F(n,function(n){n in e&&(t[n]=e[n])}),t}function p(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)r(n,i)==-1&&(t[i]=e[i]);return t}function h(e,t){var n=N(e),i=n?[]:{};return F(e,function(e,s){t(e,s)&&(i[n?i.length:s]=e)}),i}function f(e,t){var n=N(e)?[]:{};return F(e,function(e,i){n[i]=t(e,i)}),n}function g(e,t){var i=1,a=2,l={},c=[],d=l,u=B(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function h(e,n){if(b[n]!==a){if(v.push(n),b[n]===i)throw v.splice(0,r(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(b[n]=i,R(e))m.push(n,[function(){return t.get(e)}],c);else{var s=t.annotate(e);F(s,function(e){e!==n&&l.hasOwnProperty(e)&&h(l[e],e)}),m.push(n,e,s)}v.pop(),b[n]=a}}function f(e){return L(e)&&e.then&&e.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var g=o(l||{}),m=[],v=[],b={};return F(l,h),l=v=b=null,function(i,a,o){function r(){--w||(x||s(y,a.$$values),v.$$values=y,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,h.resolve(y))}function l(e){v.$$failure=e,h.reject(e)}function c(n,s,a){function c(e){u.reject(e),l(e)}function d(){if(!E(v.$$failure))try{u.resolve(t.invoke(s,o,y)),u.promise.then(function(e){y[n]=e,r()},c)}catch(e){c(e)}}var u=e.defer(),p=0;F(a,function(e){b.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(p++,b[e].then(function(t){y[e]=t,--p||d()},c))}),p||d(),b[n]=u.promise}if(f(i)&&o===n&&(o=a,a=i,i=null),i){if(!L(i))throw new Error("'locals' must be an object")}else i=d;if(a){if(!f(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=u;var h=e.defer(),v=h.promise,b=v.$$promises={},y=B({},i),w=1+m.length/3,x=!1;if(E(a.$$failure))return l(a.$$failure),v;a.$$inheritedValues&&s(y,p(a.$$inheritedValues,g)),B(b,a.$$promises),a.$$values?(x=s(y,p(a.$$values,g)),v.$$inheritedValues=p(a.$$values,g),r()):(a.$$inheritedValues&&(v.$$inheritedValues=p(a.$$inheritedValues,g)),a.then(r,l));for(var k=0,$=m.length;k<$;k+=3)i.hasOwnProperty(m[k])?r():c(m[k],m[k+1],m[k+2]);return v}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function m(e,t,n){this.fromConfig=function(e,t,n){return E(e.template)?this.fromString(e.template,t):E(e.templateUrl)?this.fromUrl(e.templateUrl,t):E(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return O(e)?e(t):e},this.fromUrl=function(n,i){return O(n)&&(n=n(i)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function v(e,t,s){function a(t,n,i,s){if(m.push(t),f[t])return f[t];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new V.Param(t,n,i,s),g[t]}function o(e,t,n,i){var s=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:s=["(",")"+(i?"?":"")];break;case!0:s=["?(",")?"];break;default:s=["("+n+"|",")?"]}return a+s[0]+t+s[1]}function r(s,a){var o,r,l,c,d;return o=s[2]||s[3],d=t.params[o],l=e.substring(p,s.index),r=a?s[4]:s[4]||("*"==s[1]?".*":null),c=V.type(r||"string")||i(V.type("string"),{pattern:new RegExp(r,t.caseInsensitive?"i":n)}),{id:o,regexp:r,segment:l,type:c,cfg:d}}t=B({params:{}},L(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",p=0,h=this.segments=[],f=s?s.params:{},g=this.params=s?s.params.$$new():new V.ParamSet,m=[];this.source=e;for(var v,b,y;(l=c.exec(e))&&(v=r(l,!1),!(v.segment.indexOf("?")>=0));)b=a(v.id,v.type,v.cfg,"path"),u+=o(v.segment,b.type.pattern.source,b.squash,b.isOptional),h.push(v.segment),p=c.lastIndex;y=e.substring(p);var w=y.indexOf("?");if(w>=0){var x=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,p+w),x.length>0)for(p=0;l=d.exec(x);)v=r(l,!0),b=a(v.id,v.type,v.cfg,"search"),p=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";u+=o(y)+(t.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(u,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function b(e){B(this,e)}function y(){function e(e){return null!=e?e.toString().replace(/\//g,"%2F"):e}function s(e){return null!=e?e.toString().replace(/%2F/g,"/"):e}function a(){return{strict:g,caseInsensitive:p}}function l(e){return O(e)||N(e)&&O(e[e.length-1])}function c(){for(;k.length;){var e=k.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(w[e.name],u.invoke(e.def))}}function d(e){B(this,e||{})}V=this;var u,p=!1,g=!0,m=!1,w={},x=!0,k=[],$={string:{encode:e,decode:s,is:function(e){return null==e||!E(e)||"string"==typeof e},pattern:/[^\/]*/},"int":{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return E(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};y.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!u)throw new Error("Injectable functions cannot be called at configuration time");return u.invoke(e.value)},this.caseInsensitive=function(e){return E(e)&&(p=e),p},this.strictMode=function(e){return E(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!E(e))return m;if(e!==!0&&e!==!1&&!R(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new v(e,B(a(),t))},this.isMatcher=function(e){if(!L(e))return!1;var t=!0;return F(v.prototype,function(n,i){O(n)&&(t=t&&E(e[i])&&O(e[i]))}),t},this.type=function(e,t,n){if(!E(t))return w[e];if(w.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return w[e]=new b(B({name:e},t)),n&&(k.push({name:e,def:n}),x||c()),this},F($,function(e,t){w[t]=new b(B({name:t},e))}),w=i(w,{}),this.$get=["$injector",function(e){return u=e,x=!1,c(),F($,function(e,t){w[t]||(w[t]=new b(e))}),this}],this.Param=function(e,t,i,s){function a(e){var t=L(e)?o(e):[],n=r(t,"value")===-1&&r(t,"type")===-1&&r(t,"squash")===-1&&r(t,"array")===-1;return n&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}function c(t,n,i){if(t.type&&n)throw new Error("Param '"+e+"' has two type configurations.");return n?n:t.type?t.type instanceof b?t.type:new b(t.type):"config"===i?w.any:w.string}function d(){var t={array:"search"===s&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return B(t,n,i).array}function p(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!E(n)||null==n)return m;if(n===!0||R(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(e,t,i,s){var a,o,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return a=N(e.replace)?e.replace:[],R(s)&&a.push({from:s,to:n}),o=f(a,function(e){return e.from}),h(l,function(e){return r(o,e.from)===-1}).concat(a)}function v(){if(!u)throw new Error("Injectable functions cannot be called at configuration time");var e=u.invoke(i.$$fn);if(null!==e&&e!==n&&!k.type.is(e))throw new Error("Default value ("+e+") for parameter '"+k.id+"' is not an instance of Type ("+k.type.name+")");return e}function y(e){function t(e){return function(t){return t.from===e}}function n(e){var n=f(h(k.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}return e=n(e),E(e)?k.type.$normalize(e):v()}function x(){return"{Param:"+e+" "+t+" squash: '"+C+"' optional: "+S+"}"}var k=this;i=a(i),t=c(i,t,s);var $=d();t=$?t.$asArray($,"search"===s):t,"string"!==t.name||$||"path"!==s||i.value!==n||(i.value="");var S=i.value!==n,C=p(i,S),T=g(i,$,S,C);B(this,{id:e,type:t,location:s,array:$,squash:C,replace:T,isOptional:S,value:y,dynamic:n,config:i,toString:x})},d.prototype={$$new:function(){return i(this,B(new d,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=o(d.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),F(t,function(t){F(o(t),function(t){r(e,t)===-1&&r(i,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return F(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return F(i.$$keys(),function(s){var a=e&&e[s],o=t&&t[s];i[s].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var i,s,a,o,r,l=this.$$keys();for(i=0;i<l.length&&(s=this[l[i]],a=e[l[i]],a!==n&&null!==a||!s.isOptional);i++){if(o=s.type.$normalize(a),!s.type.is(o))return!1;if(r=s.type.encode(o),t.isString(r)&&!s.type.pattern.exec(r))return!1}return!0},$$parent:n},this.ParamSet=d}function w(e,i){function s(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!E(i)||i}function r(i,s,a,o){function r(e,t,n){return"/"===g?e:t?g.slice(0,-1)+e:n?g.slice(1)+e:e}function p(e){function t(e){var t=e(a,i);return!!t&&(R(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){f&&i.url()===f;f=n;var s,o=c.length;for(s=0;s<o;s++)if(t(c[s]))return;d&&t(d)}}function h(){return l=l||s.$on("$locationChangeSuccess",p)}var f,g=o.baseHref(),m=i.url();return u||h(),{sync:function(){p()},listen:function(){return h()},update:function(e){return e?void(m=i.url()):void(i.url()!==m&&(i.url(m),i.replace()))},push:function(e,t,s){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),i.url(a),f=s&&s.$$avoidResync?i.url():n,s&&s.replace&&i.replace()},href:function(n,s,a){if(!n.validates(s))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled);var l=n.format(s);if(a=a||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&s&&s["#"]&&(l+="#"+s["#"]),l=r(l,o,a.absolute),!a.absolute||!l)return l;var c=!o&&l?"/":"",d=i.port();return d=80===d||443===d?"":":"+d,[i.protocol(),"://",i.host(),d,c,l].join("")}}}var l,c=[],d=null,u=!1;this.rule=function(e){if(!O(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(R(e)){var t=e;e=function(){return t}}else if(!O(e))throw new Error("'rule' must be a function");return d=e,this},this.when=function(e,t){var n,r=R(t);if(R(e)&&(e=i.compile(e)),!r&&!O(t)&&!N(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return r&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),B(function(n,i){return o(n,t,e.exec(i.path(),i.search()))},{prefix:R(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=t,t=["$match",function(e){return a(n,e)}]),B(function(n,i){return o(n,t,e.exec(i.path()))},{prefix:s(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var d in c)if(c[d])return this.rule(l[d](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),u=e},this.$get=r,r.$inject=["$location","$rootScope","$injector","$browser"]}function x(e,s){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function p(e,t){if(!e)return n;var i=R(e),s=i?e:e.name,o=a(s);if(o){if(!t)throw new Error("No reference point given for path '"+s+"'");t=p(t);for(var r=s.split("."),l=0,c=r.length,d=t;l<c;l++)if(""!==r[l]||0!==l){if("^"!==r[l])break;if(!d.parent)throw new Error("Path '"+s+"' not valid for state '"+t.name+"'");d=d.parent}else d=t;r=r.slice(l).join("."),s=d.name+(d.name&&r?".":"")+r}var u=C[s];return!u||!i&&(i||u!==e&&u.self!==e)?n:u}function h(e,t){T[e]||(T[e]=[]),T[e].push(t)}function g(e){for(var t=T[e]||[];t.length;)m(t.shift())}function m(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!R(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(C.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var s=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):R(t.parent)?t.parent:L(t.parent)&&R(t.parent.name)?t.parent.name:"";if(s&&!C[s])return h(s,t.self);for(var a in _)O(_[a])&&(t[a]=_[a](t,_.$delegates[a]));return C[n]=t,!t[A]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),g(n),t}function v(e){return e.indexOf("*")>-1}function b(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,s=t.length;i<s;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(r(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(r(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function y(e,t){return R(e)&&!E(t)?_[e]:O(t)&&R(e)?(_[e]&&!_.$delegates[e]&&(_.$delegates[e]=_[e]),_[e]=t,this):this}function w(e,t){return L(e)?t=e:t.name=e,m(t),this}function x(e,s,a,r,u,h,g,m,y){function w(t,n,i,a){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return g.update(),I;if(!o.retry)return null;if(a.$retry)return g.update(),D;var r=S.transition=s.when(o.retry);return r.then(function(){return r!==S.transition?T:(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return I}),g.update(),r}function x(e,n,i,o,l,c){function p(){var n=[];return F(e.views,function(i,s){var o=i.resolve&&i.resolve!==e.resolve?i.resolve:{};o.$template=[function(){return a.load(s,{view:i,locals:l.globals,params:h,notify:c.notify})||""}],n.push(u.resolve(o,l.globals,l.resolve,e).then(function(n){if(O(i.controllerProvider)||N(i.controllerProvider)){var a=t.extend({},o,l.globals);n.$$controller=r.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,l[s]=n}))}),s.all(n).then(function(){return l.globals})}var h=i?n:d(e.params.$$keys(),n),f={$stateParams:h};l.resolve=u.resolve(e.resolve,f,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return o&&g.push(o),s.all(g).then(p).then(function(e){return l})}var T=s.reject(new Error("transition superseded")),_=s.reject(new Error("transition prevented")),I=s.reject(new Error("transition aborted")),D=s.reject(new Error("transition failed"));return $.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:$.self,$current:$,transition:null},S.reload=function(e){return S.transitionTo(S.current,h,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,B({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,a){n=n||{},a=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,c=S.$current,u=S.params,f=c.path,m=p(t,a.relative),v=n["#"];if(!E(m)){var b={to:t,toParams:n,options:a},y=w(b,c.self,u,a);if(y)return y;if(t=b.to,n=b.toParams,a=b.options,m=p(t,a.relative),!E(m)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(m[A])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=l(h,n||{},S.$current,m)),!m.params.$$validates(n))return D;n=m.params.$$values(n),t=m;var C=t.path,I=0,P=C[I],M=$.locals,O=[];if(a.reload){if(R(a.reload)||L(a.reload)){if(L(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var N=a.reload===!0?f[0]:p(a.reload);if(a.reload&&!N)throw new Error("No such reload state '"+(R(a.reload)?a.reload:a.reload.name)+"'");for(;P&&P===f[I]&&P!==N;)M=O[I]=P.locals,I++,P=C[I]}}else for(;P&&P===f[I]&&P.ownParams.$$equals(n,u);)M=O[I]=P.locals,I++,P=C[I];if(k(t,n,c,u,M,a))return v&&(n["#"]=v),S.params=n,U(S.params,h),a.location&&t.navigable&&t.navigable.url&&(g.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),g.update(!0)),S.transition=null,s.when(S.current);if(n=d(t.params.$$keys(),n||{}),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,u).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,u),g.update(),_;for(var F=s.when(M),V=I;V<C.length;V++,P=C[V])M=O[V]=i(M),F=x(P,n,P===t,F,M,a);var j=S.transition=F.then(function(){var i,s,o;if(S.transition!==j)return T;for(i=f.length-1;i>=I;i--)o=f[i],o.self.onExit&&r.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=I;i<C.length;i++)s=C[i],s.locals=O[i],s.self.onEnter&&r.invoke(s.self.onEnter,s.self,s.locals.globals);return v&&(n["#"]=v),S.transition!==j?T:(S.$current=t,S.current=t.self,S.params=n,U(S.params,h),S.transition=null,a.location&&t.navigable&&g.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,u),g.update(!0),S.current)},function(i){return S.transition!==j?T:(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,u,i),o.defaultPrevented||g.update(),s.reject(i))});return j},S.is=function(e,t,i){i=B({relative:S.$current},i||{});var s=p(e,i.relative);return E(s)?S.$current===s&&(!t||c(s.params.$$values(t),h)):n},S.includes=function(e,t,i){if(i=B({relative:S.$current},i||{}),R(e)&&v(e)){if(!b(e))return!1;e=S.$current.name}var s=p(e,i.relative);return E(s)?!!E(S.$current.includes[s.name])&&(!t||c(s.params.$$values(t),h,o(t))):n},S.href=function(e,t,i){i=B({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var s=p(e,i.relative);if(!E(s))return null;i.inherit&&(t=l(h,t||{},S.$current,s));var a=s&&i.lossy?s.navigable:s;return a&&a.url!==n&&null!==a.url?g.href(a.url,d(s.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return f(o(C),function(e){return C[e].self});var n=p(e,t||S.$current);return n&&n.self?n.self:null},S}function k(e,t,n,i,s,a){function o(e,t,n){function i(t){return"search"!=e.params[t].location}var s=e.params.$$keys().filter(i),a=u.apply({},[e.params].concat(s)),o=new V.ParamSet(a);return o.$$equals(t,n)}if(!a.reload&&e===n&&(s===n.locals||e.self.reloadOnSearch===!1&&o(n,i,t)))return!0}var $,S,C={},T={},A="abstract",_={parent:function(e){if(E(e.parent)&&e.parent)return p(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?p(t[1]):$},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=B({},e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(R(t))return"^"==t.charAt(0)?s.compile(t.substring(1),n):(e.parent.navigable||$).url.concat(t,n);if(!t||s.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new V.ParamSet;return F(e.params||{},function(e,n){t[n]||(t[n]=new V.Param(n,null,e,"config"))}),t},params:function(e){return e.parent&&e.parent.params?B(e.parent.params.$$new(),e.ownParams):new V.ParamSet},views:function(e){var t={};return F(E(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?B({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};$=m({name:"",url:"^",views:null,"abstract":!0}),$.navigable=null,this.decorator=y,this.state=w,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function k(){function e(e,t){return{load:function(n,i){var s,a={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=B(a,i),i.view&&(s=t.fromConfig(i.view,i.params,i.locals)),s&&i.notify&&e.$broadcast("$viewContentLoading",i),s}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function $(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function S(e,n,i,s){function a(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(t){return null}}}function o(e,t){var n=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,t,n){var i=c.enter(e,null,t,n);i&&i.then&&i.then(n)},leave:function(e,t){var n=c.leave(e,t);n&&n.then&&n.then(t)}};if(l){var i=l&&l(t,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return n()}var r=a(),l=r("$animator"),c=r("$animate"),d={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,a,r){return function(n,a,l){function c(){u&&(u.remove(),u=null),h&&(h.$destroy(),h=null),p&&(v.leave(p,function(){u=null}),u=p,p=null)}function d(o){var d,u=T(n,l,a,s),b=u&&e.$current&&e.$current.locals[u];if(o||b!==f){d=n.$new(),f=e.$current.locals[u];var y=r(d,function(e){v.enter(e,a,function(){h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(m)&&!m||n.$eval(m))&&i(e)}),c()});p=y,h=d,h.$emit("$viewContentLoaded"),h.$eval(g)}}var u,p,h,f,g=l.onload||"",m=l.autoscroll,v=o(l,n);n.$on("$stateChangeSuccess",function(){d(!1)}),n.$on("$viewContentLoading",function(){d(!1)}),d(!0)}}};return d}function C(e,t,n,i){return{restrict:"ECA",priority:-400,compile:function(s){var a=s.html();return function(s,o,r){var l=n.$current,c=T(s,r,o,i),d=l&&l.locals[c];if(d){o.data("$uiView",{name:c,state:d.$$state}),o.html(d.$template?d.$template:a);var u=e(o.contents());if(d.$$controller){d.$scope=s,d.$element=o;var p=t(d.$$controller,d);d.$$controllerAs&&(s[d.$$controllerAs]=p),o.data("$ngControllerController",p),o.children().data("$ngControllerController",p)}u(s)}}}}}function T(e,t,n,i){var s=i(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return s.indexOf("@")>=0?s:s+"@"+(a?a.state.name:"")}function A(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function _(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function I(e,n){var i=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(s,a,o,r){var l=A(o.uiSref,e.current.name),c=null,d=_(a)||e.$current,u="[object SVGAnimatedString]"===Object.prototype.toString.call(a.prop("href"))?"xlink:href":"href",p=null,h="A"===a.prop("tagName").toUpperCase(),f="FORM"===a[0].nodeName,g=f?"action":u,m=!0,v={relative:d,inherit:!0},b=s.$eval(o.uiSrefOpts)||{};t.forEach(i,function(e){e in b&&(v[e]=b[e])});var y=function(n){if(n&&(c=t.copy(n)),m){p=e.href(l.state,c,v),p=decodeURIComponent(p);var i=r[1]||r[0];return i&&i.$$addStateInfo(l.state,c),null===p?(m=!1,!1):void o.$set(g,p)}};l.paramExpr&&(s.$watch(l.paramExpr,function(e,t){e!==c&&y(e)},!0),c=t.copy(s.$eval(l.paramExpr))),y(),f||a.bind("click",function(t){var i=t.which||t.button;if(!(i>1||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var s=n(function(){e.go(l.state,c,v)});t.preventDefault();var o=h&&!p?1:0;t.preventDefault=function(){o--<=0&&n.cancel(s)}}})}}}function D(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,i,s){function a(){o()?i.addClass(l):i.removeClass(l)}function o(){for(var e=0;e<c.length;e++)if(r(c[e].state,c[e].params))return!0;return!1}function r(t,n){return"undefined"!=typeof s.uiSrefActiveEq?e.is(t.name,n):e.includes(t.name,n)}var l,c=[];l=n(s.uiSrefActiveEq||s.uiSrefActive||"",!1)(t),this.$$addStateInfo=function(t,n){var s=e.get(t,_(i));c.push({state:s||{name:t},params:n}),a()},t.$on("$stateChangeSuccess",a)}]}}function P(e){var t=function(t){return e.is(t)};return t.$stateful=!0,t}function M(e){var t=function(t){return e.includes(t)};return t.$stateful=!0,t}var E=t.isDefined,O=t.isFunction,R=t.isString,L=t.isObject,N=t.isArray,F=t.forEach,B=t.extend,U=t.copy;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",m);var V;v.prototype.concat=function(e,t){
var n={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new v(this.sourcePath+e+this.sourceSearch,B(n,t),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(e,t){function n(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}var i=t(e).split(/-(?!\\)/),s=f(i,t);return f(s,n).reverse()}var i=this.regexp.exec(e);if(!i)return null;t=t||{};var s,a,o,r=this.parameters(),l=r.length,c=this.segments.length-1,d={};if(c!==i.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(s=0;s<c;s++){o=r[s];var u=this.params[o],p=i[s+1];for(a=0;a<u.replace;a++)u.replace[a].from===p&&(p=u.replace[a].to);p&&u.array===!0&&(p=n(p)),d[o]=u.value(p)}for(;s<l;s++)o=r[s],d[o]=this.params[o].value(t[o]);return d},v.prototype.parameters=function(e){return E(e)?this.params[e]||null:this.$$paramNames},v.prototype.validates=function(e){return this.params.$$validates(e)},v.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),s=this.params;if(!this.validates(e))return null;var a,o=!1,r=n.length-1,l=i.length,c=n[0];for(a=0;a<l;a++){var d=a<r,u=i[a],p=s[u],h=p.value(e[u]),g=p.isOptional&&p.type.equals(p.value(),h),m=!!g&&p.squash,v=p.type.encode(h);if(d){var b=n[a+1];if(m===!1)null!=v&&(c+=N(v)?f(v,t).join("-"):encodeURIComponent(v)),c+=b;else if(m===!0){var y=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(y)[1]}else R(m)&&(c+=m+b)}else{if(null==v||g&&m!==!1)continue;N(v)||(v=[v]),v=f(v,encodeURIComponent).join("&"+u+"="),c+=(o?"&":"?")+(u+"="+v),o=!0}}return c},b.prototype.is=function(e,t){return!0},b.prototype.encode=function(e,t){return e},b.prototype.decode=function(e,t){return e},b.prototype.equals=function(e,t){return e==t},b.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},b.prototype.pattern=/.*/,b.prototype.toString=function(){return"{Type:"+this.name+"}"},b.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},b.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function s(e){return N(e)?e:E(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function r(e,t){return function(n){n=s(n);var i=f(n,e);return t===!0?0===h(i,o).length:a(i)}}function l(e){return function(t,n){var i=s(t),a=s(n);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],a[o]))return!1;return!0}}this.encode=r(i(e,"encode")),this.decode=r(i(e,"decode")),this.is=r(i(e,"is"),!0),this.equals=l(i(e,"equals")),this.pattern=e.pattern,this.$normalize=r(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",y),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),w.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",w),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").value("$stateParams",{}).provider("$state",x),k.$inject=[],t.module("ui.router.state").provider("$view",k),t.module("ui.router.state").provider("$uiViewScroll",$),S.$inject=["$state","$injector","$uiViewScroll","$interpolate"],C.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",S),t.module("ui.router.state").directive("uiView",C),I.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),P.$inject=["$state"],M.$inject=["$state"],t.module("ui.router.state").filter("isState",P).filter("includedByState",M)}(window,window.angular),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof exports?module.exports=t(require("angular")):t(e.angular)}(this,function(e){"use strict";function t(t){return["$rootScope","$window","$log","$timeout",function(n,i,s,a){function o(e){var t;try{t=i[e]}catch(n){t=!1}if(t&&"localStorage"===e){var s="__"+Math.round(1e7*Math.random());try{localStorage.setItem(s,s),localStorage.removeItem(s)}catch(n){t=!1}}return t}var r,l,c=o(t)||(s.warn("This browser does not support Web Storage!"),{setItem:function(){},getItem:function(){}}),d={$default:function(t){for(var n in t)e.isDefined(d[n])||(d[n]=t[n]);return d},$reset:function(e){for(var t in d)"$"===t[0]||delete d[t]&&c.removeItem("ngStorage-"+t);return d.$default(e)}};try{c=i[t],c.length}catch(u){s.warn("This browser does not support Web Storage!"),c={}}for(var p,h=0,f=c.length;h<f;h++)(p=c.key(h))&&"ngStorage-"===p.slice(0,10)&&(d[p.slice(10)]=e.fromJson(c.getItem(p)));return r=e.copy(d),n.$watch(function(){var t;l||(l=a(function(){if(l=null,!e.equals(d,r)){t=e.copy(r),e.forEach(d,function(n,i){e.isDefined(n)&&"$"!==i[0]&&c.setItem("ngStorage-"+i,e.toJson(n)),delete t[i]});for(var n in t)c.removeItem("ngStorage-"+n);r=e.copy(d)}},100,!1))}),i.addEventListener&&i.addEventListener("storage",function(t){"ngStorage-"===t.key.slice(0,10)&&(t.newValue?d[t.key.slice(10)]=e.fromJson(t.newValue):delete d[t.key.slice(10)],r=e.copy(d),n.$apply())}),d}]}return e.module("ngStorage",[]).factory("$localStorage",t("localStorage")).factory("$sessionStorage",t("sessionStorage"))}),hashCodeGenerator=function(e){var t,n,i,s=0;if(0===e.length)return s;for(t=0,i=e.length;t<i;t++)n=e.charCodeAt(t),s=(s<<5)-s+n,s|=0;return Math.abs(s)},function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.io=e()}}(function(){var e;return function t(e,n,i){function s(o,r){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return s(n?n:t)},d,d.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){t.exports=e("./lib/")},{"./lib/":2}],2:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":3,"engine.io-parser":19}],3:[function(e,t,n){(function(n){function i(e,t){if(!(this instanceof i))return new i(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=d(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=d(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized?null:t.rejectUnauthorized;var s="object"==typeof n&&n;s.global===s&&t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),this.open()}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=e("./transports"),o=e("component-emitter"),r=e("debug")("engine.io-client:socket"),l=e("indexof"),c=e("engine.io-parser"),d=e("parseuri"),u=e("parsejson"),p=e("parseqs");t.exports=i,i.priorWebsocketSuccess=!1,o(i.prototype),i.protocol=c.protocol,i.Socket=i,i.Transport=e("./transport"),i.transports=e("./transports"),i.parser=e("engine.io-parser"),i.prototype.createTransport=function(e){r('creating transport "%s"',e);var t=s(this.query);t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},i.prototype.open=function(){var e;if(this.rememberUpgrade&&i.priorWebsocketSuccess&&this.transports.indexOf("websocket")!=-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(n){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},i.prototype.setTransport=function(e){r("setting transport %s",e.name);var t=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},i.prototype.probe=function(e){function t(){if(p.onlyBinaryUpgrades){var t=!this.supportsBinary&&p.transport.supportsBinary;u=u||t}u||(r('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){if(!u)if("pong"==t.type&&"probe"==t.data){if(r('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",d),!d)return;i.priorWebsocketSuccess="websocket"==d.name,r('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){u||"closed"!=p.readyState&&(r("changing transport and sending upgrade packet"),c(),p.setTransport(d),d.send([{type:"upgrade"}]),p.emit("upgrade",d),d=null,p.upgrading=!1,p.flush())})}else{r('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=d.name,p.emit("upgradeError",n)}}))}function n(){u||(u=!0,c(),d.close(),d=null)}function s(t){var i=new Error("probe error: "+t);i.transport=d.name,n(),r('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",i)}function a(){s("transport closed")}function o(){s("socket closed")}function l(e){d&&e.name!=d.name&&(r('"%s" works - aborting "%s"',e.name,d.name),n())}function c(){d.removeListener("open",t),d.removeListener("error",s),d.removeListener("close",a),p.removeListener("close",o),p.removeListener("upgrading",l)}r('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),u=!1,p=this;i.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",s),d.once("close",a),this.once("close",o),this.once("upgrading",l),d.open()},i.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",i.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},i.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else r('packet received with socket readyState "%s"',this.readyState)},i.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},i.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},i.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},i.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},i.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},i.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},i.prototype.write=i.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},i.prototype.sendPacket=function(e,t,n,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof n&&(i=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){n=n||{},n.compress=!1!==n.compress;var s={type:e,data:t,options:n};this.emit("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}},i.prototype.close=function(){function e(){i.onClose("forced close"),r("socket closing - telling transport to close"),i.transport.close()}function t(){i.removeListener("upgrade",t),i.removeListener("upgradeError",t),e()}function n(){i.once("upgrade",t),i.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var i=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},i.prototype.onError=function(e){r("socket error %j",e),i.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},i.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){r('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},i.prototype.filterUpgrades=function(e){for(var t=[],n=0,i=e.length;n<i;n++)~l(this.transports,e[n])&&t.push(e[n]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./transport":4,"./transports":5,"component-emitter":15,debug:17,"engine.io-parser":19,indexof:23,parsejson:26,parseqs:27,parseuri:28}],4:[function(e,t,n){function i(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var s=e("engine.io-parser"),a=e("component-emitter");t.exports=i,a(i.prototype),i.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},i.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(e){var t=s.decodePacket(e,this.socket.binaryType);this.onPacket(t)},i.prototype.onPacket=function(e){this.emit("packet",e)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":15,"engine.io-parser":19}],5:[function(e,t,n){(function(t){function i(e){var n,i=!1,r=!1,l=!1!==e.jsonp;if(t.location){var c="https:"==location.protocol,d=location.port;d||(d=c?443:80),i=e.hostname!=location.hostname||d!=e.port,r=e.secure!=c}if(e.xdomain=i,e.xscheme=r,n=new s(e),"open"in n&&!e.forceJSONP)return new a(e);if(!l)throw new Error("JSONP disabled");return new o(e)}var s=e("xmlhttprequest-ssl"),a=e("./polling-xhr"),o=e("./polling-jsonp"),r=e("./websocket");n.polling=i,n.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling-jsonp":6,"./polling-xhr":7,"./websocket":9,"xmlhttprequest-ssl":10}],6:[function(e,t,n){(function(n){function i(){}function s(e){a.call(this,e),this.query=this.query||{},r||(n.___eio||(n.___eio=[]),r=n.___eio),this.index=r.length;var t=this;r.push(function(e){t.onData(e)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=i)},!1)}var a=e("./polling"),o=e("component-inherit");t.exports=s;var r,l=/\n/g,c=/\\n/g;o(s,a),s.prototype.supportsBinary=!1,s.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),a.prototype.doClose.call(this)},s.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var i="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);i&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},s.prototype.doWrite=function(e,t){function n(){i(),t()}function i(){if(s.iframe)try{s.form.removeChild(s.iframe)}catch(e){s.onError("jsonp polling iframe removal error",e)}try{var t='<iframe src="javascript:0" name="'+s.iframeId+'">';a=document.createElement(t)}catch(e){a=document.createElement("iframe"),a.name=s.iframeId,a.src="javascript:0"}a.id=s.iframeId,s.form.appendChild(a),s.iframe=a}var s=this;if(!this.form){var a,o=document.createElement("form"),r=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=d,o.method="POST",o.setAttribute("accept-charset","utf-8"),r.name="d",o.appendChild(r),document.body.appendChild(o),this.form=o,this.area=r}this.form.action=this.uri(),i(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(u){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==s.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-inherit":16}],7:[function(e,t,n){(function(n){function i(){}function s(e){if(l.call(this,e),n.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=n.location.hostname||i!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function a(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function o(){for(var e in a.requests)a.requests.hasOwnProperty(e)&&a.requests[e].abort()}var r=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),d=e("component-inherit"),u=e("debug")("engine.io-client:polling-xhr");t.exports=s,t.exports.Request=a,d(s,l),s.prototype.supportsBinary=!0,s.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new a(e)},s.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,i=this.request({method:"POST",data:e,isBinary:n}),s=this;i.on("success",t),i.on("error",function(e){s.onError("xhr post error",e)}),this.sendXhr=i},s.prototype.doPoll=function(){u("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(a.prototype),a.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),i=this;try{u("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck(!0);for(var s in this.extraHeaders)this.extraHeaders.hasOwnProperty(s)&&t.setRequestHeader(s,this.extraHeaders[s])}}catch(o){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(o){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},u("xhr data %s",this.data),t.send(this.data)}catch(o){return void setTimeout(function(){i.onError(o)},0)}n.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)},a.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},a.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},a.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},a.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=i:this.xhr.onreadystatechange=i,e)try{this.xhr.abort()}catch(t){}n.document&&delete a.requests[this.index],this.xhr=null}},a.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(n){for(var i=new Uint8Array(this.xhr.response),s=[],a=0,o=i.length;a<o;a++)s.push(i[a]);e=String.fromCharCode.apply(null,s)}else e=this.xhr.responseText}catch(n){this.onError(n)}null!=e&&this.onData(e)},a.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},a.prototype.abort=function(){this.cleanup()},n.document&&(a.requestsCount=0,a.requests={},n.attachEvent?n.attachEvent("onunload",o):n.addEventListener&&n.addEventListener("beforeunload",o,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./polling":8,"component-emitter":15,"component-inherit":16,debug:17,"xmlhttprequest-ssl":10}],8:[function(e,t,n){function i(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),s.call(this,e)}var s=e("../transport"),a=e("parseqs"),o=e("engine.io-parser"),r=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:polling");t.exports=i;var d=function(){var t=e("xmlhttprequest-ssl"),n=new t({xdomain:!1});return null!=n.responseType}();r(i,s),i.prototype.name="polling",i.prototype.doOpen=function(){this.poll()},i.prototype.pause=function(e){function t(){c("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var i=0;this.polling&&(c("we are currently polling - waiting to pause"),i++,this.once("pollComplete",function(){c("pre-pause polling complete"),--i||t()})),this.writable||(c("we are currently writing - waiting to pause"),i++,this.once("drain",function(){c("pre-pause writing complete"),--i||t()}))}else t()},i.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},i.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,i){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},i.prototype.doClose=function(){function e(){c("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},i.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")},t=this;o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||e.sid||(e.b64=1),e=a.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,"xmlhttprequest-ssl":10,yeast:30}],9:[function(e,t,n){(function(n){function i(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,s.call(this,e)}var s=e("../transport"),a=e("engine.io-parser"),o=e("parseqs"),r=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),d=n.WebSocket||n.MozWebSocket,u=d;if(!u&&"undefined"==typeof window)try{u=e("ws")}catch(p){}t.exports=i,r(i,s),i.prototype.name="websocket",i.prototype.supportsBinary=!0,i.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.ws=d?new u(e):new u(e,t,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},i.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(i.prototype.onData=function(e){var t=this;setTimeout(function(){s.prototype.onData.call(t,e)},0)}),i.prototype.write=function(e){function t(){i.emit("flush"),setTimeout(function(){i.writable=!0,i.emit("drain")},0)}var i=this;this.writable=!1;for(var s=e.length,o=0,r=s;o<r;o++)!function(e){a.encodePacket(e,i.supportsBinary,function(a){if(!d){var o={};if(e.options&&(o.compress=e.options.compress),i.perMessageDeflate){var r="string"==typeof a?n.Buffer.byteLength(a):a.length;r<i.perMessageDeflate.threshold&&(o.compress=!1)}}try{d?i.ws.send(a):i.ws.send(a,o)}catch(l){c("websocket closed before onclose event")}--s||t()})}(e[o])},i.prototype.onClose=function(){s.prototype.onClose.call(this)},i.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},i.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);var i=this.hostname.indexOf(":")!==-1;return t+"://"+(i?"["+this.hostname+"]":this.hostname)+n+this.path+e},i.prototype.check=function(){return!(!u||"__initialize"in u&&this.name===i.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"../transport":4,"component-inherit":16,debug:17,"engine.io-parser":19,parseqs:27,ws:void 0,yeast:30}],10:[function(e,t,n){var i=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,s=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||i))return new XMLHttpRequest}catch(a){}try{if("undefined"!=typeof XDomainRequest&&!n&&s)return new XDomainRequest}catch(a){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}},{"has-cors":22}],11:[function(e,t,n){function i(e,t,n){function i(e,s){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(a=!0,t(e),t=n):0!==i.count||a||t(null,s)}var a=!1;return n=n||s,i.count=e,0===e?t():i}function s(){}t.exports=i},{}],12:[function(e,t,n){t.exports=function(e,t,n){var i=e.byteLength;if(t=t||0,n=n||i,e.slice)return e.slice(t,n);if(t<0&&(t+=i),n<0&&(n+=i),n>i&&(n=i),t>=i||t>=n||0===i)return new ArrayBuffer(0);for(var s=new Uint8Array(e),a=new Uint8Array(n-t),o=t,r=0;o<n;o++,r++)a[r]=s[o];return a.buffer}},{}],13:[function(e,t,n){!function(e){"use strict";n.encode=function(t){var n,i=new Uint8Array(t),s=i.length,a="";for(n=0;n<s;n+=3)a+=e[i[n]>>2],a+=e[(3&i[n])<<4|i[n+1]>>4],a+=e[(15&i[n+1])<<2|i[n+2]>>6],a+=e[63&i[n+2]];return s%3===2?a=a.substring(0,a.length-1)+"=":s%3===1&&(a=a.substring(0,a.length-2)+"=="),a},n.decode=function(t){var n,i,s,a,o,r=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(r--,"="===t[t.length-2]&&r--);var d=new ArrayBuffer(r),u=new Uint8Array(d);for(n=0;n<l;n+=4)i=e.indexOf(t[n]),s=e.indexOf(t[n+1]),a=e.indexOf(t[n+2]),o=e.indexOf(t[n+3]),u[c++]=i<<2|s>>4,u[c++]=(15&s)<<4|a>>2,u[c++]=(3&a)<<6|63&o;return d}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],14:[function(e,t,n){(function(e){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){
var i=n.buffer;if(n.byteLength!==i.byteLength){var s=new Uint8Array(n.byteLength);s.set(new Uint8Array(i,n.byteOffset,n.byteLength)),i=s.buffer}e[t]=i}}}function i(e,t){t=t||{};var i=new a;n(e);for(var s=0;s<e.length;s++)i.append(e[s]);return t.type?i.getBlob(t.type):i.getBlob()}function s(e,t){return n(e),new Blob(e,t||{})}var a=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(t){return!1}}(),r=o&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),l=a&&a.prototype.append&&a.prototype.getBlob;t.exports=function(){return o?r?e.Blob:s:l?i:void 0}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],15:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){i.off(e,n),t.apply(this,arguments)}var i=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===t||i.fn===t){n.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],16:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],17:[function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function s(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var s=0,a=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(s++,"%c"===e&&(a=s))}),e.splice(a,0,i),e}function a(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}}function r(){var e;try{e=n.storage.debug}catch(t){}return e}function l(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=a,n.formatArgs=s,n.save=o,n.load=r,n.useColors=i,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(r())},{"./debug":18}],18:[function(e,t,n){function i(){return n.colors[d++%n.colors.length]}function s(e){function t(){}function s(){var e=s,t=+new Date,a=t-(c||t);e.diff=a,e.prev=c,e.curr=t,c=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=i());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var r=0;o[0]=o[0].replace(/%([a-z%])/g,function(t,i){if("%%"===t)return t;r++;var s=n.formatters[i];if("function"==typeof s){var a=o[r];t=s.call(e,a),o.splice(r,1),r--}return t}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(e,o));var l=s.log||n.log||console.log.bind(console);l.apply(e,o)}t.enabled=!1,s.enabled=!0;var a=n.enabled(e)?s:t;return a.namespace=e,a}function a(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),i=t.length,s=0;s<i;s++)t[s]&&(e=t[s].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function o(){n.enable("")}function r(e){var t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=s,n.coerce=l,n.disable=o,n.enable=a,n.enabled=r,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var c,d=0},{ms:25}],19:[function(e,t,n){(function(t){function i(e,t){var i="b"+n.packets[e.type]+e.data.data;return t(i)}function s(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var s=e.data,a=new Uint8Array(s),o=new Uint8Array(1+s.byteLength);o[0]=v[e.type];for(var r=0;r<a.length;r++)o[r+1]=a[r];return i(o.buffer)}function a(e,t,i){if(!t)return n.encodeBase64Packet(e,i);var s=new FileReader;return s.onload=function(){e.data=s.result,n.encodePacket(e,t,!0,i)},s.readAsArrayBuffer(e.data)}function o(e,t,i){if(!t)return n.encodeBase64Packet(e,i);if(m)return a(e,t,i);var s=new Uint8Array(1);s[0]=v[e.type];var o=new w([s.buffer,e.data]);return i(o)}function r(e,t,n){for(var i=new Array(e.length),s=p(e.length,n),a=function(e,n,s){t(n,function(t,n){i[e]=n,s(t,i)})},o=0;o<e.length;o++)a(o,e[o],s)}var l=e("./keys"),c=e("has-binary"),d=e("arraybuffer.slice"),u=e("base64-arraybuffer"),p=e("after"),h=e("utf8"),f=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),m=f||g;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=l(v),y={type:"error",data:"parser error"},w=e("blob");n.encodePacket=function(e,n,a,r){"function"==typeof n&&(r=n,n=!1),"function"==typeof a&&(r=a,a=null);var l=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&l instanceof ArrayBuffer)return s(e,n,r);if(w&&l instanceof t.Blob)return o(e,n,r);if(l&&l.base64)return i(e,r);var c=v[e.type];return void 0!==e.data&&(c+=a?h.encode(String(e.data)):String(e.data)),r(""+c)},n.encodeBase64Packet=function(e,i){var s="b"+n.packets[e.type];if(w&&e.data instanceof t.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];i(s+e)},a.readAsDataURL(e.data)}var o;try{o=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(r){for(var l=new Uint8Array(e.data),c=new Array(l.length),d=0;d<l.length;d++)c[d]=l[d];o=String.fromCharCode.apply(null,c)}return s+=t.btoa(o),i(s)},n.decodePacket=function(e,t,i){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(i)try{e=h.decode(e)}catch(s){return y}var a=e.charAt(0);return Number(a)==a&&b[a]?e.length>1?{type:b[a],data:e.substring(1)}:{type:b[a]}:y}var o=new Uint8Array(e),a=o[0],r=d(e,1);return w&&"blob"===t&&(r=new w([r])),{type:b[a],data:r}},n.decodeBase64Packet=function(e,n){var i=b[e.charAt(0)];if(!t.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var s=u.decode(e.substr(1));return"blob"===n&&w&&(s=new w([s])),{type:i,data:s}},n.encodePayload=function(e,t,i){function s(e){return e.length+":"+e}function a(e,i){n.encodePacket(e,!!o&&t,!0,function(e){i(null,s(e))})}"function"==typeof t&&(i=t,t=null);var o=c(e);return t&&o?w&&!m?n.encodePayloadAsBlob(e,i):n.encodePayloadAsArrayBuffer(e,i):e.length?void r(e,a,function(e,t){return i(t.join(""))}):i("0:")},n.decodePayload=function(e,t,i){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,i);"function"==typeof t&&(i=t,t=null);var s;if(""==e)return i(y,0,1);for(var a,o,r="",l=0,c=e.length;l<c;l++){var d=e.charAt(l);if(":"!=d)r+=d;else{if(""==r||r!=(a=Number(r)))return i(y,0,1);if(o=e.substr(l+1,a),r!=o.length)return i(y,0,1);if(o.length){if(s=n.decodePacket(o,t,!0),y.type==s.type&&y.data==s.data)return i(y,0,1);var u=i(s,l+a,c);if(!1===u)return}l+=a,r=""}}return""!=r?i(y,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){return t(null,e)})}return e.length?void r(e,i,function(e,n){var i=n.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),s=new Uint8Array(i),a=0;return n.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);n=i.buffer}t?s[a++]=0:s[a++]=1;for(var r=n.byteLength.toString(),o=0;o<r.length;o++)s[a++]=parseInt(r[o]);s[a++]=255;for(var i=new Uint8Array(n),o=0;o<i.length;o++)s[a++]=i[o]}),t(s.buffer)}):t(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(e,t){function i(e,t){n.encodePacket(e,!0,!0,function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);e=i.buffer,n[0]=0}for(var a=e instanceof ArrayBuffer?e.byteLength:e.size,o=a.toString(),r=new Uint8Array(o.length+1),s=0;s<o.length;s++)r[s]=parseInt(o[s]);if(r[o.length]=255,w){var l=new w([n.buffer,r.buffer,e]);t(null,l)}})}r(e,i,function(e,n){return t(new w(n))})},n.decodePayloadAsBinary=function(e,t,i){"function"==typeof t&&(i=t,t=null);for(var s=e,a=[],o=!1;s.byteLength>0;){for(var r=new Uint8Array(s),l=0===r[0],c="",u=1;255!=r[u];u++){if(c.length>310){o=!0;break}c+=r[u]}if(o)return i(y,0,1);s=d(s,2+c.length),c=parseInt(c);var p=d(s,0,c);if(l)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(h){var f=new Uint8Array(p);p="";for(var u=0;u<f.length;u++)p+=String.fromCharCode(f[u])}a.push(p),s=d(s,c)}var g=a.length;a.forEach(function(e,s){i(n.decodePacket(e,t,!0),s,g)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./keys":20,after:11,"arraybuffer.slice":12,"base64-arraybuffer":13,blob:14,"has-binary":21,utf8:29}],20:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var i in e)n.call(e,i)&&t.push(i);return t}},{}],21:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(s(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0}return!1}return t(e)}var s=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:24}],22:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(i){t.exports=!1}},{}],23:[function(e,t,n){var i=[].indexOf;t.exports=function(e,t){if(i)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],24:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],25:[function(e,t,n){function i(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*l;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function s(e){return e>=d?Math.round(e/d)+"d":e>=c?Math.round(e/c)+"h":e>=l?Math.round(e/l)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function a(e){return o(e,d,"day")||o(e,c,"hour")||o(e,l,"minute")||o(e,r,"second")||e+" ms"}function o(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,l=60*r,c=60*l,d=24*c,u=365.25*d;t.exports=function(e,t){return t=t||{},"string"==typeof e?i(e):t["long"]?a(e):s(e)}},{}],26:[function(e,t,n){(function(e){var n=/^[\],:{}\s]*$/,i=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,a=/(?:^|:|,)(?:\s*\[)+/g,o=/^\s+/,r=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(o,"").replace(r,""),e.JSON&&JSON.parse?JSON.parse(t):n.test(t.replace(i,"@").replace(s,"]").replace(a,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],27:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),i=0,s=n.length;i<s;i++){var a=n[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],28:[function(e,t,n){var i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),a=e.indexOf("]");n!=-1&&a!=-1&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));for(var o=i.exec(e||""),r={},l=14;l--;)r[s[l]]=o[l]||"";return n!=-1&&a!=-1&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],29:[function(t,n,i){(function(t){!function(s){function a(e){for(var t,n,i=[],s=0,a=e.length;s<a;)t=e.charCodeAt(s++),t>=55296&&t<=56319&&s<a?(n=e.charCodeAt(s++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),s--)):i.push(t);return i}function o(e){for(var t,n=e.length,i=-1,s="";++i<n;)t=e[i],t>65535&&(t-=65536,s+=w(t>>>10&1023|55296),t=56320|1023&t),s+=w(t);return s}function r(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function l(e,t){return w(e>>t&63|128)}function c(e){if(0==(4294967168&e))return w(e);var t="";return 0==(4294965248&e)?t=w(e>>6&31|192):0==(4294901760&e)?(r(e),t=w(e>>12&15|224),t+=l(e,6)):0==(4292870144&e)&&(t=w(e>>18&7|240),t+=l(e,12),t+=l(e,6)),t+=w(63&e|128)}function d(e){for(var t,n=a(e),i=n.length,s=-1,o="";++s<i;)t=n[s],o+=c(t);return o}function u(){if(y>=b)throw Error("Invalid byte index");var e=255&v[y];if(y++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,i,s;if(y>b)throw Error("Invalid byte index");if(y==b)return!1;if(e=255&v[y],y++,0==(128&e))return e;if(192==(224&e)){var t=u();if(s=(31&e)<<6|t,s>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=u(),n=u(),s=(15&e)<<12|t<<6|n,s>=2048)return r(s),s;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=u(),n=u(),i=u(),s=(15&e)<<18|t<<12|n<<6|i,s>=65536&&s<=1114111))return s;throw Error("Invalid UTF-8 detected")}function h(e){v=a(e),b=v.length,y=0;for(var t,n=[];(t=p())!==!1;)n.push(t);return o(n)}var f="object"==typeof i&&i,g="object"==typeof n&&n&&n.exports==f&&n,m="object"==typeof t&&t;m.global!==m&&m.window!==m||(s=m);var v,b,y,w=String.fromCharCode,x={version:"2.0.0",encode:d,decode:h};if("function"==typeof e&&"object"==typeof e.amd&&e.amd)e(function(){return x});else if(f&&!f.nodeType)if(g)g.exports=x;else{var k={},$=k.hasOwnProperty;for(var S in x)$.call(x,S)&&(f[S]=x[S])}else s.utf8=x}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],30:[function(e,t,n){"use strict";function i(e){var t="";do t=r[e%l]+t,e=Math.floor(e/l);while(e>0);return t}function s(e){var t=0;for(u=0;u<e.length;u++)t=t*l+c[e.charAt(u)];return t}function a(){var e=i(+new Date);return e!==o?(d=0,o=e):e+"."+i(d++)}for(var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),l=64,c={},d=0,u=0;u<l;u++)c[r[u]]=u;a.encode=i,a.decode=s,t.exports=a},{}],31:[function(e,t,n){function i(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=s(e),a=i.source,c=i.id,d=i.path,u=l[c]&&d in l[c].nsps,p=t.forceNew||t["force new connection"]||!1===t.multiplex||u;return p?(r("ignoring socket cache for %s",a),n=o(a,t)):(l[c]||(r("new io instance for %s",a),l[c]=o(a,t)),n=l[c]),n.socket(i.path)}var s=e("./url"),a=e("socket.io-parser"),o=e("./manager"),r=e("debug")("socket.io-client");t.exports=n=i;var l=n.managers={};n.protocol=a.protocol,n.connect=i,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./manager":32,"./socket":34,"./url":35,debug:39,"socket.io-parser":47}],32:[function(e,t,n){function i(e,t){return this instanceof i?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new r.Encoder,this.decoder=new r.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new i(e,t)}var s=e("engine.io-client"),a=e("./socket"),o=e("component-emitter"),r=e("socket.io-parser"),l=e("./on"),c=e("component-bind"),d=e("debug")("socket.io-client:manager"),u=e("indexof"),p=e("backo2"),h=Object.prototype.hasOwnProperty;t.exports=i,i.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},i.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(i.prototype),i.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},i.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},i.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},i.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},i.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},i.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},i.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},i.prototype.open=i.prototype.connect=function(e){if(d("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=s(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var i=l(t,"open",function(){n.onopen(),e&&e()}),a=l(t,"error",function(t){if(d("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var i=new Error("Connection error");i.data=t,e(i)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var o=this._timeout;d("connect attempt will timeout after %d",o);var r=setTimeout(function(){d("connect attempt timed out after %d",o),i.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",o)},o);this.subs.push({destroy:function(){clearTimeout(r)}})}return this.subs.push(i),this.subs.push(a),this},i.prototype.onopen=function(){d("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(l(e,"data",c(this,"ondata"))),this.subs.push(l(e,"ping",c(this,"onping"))),this.subs.push(l(e,"pong",c(this,"onpong"))),this.subs.push(l(e,"error",c(this,"onerror"))),this.subs.push(l(e,"close",c(this,"onclose"))),this.subs.push(l(this.decoder,"decoded",c(this,"ondecoded")))},i.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},i.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},i.prototype.ondata=function(e){this.decoder.add(e)},i.prototype.ondecoded=function(e){this.emit("packet",e)},i.prototype.onerror=function(e){d("error",e),this.emitAll("error",e)},i.prototype.socket=function(e){function t(){~u(i.connecting,n)||i.connecting.push(n)}var n=this.nsps[e];if(!n){n=new a(this,e),this.nsps[e]=n;var i=this;n.on("connecting",t),n.on("connect",function(){n.id=i.engine.id}),this.autoConnect&&t()}return n},i.prototype.destroy=function(e){var t=u(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},i.prototype.packet=function(e){d("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var i=0;i<n.length;i++)t.engine.write(n[i],e.options);t.encoding=!1,t.processPacketQueue()}))},i.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},i.prototype.cleanup=function(){d("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},i.prototype.close=i.prototype.disconnect=function(){d("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},i.prototype.onclose=function(e){d("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},i.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(d("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(d("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(d("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},i.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"./on":33,"./socket":34,backo2:36,"component-bind":37,"component-emitter":38,debug:39,"engine.io-client":1,indexof:42,"socket.io-parser":47}],33:[function(e,t,n){function i(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}t.exports=i},{}],34:[function(e,t,n){function i(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var s=e("socket.io-parser"),a=e("component-emitter"),o=e("to-array"),r=e("./on"),l=e("component-bind"),c=e("debug")("socket.io-client:socket"),d=e("has-binary");t.exports=n=i;var u={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=a.prototype.emit;a(i.prototype),i.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[r(e,"open",l(this,"onopen")),r(e,"packet",l(this,"onpacket")),r(e,"close",l(this,"onclose"))]}},i.prototype.open=i.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},i.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},i.prototype.emit=function(e){if(u.hasOwnProperty(e))return p.apply(this,arguments),this;var t=o(arguments),n=s.EVENT;d(t)&&(n=s.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},i.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},i.prototype.onopen=function(){c("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:s.CONNECT})},i.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},i.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case s.CONNECT:this.onconnect();break;case s.EVENT:this.onevent(e);break;case s.BINARY_EVENT:this.onevent(e);break;case s.ACK:this.onack(e);break;case s.BINARY_ACK:this.onack(e);break;case s.DISCONNECT:this.ondisconnect();break;case s.ERROR:this.emit("error",e.data)}},i.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},i.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var a=d(i)?s.BINARY_ACK:s.ACK;t.packet({type:a,id:e,data:i})}}},i.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},i.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},i.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},i.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},i.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},i.prototype.close=i.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:s.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},i.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},{"./on":33,"component-bind":37,"component-emitter":38,debug:39,"has-binary":41,"socket.io-parser":47,"to-array":51}],35:[function(e,t,n){(function(n){function i(e,t){var i=e,t=t||n.location;null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e="undefined"!=typeof t?t.protocol+"//"+e:"https://"+e),a("parse %s",e),i=s(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var o=i.host.indexOf(":")!==-1,r=o?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port,i.href=i.protocol+"://"+r+(t&&t.port==i.port?"":":"+i.port),i}var s=e("parseuri"),a=e("debug")("socket.io-client:url");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{debug:39,parseuri:45}],36:[function(e,t,n){function i(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=i,i.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},i.prototype.reset=function(){this.attempts=0},i.prototype.setMin=function(e){this.ms=e},i.prototype.setMax=function(e){this.max=e},i.prototype.setJitter=function(e){this.jitter=e}},{}],37:[function(e,t,n){var i=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=i.call(arguments,2);return function(){return t.apply(e,n.concat(i.call(arguments)))}}},{}],38:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===t||i.fn===t){n.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],39:[function(e,t,n){arguments[4][17][0].apply(n,arguments)},{"./debug":40,dup:17}],40:[function(e,t,n){arguments[4][18][0].apply(n,arguments)},{dup:18,ms:44}],41:[function(e,t,n){(function(n){function i(e){function t(e){if(!e)return!1;if(n.Buffer&&n.Buffer.isBuffer&&n.Buffer.isBuffer(e)||n.ArrayBuffer&&e instanceof ArrayBuffer||n.Blob&&e instanceof Blob||n.File&&e instanceof File)return!0;if(s(e)){for(var i=0;i<e.length;i++)if(t(e[i]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return!0}return!1}return t(e)}var s=e("isarray");t.exports=i}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{isarray:43}],42:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],43:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{dup:24}],44:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],45:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],46:[function(e,t,n){(function(t){var i=e("isarray"),s=e("./is-buffer");n.deconstructPacket=function(e){function t(e){if(!e)return e;if(s(e)){var a={_placeholder:!0,num:n.length};return n.push(e),a}if(i(e)){for(var o=new Array(e.length),r=0;r<e.length;r++)o[r]=t(e[r]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var l in e)o[l]=t(e[l]);return o}return e}var n=[],a=e.data,o=e;return o.data=t(a),o.attachments=n.length,{packet:o,buffers:n}},n.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){var s=t[e.num];return s}if(i(e)){for(var a=0;a<e.length;a++)e[a]=n(e[a]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=n(e[o]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},n.removeBlobs=function(e,n){function a(e,l,c){if(!e)return e;if(t.Blob&&e instanceof Blob||t.File&&e instanceof File){o++;var d=new FileReader;
d.onload=function(){c?c[l]=this.result:r=this.result,--o||n(r)},d.readAsArrayBuffer(e)}else if(i(e))for(var u=0;u<e.length;u++)a(e[u],u,e);else if(e&&"object"==typeof e&&!s(e))for(var p in e)a(e[p],p,e)}var o=0,r=e;a(r),o||n(r)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{"./is-buffer":48,isarray:43}],47:[function(e,t,n){function i(){}function s(e){var t="",i=!1;return t+=e.type,n.BINARY_EVENT!=e.type&&n.BINARY_ACK!=e.type||(t+=e.attachments,t+="-"),e.nsp&&"/"!=e.nsp&&(i=!0,t+=e.nsp),null!=e.id&&(i&&(t+=",",i=!1),t+=e.id),null!=e.data&&(i&&(t+=","),t+=u.stringify(e.data)),d("encoded %j as %s",e,t),t}function a(e,t){function n(e){var n=h.deconstructPacket(e),i=s(n.packet),a=n.buffers;a.unshift(i),t(a)}h.removeBlobs(e,n)}function o(){this.reconstructor=null}function r(e){var t={},i=0;if(t.type=Number(e.charAt(0)),null==n.types[t.type])return c();if(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type){for(var s="";"-"!=e.charAt(++i)&&(s+=e.charAt(i),i!=e.length););if(s!=Number(s)||"-"!=e.charAt(i))throw new Error("Illegal attachments");t.attachments=Number(s)}if("/"==e.charAt(i+1))for(t.nsp="";++i;){var a=e.charAt(i);if(","==a)break;if(t.nsp+=a,i==e.length)break}else t.nsp="/";var o=e.charAt(i+1);if(""!==o&&Number(o)==o){for(t.id="";++i;){var a=e.charAt(i);if(null==a||Number(a)!=a){--i;break}if(t.id+=e.charAt(i),i==e.length)break}t.id=Number(t.id)}if(e.charAt(++i))try{t.data=u.parse(e.substr(i))}catch(r){return c()}return d("decoded %s as %j",e,t),t}function l(e){this.reconPack=e,this.buffers=[]}function c(e){return{type:n.ERROR,data:"parser error"}}var d=e("debug")("socket.io-parser"),u=e("json3"),p=(e("isarray"),e("component-emitter")),h=e("./binary"),f=e("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=i,n.Decoder=o,i.prototype.encode=function(e,t){if(d("encoding packet %j",e),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type)a(e,t);else{var i=s(e);t([i])}},p(o.prototype),o.prototype.add=function(e){var t;if("string"==typeof e)t=r(e),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type?(this.reconstructor=new l(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!f(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,this.emit("decoded",t))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},l.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},l.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":49,debug:39,isarray:43,json3:50}],48:[function(e,t,n){(function(e){function n(t){return e.Buffer&&e.Buffer.isBuffer(t)||e.ArrayBuffer&&t instanceof ArrayBuffer}t.exports=n}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],49:[function(e,t,n){arguments[4][15][0].apply(n,arguments)},{dup:15}],50:[function(t,n,i){(function(t){(function(){function s(e,t){function n(e){if(n[e]!==m)return n[e];var s;if("bug-string-char-index"==e)s="a"!="a"[0];else if("json"==e)s=n("json-stringify")&&n("json-parse");else{var o,r='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,d="function"==typeof l&&y;if(d){(o=function(){return 1}).toJSON=o;try{d="0"===l(0)&&"0"===l(new i)&&'""'==l(new a)&&l(b)===m&&l(m)===m&&l()===m&&"1"===l(o)&&"[1]"==l([o])&&"[null]"==l([m])&&"null"==l(null)&&"[null,null,null]"==l([m,b,null])&&l({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==r&&"1"===l(null,o)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c((-864e13)))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c((-621987552e5)))&&'"1969-12-31T23:59:59.999Z"'==l(new c((-1)))}catch(u){d=!1}}s=d}if("json-parse"==e){var p=t.parse;if("function"==typeof p)try{if(0===p("0")&&!p(!1)){o=p(r);var h=5==o.a.length&&1===o.a[0];if(h){try{h=!p('"\t"')}catch(u){}if(h)try{h=1!==p("01")}catch(u){}if(h)try{h=1!==p("1.")}catch(u){}}}}catch(u){h=!1}s=h}}return n[e]=!!s}e||(e=l.Object()),t||(t=l.Object());var i=e.Number||l.Number,a=e.String||l.String,r=e.Object||l.Object,c=e.Date||l.Date,d=e.SyntaxError||l.SyntaxError,u=e.TypeError||l.TypeError,p=e.Math||l.Math,h=e.JSON||l.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var f,g,m,v=r.prototype,b=v.toString,y=new c((-0xc782b5b800cec));try{y=y.getUTCFullYear()==-109252&&0===y.getUTCMonth()&&1===y.getUTCDate()&&10==y.getUTCHours()&&37==y.getUTCMinutes()&&6==y.getUTCSeconds()&&708==y.getUTCMilliseconds()}catch(w){}if(!n("json")){var x="[object Function]",k="[object Date]",$="[object Number]",S="[object String]",C="[object Array]",T="[object Boolean]",A=n("bug-string-char-index");if(!y)var _=p.floor,I=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(e,t){return I[t]+365*(e-1970)+_((e-1969+(t=+(t>1)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)};if((f=v.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),g=function(e,t){var n,i,s,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)f.call(i,s)&&a++;return n=i=null,a?g=2==a?function(e,t){var n,i={},s=b.call(e)==x;for(n in e)s&&"prototype"==n||f.call(i,n)||!(i[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,i,s=b.call(e)==x;for(n in e)s&&"prototype"==n||!f.call(e,n)||(i="constructor"===n)||t(n);(i||f.call(e,n="constructor"))&&t(n)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,s,a=b.call(e)==x,r=!a&&"function"!=typeof e.constructor&&o[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)a&&"prototype"==n||!r.call(e,n)||t(n);for(s=i.length;n=i[--s];r.call(e,n)&&t(n));}),g(e,t)},!n("json-stringify")){var P={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},M="000000",E=function(e,t){return(M+(t||0)).slice(-e)},O="\\u00",R=function(e){for(var t='"',n=0,i=e.length,s=!A||i>10,a=s&&(A?e.split(""):e);n<i;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=P[o];break;default:if(o<32){t+=O+E(2,o.toString(16));break}t+=s?a[n]:e.charAt(n)}}return t+'"'},L=function(e,t,n,i,s,a,o){var r,l,c,d,p,h,v,y,w,x,A,I,P,M,O,N;try{r=t[e]}catch(F){}if("object"==typeof r&&r)if(l=b.call(r),l!=k||f.call(r,"toJSON"))"function"==typeof r.toJSON&&(l!=$&&l!=S&&l!=C||f.call(r,"toJSON"))&&(r=r.toJSON(e));else if(r>-1/0&&r<1/0){if(D){for(p=_(r/864e5),c=_(p/365.2425)+1970-1;D(c+1,0)<=p;c++);for(d=_((p-D(c,0))/30.42);D(c,d+1)<=p;d++);p=1+p-D(c,d),h=(r%864e5+864e5)%864e5,v=_(h/36e5)%24,y=_(h/6e4)%60,w=_(h/1e3)%60,x=h%1e3}else c=r.getUTCFullYear(),d=r.getUTCMonth(),p=r.getUTCDate(),v=r.getUTCHours(),y=r.getUTCMinutes(),w=r.getUTCSeconds(),x=r.getUTCMilliseconds();r=(c<=0||c>=1e4?(c<0?"-":"+")+E(6,c<0?-c:c):E(4,c))+"-"+E(2,d+1)+"-"+E(2,p)+"T"+E(2,v)+":"+E(2,y)+":"+E(2,w)+"."+E(3,x)+"Z"}else r=null;if(n&&(r=n.call(t,e,r)),null===r)return"null";if(l=b.call(r),l==T)return""+r;if(l==$)return r>-1/0&&r<1/0?""+r:"null";if(l==S)return R(""+r);if("object"==typeof r){for(M=o.length;M--;)if(o[M]===r)throw u();if(o.push(r),A=[],O=a,a+=s,l==C){for(P=0,M=r.length;P<M;P++)I=L(P,r,n,i,s,a,o),A.push(I===m?"null":I);N=A.length?s?"[\n"+a+A.join(",\n"+a)+"\n"+O+"]":"["+A.join(",")+"]":"[]"}else g(i||r,function(e){var t=L(e,r,n,i,s,a,o);t!==m&&A.push(R(e)+":"+(s?" ":"")+t)}),N=A.length?s?"{\n"+a+A.join(",\n"+a)+"\n"+O+"}":"{"+A.join(",")+"}":"{}";return o.pop(),N}};t.stringify=function(e,t,n){var i,s,a,r;if(o[typeof t]&&t)if((r=b.call(t))==x)s=t;else if(r==C){a={};for(var l,c=0,d=t.length;c<d;l=t[c++],r=b.call(l),(r==S||r==$)&&(a[l]=1));}if(n)if((r=b.call(n))==$){if((n-=n%1)>0)for(i="",n>10&&(n=10);i.length<n;i+=" ");}else r==S&&(i=n.length<=10?n:n.slice(0,10));return L("",(l={},l[""]=e,l),s,a,i,"",[])}}if(!n("json-parse")){var N,F,B=a.fromCharCode,U={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},V=function(){throw N=F=null,d()},j=function(){for(var e,t,n,i,s,a=F,o=a.length;N<o;)switch(s=a.charCodeAt(N)){case 9:case 10:case 13:case 32:N++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?a.charAt(N):a[N],N++,e;case 34:for(e="@",N++;N<o;)if(s=a.charCodeAt(N),s<32)V();else if(92==s)switch(s=a.charCodeAt(++N)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=U[s],N++;break;case 117:for(t=++N,n=N+4;N<n;N++)s=a.charCodeAt(N),s>=48&&s<=57||s>=97&&s<=102||s>=65&&s<=70||V();e+=B("0x"+a.slice(t,N));break;default:V()}else{if(34==s)break;for(s=a.charCodeAt(N),t=N;s>=32&&92!=s&&34!=s;)s=a.charCodeAt(++N);e+=a.slice(t,N)}if(34==a.charCodeAt(N))return N++,e;V();default:if(t=N,45==s&&(i=!0,s=a.charCodeAt(++N)),s>=48&&s<=57){for(48==s&&(s=a.charCodeAt(N+1),s>=48&&s<=57)&&V(),i=!1;N<o&&(s=a.charCodeAt(N),s>=48&&s<=57);N++);if(46==a.charCodeAt(N)){for(n=++N;n<o&&(s=a.charCodeAt(n),s>=48&&s<=57);n++);n==N&&V(),N=n}if(s=a.charCodeAt(N),101==s||69==s){for(s=a.charCodeAt(++N),43!=s&&45!=s||N++,n=N;n<o&&(s=a.charCodeAt(n),s>=48&&s<=57);n++);n==N&&V(),N=n}return+a.slice(t,N)}if(i&&V(),"true"==a.slice(N,N+4))return N+=4,!0;if("false"==a.slice(N,N+5))return N+=5,!1;if("null"==a.slice(N,N+4))return N+=4,null;V()}return"$"},z=function(e){var t,n;if("$"==e&&V(),"string"==typeof e){if("@"==(A?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=j(),"]"!=e;n||(n=!0))n&&(","==e?(e=j(),"]"==e&&V()):V()),","==e&&V(),t.push(z(e));return t}if("{"==e){for(t={};e=j(),"}"!=e;n||(n=!0))n&&(","==e?(e=j(),"}"==e&&V()):V()),","!=e&&"string"==typeof e&&"@"==(A?e.charAt(0):e[0])&&":"==j()||V(),t[e.slice(1)]=z(j());return t}V()}return e},H=function(e,t,n){var i=q(e,t,n);i===m?delete e[t]:e[t]=i},q=function(e,t,n){var i,s=e[t];if("object"==typeof s&&s)if(b.call(s)==C)for(i=s.length;i--;)H(s,i,n);else g(s,function(e){H(s,e,n)});return n.call(e,t,s)};t.parse=function(e,t){var n,i;return N=0,F=""+e,n=z(j()),"$"!=j()&&V(),N=F=null,t&&b.call(t)==x?q((i={},i[""]=n,i),"",t):n}}}return t.runInContext=s,t}var a="function"==typeof e&&e.amd,o={"function":!0,object:!0},r=o[typeof i]&&i&&!i.nodeType&&i,l=o[typeof window]&&window||this,c=r&&o[typeof n]&&n&&!n.nodeType&&"object"==typeof t&&t;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(l=c),r&&!a)s(l,r);else{var d=l.JSON,u=l.JSON3,p=!1,h=s(l,l.JSON3={noConflict:function(){return p||(p=!0,l.JSON=d,l.JSON3=u,d=u=null),h}});l.JSON={parse:h.parse,stringify:h.stringify}}a&&e(function(){return h})}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})},{}],51:[function(e,t,n){function i(e,t){var n=[];t=t||0;for(var i=t||0;i<e.length;i++)n[i-t]=e[i];return n}t.exports=i},{}]},{},[31])(31)}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,i;!function(t){function s(e,t){return w.call(e,t)}function a(e,t){var n,i,s,a,o,r,l,c,d,u,p,h=t&&t.split("/"),f=b.map,g=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(e=e.split("/"),o=e.length-1,b.nodeIdCompat&&k.test(e[o])&&(e[o]=e[o].replace(k,"")),e=h.slice(0,h.length-1).concat(e),d=0;d<e.length;d+=1)if(p=e[d],"."===p)e.splice(d,1),d-=1;else if(".."===p){if(1===d&&(".."===e[2]||".."===e[0]))break;d>0&&(e.splice(d-1,2),d-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((h||g)&&f){for(n=e.split("/"),d=n.length;d>0;d-=1){if(i=n.slice(0,d).join("/"),h)for(u=h.length;u>0;u-=1)if(s=f[h.slice(0,u).join("/")],s&&(s=s[i])){a=s,r=d;break}if(a)break;!l&&g&&g[i]&&(l=g[i],c=d)}!a&&l&&(a=l,r=c),a&&(n.splice(0,r,a),e=n.join("/"))}return e}function o(e,n){return function(){var i=x.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),h.apply(t,i.concat([e,n]))}}function r(e){return function(t){return a(t,e)}}function l(e){return function(t){m[e]=t}}function c(e){if(s(v,e)){var n=v[e];delete v[e],y[e]=!0,p.apply(t,n)}if(!s(m,e)&&!s(y,e))throw new Error("No "+e);return m[e]}function d(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function u(e){return function(){return b&&b.config&&b.config[e]||{}}}var p,h,f,g,m={},v={},b={},y={},w=Object.prototype.hasOwnProperty,x=[].slice,k=/\.js$/;f=function(e,t){var n,i=d(e),s=i[0];return e=i[1],s&&(s=a(s,t),n=c(s)),s?e=n&&n.normalize?n.normalize(e,r(t)):a(e,t):(e=a(e,t),i=d(e),s=i[0],e=i[1],s&&(n=c(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:n}},g={require:function(e){return o(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:u(e)}}},p=function(e,n,i,a){var r,d,u,p,h,b,w=[],x=typeof i;if(a=a||e,"undefined"===x||"function"===x){for(n=!n.length&&i.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(p=f(n[h],a),d=p.f,"require"===d)w[h]=g.require(e);else if("exports"===d)w[h]=g.exports(e),b=!0;else if("module"===d)r=w[h]=g.module(e);else if(s(m,d)||s(v,d)||s(y,d))w[h]=c(d);else{if(!p.p)throw new Error(e+" missing "+d);p.p.load(p.n,o(a,!0),l(d),{}),w[h]=m[d]}u=i?i.apply(m[e],w):void 0,e&&(r&&r.exports!==t&&r.exports!==m[e]?m[e]=r.exports:u===t&&b||(m[e]=u))}else e&&(m[e]=i)},e=n=h=function(e,n,i,s,a){if("string"==typeof e)return g[e]?g[e](n):c(f(e,n).f);if(!e.splice){if(b=e,b.deps&&h(b.deps,b.callback),!n)return;n.splice?(e=n,n=i,i=null):e=t}return n=n||function(){},"function"==typeof i&&(i=s,s=a),s?p(t,e,n,i):setTimeout(function(){p(t,e,n,i)},4),h},h.config=function(e){return h(e)},e._defined=m,i=function(e,t,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");t.splice||(n=t,t=[]),s(m,e)||s(v,e)||(v[e]=[e,t,n])},i.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=i}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t){var s=t[i];"function"==typeof s&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var s in t)i.call(t,s)&&(e[s]=t[s]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,s=e.prototype.constructor;i>0&&(t.call(arguments,e.prototype.constructor),s=n.prototype.constructor),s.apply(this,arguments)}function s(){this.constructor=i}var a=t(n),o=t(e);n.displayName=e.displayName,i.prototype=new s;for(var r=0;r<o.length;r++){var l=o[r];i.prototype[l]=e.prototype[l]}for(var c=(function(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var s=n.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),s.apply(this,arguments)}}),d=0;d<a.length;d++){var u=a[d];i.prototype[u]=c(u)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},i.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=e,e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},n.Observable=i,n.generateChars=function(e){for(var t="",n=0;n<e;n++){var i=Math.floor(36*Math.random());t+=i.toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var s=0;s<n.length;s++){var a=n[s];a=a.substring(0,1).toLowerCase()+a.substring(1),a in i||(i[a]={}),s==n.length-1&&(i[a]=e[t]),i=i[a]}delete e[t]}}return e},n.hasScroll=function(t,n){var i=e(n),s=n.style.overflowX,a=n.style.overflowY;return(s!==a||"hidden"!==a&&"visible"!==a)&&("scroll"===s||"scroll"===a||(i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth))},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),s=this.options.get("translations").get(t.message);i.append(n(s(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],s=this.option(i);t.push(s)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var i=e.map(n,function(e){return e.id.toString()}),s=t.$results.find(".select2-results__option[aria-selected]");s.each(function(){var t=e(this),n=e.data(this,"data"),s=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(s,i)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==t.id&&delete i["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(var s in i){var a=i[s];n.setAttribute(s,a)}if(t.children){var o=e(n),r=document.createElement("strong");r.className="select2-results__group";e(r);this.template(t,r);for(var l=[],c=0;c<t.children.length;c++){var d=t.children[c],u=this.option(d);l.push(u)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(l),o.append(r),o.append(p)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t,n){var i=this,s=t.id+"-results";this.$results.attr("id",s),t.on("results:all",function(e){i.clear(),i.append(e.data),t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("results:append",function(e){i.append(e.data),t.isOpen()&&i.setClasses()}),t.on("query",function(e){i.hideMessages(),i.showLoading(e)}),t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),t.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),t.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=i.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=i.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e);if(0!==n){var s=n-1;0===e.length&&(s=0);var a=t.eq(s);a.trigger("mouseenter");var o=i.$results.offset().top,r=a.offset().top,l=i.$results.scrollTop()+(r-o);0===s?i.$results.scrollTop(0):r-o<0&&i.$results.scrollTop(l)}}),t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),n=t.index(e),s=n+1;if(!(s>=t.length)){var a=t.eq(s);a.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),r=a.offset().top+a.outerHeight(!1),l=i.$results.scrollTop()+r-o;0===s?i.$results.scrollTop(0):r>o&&i.$results.scrollTop(l)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){i.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-t+e.deltaY,s=e.deltaY>0&&t-e.deltaY<=0,a=e.deltaY<0&&n<=i.$results.height();s?(i.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):a&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var n=e(this),s=n.data("data");return"true"===n.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:s}):i.trigger("close",{})):void i.trigger("select",{originalEvent:t,data:s})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var n=e(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:n,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),i=this.$results.offset().top,s=e.offset().top,a=this.$results.scrollTop()+(s-i),o=s-i;a-=2*e.outerHeight(!1),n<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(a)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),s=this.options.get("escapeMarkup"),a=i(t,n);null==a?n.style.display="none":"string"==typeof a?n.innerHTML=s(a):e(n).append(a)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},i.prototype.bind=function(e,t){var i=this,s=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",s),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.focus(),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),i=n.closest(".select2"),s=e(".select2.select2-container--open");s.each(function(){var t=e(this);if(this!=i[0]){var n=t.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function s(){s.__super__.constructor.apply(this,arguments)}return n.Extend(s,t),s.prototype.render=function(){var e=s.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},s.prototype.bind=function(e,t){var n=this;s.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.focus()}),e.on("selection:update",function(e){n.update(e.data)})},s.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},s.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},s.prototype.selectionContainer=function(){return e("<span></span>")},s.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.prop("title",t.title||t.text)},s}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,n){var s=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){s.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!s.options.get("disabled")){var n=e(this),i=n.parent(),a=i.data("data");s.trigger("unselect",{originalEvent:t,data:a})}})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(e,t){var n=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(n(e,t))},i.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var s=e[i],a=this.selectionContainer(),o=this.display(s,a);a.append(o),a.prop("title",s.title||s.text),a.data("data",s),t.push(a)}var r=this.$selection.find(".select2-selection__rendered");n.appendMany(r,t)}},i}),t.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id,i=t.length>1;if(i||n)return e.call(this,t);this.clear();var s=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(s)},t}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var i=n.data("data"),s=0;s<i.length;s++){var a={data:i[s]};if(this.trigger("unselect",a),a.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},n.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=e('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');
this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,t,i){var s=this;e.call(this,t,i),t.on("open",function(){s.$search.trigger("focus")}),t.on("close",function(){s.$search.val(""),s.$search.removeAttr("aria-activedescendant"),s.$search.trigger("focus")}),t.on("enable",function(){s.$search.prop("disabled",!1),s._transferTabIndex()}),t.on("disable",function(){s.$search.prop("disabled",!0)}),t.on("focus",function(e){s.$search.trigger("focus")}),t.on("results:focus",function(e){s.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){s.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){s._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===n.BACKSPACE&&""===s.$search.val()){var i=s.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var a=i.data("data");s.searchRemoveChoice(a),e.preventDefault()}}});var a=document.documentMode,o=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){return o?void s.$selection.off("input.search input.searchcheck"):void s.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(o&&"input"===e.type)return void s.$selection.off("input.search input.searchcheck");var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&s.handleSearch(e)})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.focus()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},i}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var s=this,a=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,i),n.on("*",function(t,n){if(e.inArray(t,a)!==-1){n=n||{};var i=e.Event("select2:"+t,{params:n});s.$element.trigger(i),e.inArray(t,o)!==-1&&(n.prevented=i.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e}),t.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),s=i.item(e);t.push(s)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var s=[];e=[e],e.push.apply(e,i);for(var a=0;a<e.length;a++){var o=e[a].id;n.inArray(o,s)===-1&&s.push(o)}t.$element.val(s),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var s=[],a=0;a<i.length;a++){var o=i[a].id;o!==e.id&&n.inArray(o,s)===-1&&s.push(o)}t.$element.val(s),t.$element.trigger("change")})},i.prototype.bind=function(e,t){var n=this;this.container=e,e.on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(e,t){var i=[],s=this,a=this.$element.children();a.each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var a=s.item(t),o=s.matches(e,a);null!==o&&i.push(o)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var i=n(t),s=this._normalizeItem(e);return s.element=t,n.data(t,"data",s),i},i.prototype.item=function(e){var t={};if(t=n.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var i=e.children("option"),s=[],a=0;a<i.length;a++){var o=n(i[a]),r=this.item(o);s.push(r)}t.children=s}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},i.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},i.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},i}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var s=this,a=this.$element.find("option"),o=a.map(function(){return s.item(n(this)).id}).get(),r=[],l=0;l<e.length;l++){var c=this._normalizeItem(e[l]);if(n.inArray(c.id,o)>=0){var d=a.filter(i(c)),u=this.item(d),p=n.extend(!0,{},c,u),h=this.option(p);d.replaceWith(h)}else{var f=this.option(c);if(c.children){var g=this.convertToOptions(c.children);t.appendMany(f,g)}r.push(f)}}return r},i}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var s=n.ajax(e);return s.then(t),s.fail(i),s}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=a.transport(a,function(i){var a=s.processResults(i,e);s.options.get("debug")&&window.console&&console.error&&(a&&a.results&&n.isArray(a.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(a)},function(){i.status&&"0"===i.status||s.trigger("results:message",{message:"errorLoading"})});s._request=i}var s=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var a=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof a.url&&(a.url=a.url.call(this.$element,e)),"function"==typeof a.data&&(a.data=a.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var s=i.get("tags"),a=i.get("createTag");void 0!==a&&(this.createTag=a);var o=i.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,n,i),e.isArray(s))for(var r=0;r<s.length;r++){var l=s[r],c=this._normalizeItem(l),d=this.option(c);this.$element.append(d)}}return t.prototype.query=function(e,t,n){function i(e,a){for(var o=e.results,r=0;r<o.length;r++){var l=o[r],c=null!=l.children&&!i({results:l.children},!0),d=l.text===t.term;if(d||c)return!a&&(e.data=o,void n(e))}if(a)return!0;var u=s.createTag(t);if(null!=u){var p=s.option(u);p.attr("data-select2-tag",!0),s.addOptions([p]),s.insertTag(o,u)}e.results=o,n(e)}var s=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,i)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){var n=(this._lastTag,this.$element.find("option[data-select2-tag]"));n.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){function s(t){var n=o._normalizeItem(t),i=o.$element.find("option").filter(function(){return e(this).val()===n.id});if(!i.length){var s=o.option(n);s.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([s])}a(n)}function a(e){o.trigger("select",{data:e})}var o=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,s);r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),n.term=r.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,s){for(var a=i.get("tokenSeparators")||[],o=n.term,r=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};r<o.length;){var c=o[r];if(e.inArray(c,a)!==-1){var d=o.substr(0,r),u=e.extend({},n,{term:d}),p=l(u);null!=p?(s(p),o=o.substr(r+1)||"",r=0):r++}else r++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(s){var a=null!=s?s.length:0;return i.maximumSelectionLength>0&&a>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void e.call(i,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var s=this;t.call(this,n,i),this.$search.on("keydown",function(e){s.trigger("keypress",e),s._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){s.handleSearch(e)}),n.on("open",function(){s.$search.attr("tabindex",0),s.$search.focus(),window.setTimeout(function(){s.$search.focus()},0)}),n.on("close",function(){s.$search.attr("tabindex",-1),s.$search.val("")}),n.on("focus",function(){n.isOpen()&&s.$search.focus()}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=s.showSearch(e);t?s.$searchContainer.removeClass("select2-search--hide"):s.$searchContainer.addClass("select2-search--hide")}})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;i>=0;i--){var s=t[i];this.placeholder.id===s.id&&n.splice(i,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,i){var s=this;t.call(this,n,i),n.on("query",function(e){s.lastParams=e,s.loading=!0}),n.on("query:append",function(e){s.lastParams=e,s.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,s.$loadingMore[0]);if(!s.loading&&t){var n=s.$results.offset().top+s.$results.outerHeight(!1),i=s.$loadingMore.offset().top+s.$loadingMore.outerHeight(!1);n+50>=i&&s.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,s=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),s||(s=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var s=this,a="scroll.select2."+i.id,o="resize.select2."+i.id,r="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(a,function(t){var n=e(this).data("select2-scroll-position");e(this).scrollTop(n.y)}),e(window).on(a+" "+o+" "+r,function(e){s._positionDropdown(),s._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var s="scroll.select2."+i.id,a="resize.select2."+i.id,o="orientationchange.select2."+i.id,r=this.$container.parents().filter(t.hasScroll);r.off(s),e(window).off(s+" "+a+" "+o)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),s=null,a=this.$container.offset();a.bottom=a.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=a.top,o.bottom=a.top+o.height;var r={height:this.$dropdown.outerHeight(!1)},l={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},c=l.top<a.top-r.height,d=l.bottom>a.bottom+r.height,u={left:a.left,top:o.bottom},p=this.$dropdownParent;"static"===p.css("position")&&(p=p.offsetParent());var h=p.offset();u.top-=h.top,u.left-=h.left,n||i||(s="below"),d||!c||n?!c&&d&&n&&(s="below"):s="above",("above"==s||n&&"below"!==s)&&(u.top=o.top-h.top-r.height),null!=s&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+s),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+s)),this.$dropdownContainer.css(u)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,i=0;i<t.length;i++){var s=t[i];s.children?n+=e(s.children):n++}return n}function t(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return t.prototype.showSearch=function(t,n){return!(e(n.data.results)<this.minimumResultsForSearch)&&t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},e.prototype._handleSelectOnClose=function(e,t){if(t&&null!=t.originalSelect2Event){var n=t.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var s=i.data("data");null!=s.element&&s.element.selected||null==s.element&&s.selected||this.trigger("select",{data:s})}},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f,g,m,v,b,y,w,x,k,$,S,C,T,A,_){function I(){this.reset()}I.prototype.apply=function(u){if(u=e.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=f:null!=u.data?u.dataAdapter=h:u.dataAdapter=p,u.minimumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,b)),u.maximumSelectionLength>0&&(u.dataAdapter=c.Decorate(u.dataAdapter,y)),u.tags&&(u.dataAdapter=c.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=c.Decorate(u.dataAdapter,m)),null!=u.query){var _=t(u.amdBase+"compat/query");u.dataAdapter=c.Decorate(u.dataAdapter,_)}if(null!=u.initSelection){var I=t(u.amdBase+"compat/initSelection");u.dataAdapter=c.Decorate(u.dataAdapter,I)}}if(null==u.resultsAdapter&&(u.resultsAdapter=n,null!=u.ajax&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,$)),null!=u.placeholder&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,k)),u.selectOnClose&&(u.resultsAdapter=c.Decorate(u.resultsAdapter,T))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=w;else{var D=c.Decorate(w,x);u.dropdownAdapter=D}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,C)),u.closeOnSelect&&(u.dropdownAdapter=c.Decorate(u.dropdownAdapter,A)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var P=t(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=c.Decorate(u.dropdownAdapter,P)}u.dropdownAdapter=c.Decorate(u.dropdownAdapter,S)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=s:u.selectionAdapter=i,null!=u.placeholder&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,a)),u.allowClear&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,o)),u.multiple&&(u.selectionAdapter=c.Decorate(u.selectionAdapter,r)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var M=t(u.amdBase+"compat/containerCss");u.selectionAdapter=c.Decorate(u.selectionAdapter,M)}u.selectionAdapter=c.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var E=u.language.split("-"),O=E[0];u.language=[u.language,O]}else u.language=[u.language];if(e.isArray(u.language)){var R=new d;u.language.push("en");for(var L=u.language,N=0;N<L.length;N++){var F=L[N],B={};try{B=d.loadPath(F)}catch(U){try{F=this.defaults.amdLanguageBase+F,B=d.loadPath(F)}catch(V){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+F+'" could not be automatically loaded. A fallback will be used instead.');continue}}R.extend(B)}u.translations=R}else{var j=d.loadPath(this.defaults.amdLanguageBase+"en"),z=new d(u.language);z.extend(j),u.translations=z}return u},I.prototype.reset=function(){function t(e){function t(e){return u[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(i,s){if(""===e.trim(i.term))return s;if(s.children&&s.children.length>0){for(var a=e.extend(!0,{},s),o=s.children.length-1;o>=0;o--){
var r=s.children[o],l=n(i,r);null==l&&a.children.splice(o,1)}return a.children.length>0?a:n(i,a)}var c=t(s.text).toUpperCase(),d=t(i.term).toUpperCase();return c.indexOf(d)>-1?s:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:_,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},I.prototype.set=function(t,n){var i=e.camelCase(t),s={};s[i]=n;var a=c._convertData(s);e.extend(this.defaults,a)};var D=new I;return D}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function s(t,s){if(this.options=t,null!=s&&this.fromElement(s),this.options=n.apply(this.options),s&&s.is("input")){var a=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,a)}}return s.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var s={};s=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var a=t.extend(!0,{},s);a=i._convertData(a);for(var o in a)t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],a[o]):this.options[o]=a[o]);return this},s.prototype.get=function(e){return this.options[e]},s.prototype.set=function(e,t){this.options[e]=t},s}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var s=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),s.__super__.constructor.call(this);var i=e.attr("tabindex")||0;e.data("old-tabindex",i),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var o=this.render();this._placeContainer(o);var r=this.options.get("selectionAdapter");this.selection=new r(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var l=this.options.get("dropdownAdapter");this.dropdown=new l(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(s,n.Observable),s.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),t="select2-"+t},s.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},s.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var s=e.outerWidth(!1);return s<=0?"auto":s+"px"}if("style"==t){var a=e.attr("style");if("string"!=typeof a)return null;for(var o=a.split(";"),r=0,l=o.length;r<l;r+=1){var c=o[r].replace(/\s/g,""),d=c.match(n);if(null!==d&&d.length>=1)return d[1]}return null}return t},s.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},s.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},s.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},s.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,s){e.inArray(i,n)===-1&&t.trigger(i,s)})},s.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},s.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},s.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},s.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},s.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s];a.selected&&(n=!0)}else t.removedNodes&&t.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},s.prototype.trigger=function(e,t){var n=s.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===t&&(t={}),e in i){var a=i[e],o={prevented:!1,name:e,args:t};if(n.call(this,a,o),o.prevented)return void(t.prevented=!0)}n.call(this,e,t)},s.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},s.prototype.open=function(){this.isOpen()||this.trigger("query",{})},s.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},s.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},s.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},s.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},s.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},s.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},s.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},s.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},s.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},s}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,i){var s,a,o=[];s=e.trim(t.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),s=e.trim(n.attr("class")),s&&(s=""+s,e(s.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(a=i(this),null!=a&&o.push(a))})),t.attr("class",o.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var s=i.call(this),a=this.options.get("containerCssClass")||"";e.isFunction(a)&&(a=a(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||n,a.indexOf(":all:")!==-1){a=a.replace(":all:","");var r=o;o=function(e){var t=r(e);return null!=t?t+" "+e:e}}var l=this.options.get("containerCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(s,this.$element,o),s.css(l),s.addClass(a),s},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(e){return null}function i(){}return i.prototype.render=function(i){var s=i.call(this),a=this.options.get("dropdownCssClass")||"";e.isFunction(a)&&(a=a(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||n,a.indexOf(":all:")!==-1){a=a.replace(":all:","");var r=o;o=function(e){var t=r(e);return null!=t?t+" "+e:e}}var l=this.options.get("dropdownCss")||{};return e.isFunction(l)&&(l=l(this.$element)),t.syncCssClasses(s,this.$element,o),s.css(l),s.addClass(a),s},i}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var i=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){i._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function i(t,n){var s=[];return t.selected||e.inArray(t.id,n)!==-1?(t.selected=!0,s.push(t)):t.selected=!1,t.children&&s.push.apply(s,i(t.children,n)),s}for(var s=[],a=0;a<this._currentData.length;a++){var o=this._currentData[a];s.push.apply(s,i(o,this.$element.val().split(this._valueSeparator)))}n(s)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var i=this.$element.val();i+=this._valueSeparator+n.id,this.$element.val(i),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var i=[],s=0;s<e.length;s++){var a=e[s];t.id!=a.id&&i.push(a.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var i=[],s=0;s<this._currentData.length;s++){var a=this._currentData[s],o=this.matches(t,a);null!==o&&i.push(o)}n({results:i})},t.prototype.addOptions=function(t,n){var i=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,i)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,i){var s=e.extend(!0,{},i);if(null==n.term||""===e.trim(n.term))return s;if(i.children){for(var a=i.children.length-1;a>=0;a--){var o=i.children[a],r=t(n.term,o.text,o);r||s.children.splice(a,1)}if(s.children.length>0)return s}return t(n.term,i.text,i)?s:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var i=this.options.get("query");i.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var i=n.find(".dropdown-wrapper");i.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(i.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var i=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(i.join(" "),function(e){e.stopPropagation()})},e}),function(n){"function"==typeof t.define&&t.define.amd?t.define("jquery-mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(e)}(function(e){function t(t){var o=t||window.event,r=l.call(arguments,1),c=0,u=0,p=0,h=0,f=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=o.detail*-1),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(u=o.wheelDeltaX*-1),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(u=p*-1,p=0),c=0===p?u:p,"deltaY"in o&&(p=o.deltaY*-1,c=p),"deltaX"in o&&(u=o.deltaX,0===p&&(c=u*-1)),0!==p||0!==u){if(1===o.deltaMode){var m=e.data(this,"mousewheel-line-height");c*=m,p*=m,u*=m}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,p*=v,u*=v}if(h=Math.max(Math.abs(p),Math.abs(u)),(!a||h<a)&&(a=h,i(o,h)&&(a/=40)),i(o,h)&&(c/=40,u/=40,p/=40),c=Math[c>=1?"floor":"ceil"](c/a),u=Math[u>=1?"floor":"ceil"](u/a),p=Math[p>=1?"floor":"ceil"](p/a),d.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=t.clientX-b.left,g=t.clientY-b.top}return t.deltaX=u,t.deltaY=p,t.deltaFactor=a,t.offsetX=f,t.offsetY=g,t.deltaMode=0,r.unshift(t,c,u,p),s&&clearTimeout(s),s=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,r)}}function n(){a=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var s,a,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=o.length;c;)e.event.fixHooks[o[--c]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=r.length;n;)this.addEventListener(r[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=r.length;n;)this.removeEventListener(r[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),i=n["offsetParent"in e.fn?"offsetParent":"parent"]();return i.length||(i=e("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(e,t,n,i){if(null==e.fn.select2){var s=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"==typeof t){var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=e(this).data("select2");null==n&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=n[t].apply(n,a)}),e.inArray(t,s)>-1?this:i}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd)var e=jQuery.fn.select2.amd;return e.define("select2/i18n/fa",[],function(){return{errorLoading:function(){return"    ."},inputTooLong:function(e){var t=e.input.length-e.maximum,n=" "+t+"    ";return n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="  "+t+"     ";return n},loadingMore:function(){return"    ..."},maximumSelected:function(e){var t="   "+e.maximum+"    ";return t},noResults:function(){return"   "},searching:function(){return"  ..."}}}),{define:e.define,require:e.require}}(),function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}var t={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var n=e.which;switch(n){case t.COMMAND:case t.SHIFT:case t.CTRL:case t.ALT:return!0}return!!(e.metaKey||e.ctrlKey||e.altKey)},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&e<=123},isVerticalMovement:function(e){return~[t.UP,t.DOWN].indexOf(e)},isHorizontalMovement:function(e){return~[t.LEFT,t.RIGHT,t.BACKSPACE,t.DELETE].indexOf(e)},toSeparator:function(e){var n={ENTER:"\n",TAB:"\t",SPACE:" "}[e];return n?n:t[e]?void 0:e}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(n.bind(t)(e))return t;t=t.parentElement}return!1});var n=0,i=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,skipFocusser:!1,dropdownPosition:"auto",removeSelected:!0,resetSearchInput:!0,generateId:function(){return n++},appendToBody:!1,spinnerEnabled:!1,spinnerClass:"glyphicon glyphicon-refresh ui-select-spin",backspaceReset:!0}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),n=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(n)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,n,i,s){s(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return(""+e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,n){return n&&t?(""+t).replace(new RegExp(e(n),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);i.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile","$window",function(e,t,n,i,s){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-choices");var n=t.parent().attr("theme")||e.theme;return n+"/choices.tpl.html"},compile:function(i,a){if(!a.repeat)throw n("repeat","Expected 'repeat' expression.");var o=a.groupBy,r=a.groupFilter;if(o){var l=i.querySelectorAll(".ui-select-choices-group");if(1!==l.length)throw n("rows","Expected 1 .ui-select-choices-group but got '{0}'.",l.length);l.attr("ng-repeat",t.getGroupNgRepeatExpression())}var c=t.parse(a.repeat),d=i.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw n("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",c.repeatExpression(o)).attr("ng-if","$select.open");var u=i.querySelectorAll(".ui-select-choices-row-inner");if(1!==u.length)throw n("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",u.length);u.attr("uis-transclude-append","");var p=s.document.addEventListener?d:u;return p.attr("ng-click","$select.select("+c.itemName+",$select.skipFocusser,$event)"),function(t,n,s,a){a.parseRepeatAttr(s.repeat,o,r),a.disableChoiceExpression=s.uiDisableChoice,a.onHighlightCallback=s.onHighlight,a.minimumInputLength=parseInt(s.minimumInputLength)||0,a.dropdownPosition=s.position?s.position.toLowerCase():e.dropdownPosition,t.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,!s.minimumInputLength||a.search.length>=s.minimumInputLength?a.refresh(s.refresh):a.items=[]}),s.$observe("refreshDelay",function(){var n=t.$eval(s.refreshDelay);a.refreshDelay=void 0!==n?n:e.refreshDelay}),t.$watch("$select.open",function(e){e?(i.attr("role","listbox"),a.refresh(s.refresh)):n.removeAttr("role")})}}}}]),i.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","$$uisDebounce","uisRepeatParser","uiSelectMinErr","uiSelectConfig","$parse","$injector","$window",function(n,i,s,a,o,r,l,c,d,u,p){function h(e,t,n){if(e.findIndex)return e.findIndex(t,n);for(var i,s=Object(e),a=s.length>>>0,o=0;o<a;o++)if(i=s[o],t.call(n,i,o,s))return o;return-1}function f(){x.resetSearchInput&&(x.search=k,x.selected&&x.items.length&&!x.multiple&&(x.activeIndex=h(x.items,function(e){return angular.equals(this,e)},x.selected)))}function g(e,t){var n,i,s=[];for(n=0;n<t.length;n++)for(i=0;i<e.length;i++)e[i].name==[t[n]]&&s.push(e[i]);return s}function m(e,t){var n=C.indexOf(e);t&&n===-1&&C.push(e),!t&&n>-1&&C.splice(n,1)}function v(e){return C.indexOf(e)>-1}function b(e){function t(e,t){var n=i.indexOf(e);t&&n===-1&&i.push(e),!t&&n>-1&&i.splice(n,1)}function n(e){return i.indexOf(e)>-1}if(e){var i=[];x.isLocked=function(e,i){var s=!1,a=x.selected[i];return a&&(e?(s=!!e.$eval(x.lockChoiceExpression),t(a,s)):s=n(a)),s}}}function y(e){var n=!0;switch(e){case t.DOWN:if(!x.open&&x.multiple)x.activate(!1,!0);else if(x.activeIndex<x.items.length-1)for(var i=++x.activeIndex;v(x.items[i])&&i<x.items.length;)x.activeIndex=++i;break;case t.UP:var s=0===x.search.length&&x.tagging.isActivated?-1:0;if(!x.open&&x.multiple)x.activate(!1,!0);else if(x.activeIndex>s)for(var a=--x.activeIndex;v(x.items[a])&&a>s;)x.activeIndex=--a;break;case t.TAB:x.multiple&&!x.open||x.select(x.items[x.activeIndex],!0);break;case t.ENTER:x.open&&(x.tagging.isActivated||x.activeIndex>=0)?x.select(x.items[x.activeIndex],x.skipFocusser):x.activate(!1,!0);break;case t.ESC:x.close();break;default:n=!1}return n}function w(){var e=i.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw l("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(x.activeIndex<0)){var n=t[x.activeIndex],s=n.offsetTop+n.clientHeight-e[0].scrollTop,a=e[0].offsetHeight;s>a?e[0].scrollTop+=s-a:s<n.clientHeight&&(x.isGrouped&&0===x.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=n.clientHeight-s)}}var x=this,k="";if(x.placeholder=c.placeholder,x.searchEnabled=c.searchEnabled,x.sortable=c.sortable,x.refreshDelay=c.refreshDelay,x.paste=c.paste,x.resetSearchInput=c.resetSearchInput,x.refreshing=!1,x.spinnerEnabled=c.spinnerEnabled,x.spinnerClass=c.spinnerClass,x.removeSelected=c.removeSelected,x.closeOnSelect=!0,x.skipFocusser=!1,x.search=k,x.activeIndex=0,x.items=[],x.open=!1,x.focus=!1,x.disabled=!1,x.selected=void 0,x.dropdownPosition="auto",x.focusser=void 0,x.multiple=void 0,x.disableChoiceExpression=void 0,x.tagging={isActivated:!1,fct:void 0},x.taggingTokens={isActivated:!1,tokens:void 0},x.lockChoiceExpression=void 0,x.clickTriggeredSelect=!1,x.$filter=a,x.$element=i,x.$animate=function(){try{return u.get("$animate")}catch(e){return null}}(),x.searchInput=i.querySelectorAll("input.ui-select-search"),1!==x.searchInput.length)throw l("searchInput","Expected 1 input.ui-select-search but got '{0}'.",x.searchInput.length);x.isEmpty=function(){return e(x.selected)||""===x.selected||x.multiple&&0===x.selected.length},x.activate=function(e,t){if(x.disabled||x.open)x.open&&!x.searchEnabled&&x.close();else{t||f(),n.$broadcast("uis:activate"),x.open=!0,x.activeIndex=x.activeIndex>=x.items.length?0:x.activeIndex,x.activeIndex===-1&&x.taggingLabel!==!1&&(x.activeIndex=0);var a=i.querySelectorAll(".ui-select-choices-content"),o=i.querySelectorAll(".ui-select-search");if(x.$animate&&x.$animate.on&&x.$animate.enabled(a[0])){var r=function(t,n){"start"===n&&0===x.items.length?(x.$animate.off("removeClass",o[0],r),s(function(){x.focusSearchInput(e)})):"close"===n&&(x.$animate.off("enter",a[0],r),s(function(){x.focusSearchInput(e)}))};x.items.length>0?x.$animate.on("enter",a[0],r):x.$animate.on("removeClass",o[0],r)}else s(function(){x.focusSearchInput(e),!x.tagging.isActivated&&x.items.length>1&&w()})}},x.focusSearchInput=function(e){x.search=e||x.search,x.searchInput[0].focus()},x.findGroupByName=function(e){return x.groups&&x.groups.filter(function(t){return t.name===e})[0]},x.parseRepeatAttr=function(e,t,i){function s(e){var s=n.$eval(t);if(x.groups=[],angular.forEach(e,function(e){var t=angular.isFunction(s)?s(e):e[s],n=x.findGroupByName(t);n?n.items.push(e):x.groups.push({name:t,items:[e]})}),i){var a=n.$eval(i);angular.isFunction(a)?x.groups=a(x.groups):angular.isArray(a)&&(x.groups=g(x.groups,a))}x.items=[],x.groups.forEach(function(e){x.items=x.items.concat(e.items)})}function a(e){x.items=e||[]}x.setItemsFn=t?s:a,x.parserResult=r.parse(e),x.isGrouped=!!t,x.itemProperty=x.parserResult.itemName;var o=x.parserResult.source,c=function(){var e=o(n);n.$uisSource=Object.keys(e).map(function(t){var n={};return n[x.parserResult.keyName]=t,n.value=e[t],n})};x.parserResult.keyName&&(c(),x.parserResult.source=d("$uisSource"+x.parserResult.filters),n.$watch(o,function(e,t){e!==t&&c()},!0)),x.refreshItems=function(e){e=e||x.parserResult.source(n);var t=x.selected;if(x.isEmpty()||angular.isArray(t)&&!t.length||!x.multiple||!x.removeSelected)x.setItemsFn(e);else if(void 0!==e&&null!==e){var i=e.filter(function(e){return angular.isArray(t)?t.every(function(t){
return!angular.equals(e,t)}):!angular.equals(e,t)});x.setItemsFn(i)}"auto"!==x.dropdownPosition&&"up"!==x.dropdownPosition||n.calculateDropdownPos(),n.$broadcast("uis:refresh")},n.$watchCollection(x.parserResult.source,function(e){if(void 0===e||null===e)x.items=[];else{if(!angular.isArray(e))throw l("items","Expected an array but got '{0}'.",e);x.refreshItems(e),angular.isDefined(x.ngModel.$modelValue)&&(x.ngModel.$modelValue=null)}})};var $;x.refresh=function(e){void 0!==e&&($&&s.cancel($),$=s(function(){if(n.$select.search.length>=n.$select.minimumInputLength){var t=n.$eval(e);t&&angular.isFunction(t.then)&&!x.refreshing&&(x.refreshing=!0,t["finally"](function(){x.refreshing=!1}))}},x.refreshDelay))},x.isActive=function(e){if(!x.open)return!1;var t=x.items.indexOf(e[x.itemProperty]),n=t==x.activeIndex;return!(!n||t<0)&&(n&&!angular.isUndefined(x.onHighlightCallback)&&e.$eval(x.onHighlightCallback),n)};var S=function(e){return x.selected&&angular.isArray(x.selected)&&x.selected.filter(function(t){return angular.equals(t,e)}).length>0},C=[];x.isDisabled=function(e){if(x.open){var t=e[x.itemProperty],n=x.items.indexOf(t),i=!1;if(n>=0&&(angular.isDefined(x.disableChoiceExpression)||x.multiple)){if(t.isTag)return!1;x.multiple&&(i=S(t)),!i&&angular.isDefined(x.disableChoiceExpression)&&(i=!!e.$eval(x.disableChoiceExpression)),m(t,i)}return i}},x.select=function(t,i,s){if(e(t)||!v(t)){if(!x.items&&!x.search&&!x.tagging.isActivated)return;if(!t||!v(t)){if(x.clickTriggeredSelect=!1,s&&("click"===s.type||"touchend"===s.type)&&t&&(x.clickTriggeredSelect=!0),x.tagging.isActivated&&x.clickTriggeredSelect===!1){if(x.taggingLabel===!1)if(x.activeIndex<0){if(void 0===t&&(t=void 0!==x.tagging.fct?x.tagging.fct(x.search):x.search),!t||angular.equals(x.items[0],t))return}else t=x.items[x.activeIndex];else if(0===x.activeIndex){if(void 0===t)return;if(void 0!==x.tagging.fct&&"string"==typeof t){if(t=x.tagging.fct(t),!t)return}else"string"==typeof t&&(t=t.replace(x.taggingLabel,"").trim())}if(S(t))return void x.close(i)}f(),n.$broadcast("uis:select",t),x.closeOnSelect&&x.close(i)}}},x.close=function(e){x.open&&(x.ngModel&&x.ngModel.$setTouched&&x.ngModel.$setTouched(),x.open=!1,f(),n.$broadcast("uis:close",e))},x.setFocus=function(){x.focus||x.focusInput[0].focus()},x.clear=function(e){x.select(null),e.stopPropagation(),s(function(){x.focusser[0].focus()},0,!1)},x.toggle=function(e){x.open?(x.close(),e.preventDefault(),e.stopPropagation()):x.activate()},x.isLocked=function(){return!1},n.$watch(function(){return angular.isDefined(x.lockChoiceExpression)&&""!==x.lockChoiceExpression},b);var T=null,A=!1;x.sizeSearchInput=function(){var e=x.searchInput[0],t=x.$element[0],i=function(){return t.clientWidth*!!e.offsetParent},a=function(t){if(0===t)return!1;var n=t-e.offsetLeft;return n<50&&(n=t),x.searchInput.css("width",n+"px"),!0};x.searchInput.css("width","10px"),s(function(){null!==T||a(i())||(T=n.$watch(function(){A||(A=!0,n.$$postDigest(function(){A=!1,a(i())&&(T(),T=null)}))},angular.noop))})},x.searchInput.on("keydown",function(e){var i=e.which;~[t.ENTER,t.ESC].indexOf(i)&&(e.preventDefault(),e.stopPropagation()),n.$apply(function(){var n=!1;if((x.items.length>0||x.tagging.isActivated)&&(y(i)||x.searchEnabled||(e.preventDefault(),e.stopPropagation()),x.taggingTokens.isActivated)){for(var a=0;a<x.taggingTokens.tokens.length;a++)x.taggingTokens.tokens[a]===t.MAP[e.keyCode]&&x.search.length>0&&(n=!0);n&&s(function(){x.searchInput.triggerHandler("tagged");var n=x.search.replace(t.MAP[e.keyCode],"").trim();x.tagging.fct&&(n=x.tagging.fct(n)),n&&x.select(n,!0)})}}),t.isVerticalMovement(i)&&x.items.length>0&&w(),i!==t.ENTER&&i!==t.ESC||(e.preventDefault(),e.stopPropagation())}),x.searchInput.on("paste",function(e){var n;if(n=window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):(e.originalEvent||e).clipboardData.getData("text/plain"),n=x.search+n,n&&n.length>0)if(x.taggingTokens.isActivated){for(var i=[],s=0;s<x.taggingTokens.tokens.length;s++){var a=t.toSeparator(x.taggingTokens.tokens[s])||x.taggingTokens.tokens[s];if(n.indexOf(a)>-1){i=n.split(a);break}}0===i.length&&(i=[n]);var o=x.search;angular.forEach(i,function(e){var t=x.tagging.fct?x.tagging.fct(e):e;t&&x.select(t,!0)}),x.search=o||k,e.preventDefault(),e.stopPropagation()}else x.paste&&(x.paste(n),x.search=k,e.preventDefault(),e.stopPropagation())}),x.searchInput.on("tagged",function(){s(function(){f()})});var _=o(function(){x.sizeSearchInput()},50);angular.element(p).bind("resize",_),n.$on("$destroy",function(){x.searchInput.off("keyup keydown tagged blur paste"),angular.element(p).off("resize",_)}),n.$watch("$select.activeIndex",function(e){e&&i.find("input").attr("aria-activedescendant","ui-select-choices-row-"+x.generatedId+"-"+e)}),n.$watch("$select.open",function(e){e||i.find("input").removeAttr("aria-activedescendant")})}]),i.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,n,i,s,a,o){return{restrict:"EA",templateUrl:function(e,n){var i=n.theme||t.theme;return i+(angular.isDefined(n.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(s,r){var l=/{(.*)}\s*{(.*)}/.exec(r.ngClass);if(l){var c="{"+l[1]+", "+l[2]+"}";r.ngClass=c,s.attr("ng-class",c)}return angular.isDefined(r.multiple)?s.append("<ui-select-multiple/>").removeAttr("multiple"):s.append("<ui-select-single/>"),r.inputId&&(s.querySelectorAll("input.ui-select-search")[0].id=r.inputId),function(s,r,l,c,d){function u(e){if(f.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(r[0],e.target):r[0].contains(e.target),!t&&!f.clickTriggeredSelect){var n;if(f.skipFocusser)n=!0;else{var i=["input","button","textarea","select"],a=angular.element(e.target).controller("uiSelect");n=a&&a!==f,n||(n=~i.indexOf(e.target.tagName.toLowerCase()))}f.close(n),s.$digest()}f.clickTriggeredSelect=!1}}function p(){var t=i(r);v=angular.element('<div class="ui-select-placeholder"></div>'),v[0].style.width=t.width+"px",v[0].style.height=t.height+"px",r.after(v),b=r[0].style.width,e.find("body").append(r),r[0].style.position="absolute",r[0].style.left=t.left+"px",r[0].style.top=t.top+"px",r[0].style.width=t.width+"px"}function h(){null!==v&&(v.replaceWith(r),v=null,r[0].style.position="",r[0].style.left="",r[0].style.top="",r[0].style.width=b,f.setFocus())}var f=c[0],g=c[1];f.generatedId=t.generateId(),f.baseTitle=l.title||"Select box",f.focusserTitle=f.baseTitle+" focus",f.focusserId="focusser-"+f.generatedId,f.closeOnSelect=function(){return angular.isDefined(l.closeOnSelect)?a(l.closeOnSelect)():t.closeOnSelect}(),s.$watch("skipFocusser",function(){var e=s.$eval(l.skipFocusser);f.skipFocusser=void 0!==e?e:t.skipFocusser}),f.onSelectCallback=a(l.onSelect),f.onRemoveCallback=a(l.onRemove),f.ngModel=g,f.choiceGrouped=function(e){return f.isGrouped&&e&&e.name},l.tabindex&&l.$observe("tabindex",function(e){f.focusInput.attr("tabindex",e),r.removeAttr("tabindex")}),s.$watch(function(){return s.$eval(l.searchEnabled)},function(e){f.searchEnabled=void 0!==e?e:t.searchEnabled}),s.$watch("sortable",function(){var e=s.$eval(l.sortable);f.sortable=void 0!==e?e:t.sortable}),l.$observe("backspaceReset",function(){var e=s.$eval(l.backspaceReset);f.backspaceReset=void 0===e||e}),l.$observe("limit",function(){f.limit=angular.isDefined(l.limit)?parseInt(l.limit,10):void 0}),s.$watch("removeSelected",function(){var e=s.$eval(l.removeSelected);f.removeSelected=void 0!==e?e:t.removeSelected}),l.$observe("disabled",function(){f.disabled=void 0!==l.disabled&&l.disabled}),l.$observe("resetSearchInput",function(){var e=s.$eval(l.resetSearchInput);f.resetSearchInput=void 0===e||e}),l.$observe("paste",function(){f.paste=s.$eval(l.paste)}),l.$observe("tagging",function(){if(void 0!==l.tagging){var e=s.$eval(l.tagging);f.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else f.tagging={isActivated:!1,fct:void 0}}),l.$observe("taggingLabel",function(){void 0!==l.tagging&&("false"===l.taggingLabel?f.taggingLabel=!1:f.taggingLabel=void 0!==l.taggingLabel?l.taggingLabel:"(new)")}),l.$observe("taggingTokens",function(){if(void 0!==l.tagging){var e=void 0!==l.taggingTokens?l.taggingTokens.split("|"):[",","ENTER"];f.taggingTokens={isActivated:!0,tokens:e}}}),l.$observe("spinnerEnabled",function(){var e=s.$eval(l.spinnerEnabled);f.spinnerEnabled=void 0!==e?e:t.spinnerEnabled}),l.$observe("spinnerClass",function(){var e=l.spinnerClass;f.spinnerClass=void 0!==e?l.spinnerClass:t.spinnerClass}),angular.isDefined(l.autofocus)&&o(function(){f.setFocus()}),angular.isDefined(l.focusOn)&&s.$on(l.focusOn,function(){o(function(){f.setFocus()})}),e.on("click",u),s.$on("$destroy",function(){e.off("click",u)}),d(s,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw n("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);r.querySelectorAll(".ui-select-match").replaceWith(i);var s=t.querySelectorAll(".ui-select-choices");if(s.removeAttr("ui-select-choices"),s.removeAttr("data-ui-select-choices"),1!==s.length)throw n("transcluded","Expected 1 .ui-select-choices but got '{0}'.",s.length);r.querySelectorAll(".ui-select-choices").replaceWith(s);var a=t.querySelectorAll(".ui-select-no-choice");a.removeAttr("ui-select-no-choice"),a.removeAttr("data-ui-select-no-choice"),1==a.length&&r.querySelectorAll(".ui-select-no-choice").replaceWith(a)});var m=s.$eval(l.appendToBody);(void 0!==m?m:t.appendToBody)&&(s.$watch("$select.open",function(e){e?p():h()}),s.$on("$destroy",function(){h()}));var v=null,b="",y=null,w="direction-up";s.$watch("$select.open",function(){"auto"!==f.dropdownPosition&&"up"!==f.dropdownPosition||s.calculateDropdownPos()});var x=function(e,t){e=e||i(r),t=t||i(y),y[0].style.position="absolute",y[0].style.top=t.height*-1+"px",r.addClass(w)},k=function(e,t){r.removeClass(w),e=e||i(r),t=t||i(y),y[0].style.position="",y[0].style.top=""},$=function(){o(function(){if("up"===f.dropdownPosition)x();else{r.removeClass(w);var t=i(r),n=i(y),s=e[0].documentElement.scrollTop||e[0].body.scrollTop;t.top+t.height+n.height>s+e[0].documentElement.clientHeight?x(t,n):k(t,n)}y[0].style.opacity=1})},S=!1;s.calculateDropdownPos=function(){if(f.open){if(y=angular.element(r).querySelectorAll(".ui-select-dropdown"),0===y.length)return;if(""!==f.search||S||(y[0].style.opacity=0,S=!0),!i(y).height&&f.$animate&&f.$animate.on&&f.$animate.enabled(y)){var e=!0;f.$animate.on("enter",y,function(t,n){"close"===n&&e&&($(),e=!1)})}else $()}else{if(null===y||0===y.length)return;y[0].style.opacity=0,y[0].style.position="",y[0].style.top="",r.removeClass(w)}}}}}}]),i.directive("uiSelectMatch",["uiSelectConfig",function(e){function t(e,t){return e[0].hasAttribute(t)?e.attr(t):e[0].hasAttribute("data-"+t)?e.attr("data-"+t):e[0].hasAttribute("x-"+t)?e.attr("x-"+t):void 0}return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(n){n.addClass("ui-select-match");var i=n.parent(),s=t(i,"theme")||e.theme,a=angular.isDefined(t(i,"multiple"));return s+(a?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,n,i,s){function a(e){s.allowClear=!!angular.isDefined(e)&&(""===e||"true"===e.toLowerCase())}s.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){s.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",a),a(i.allowClear),s.multiple&&s.sizeSearchInput()}}}]),i.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(n,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var n,i=this,s=e.$select;angular.isUndefined(s.selected)&&(s.selected=[]),e.$evalAsync(function(){n=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){n.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){s.refreshItems&&s.refreshItems(),s.sizeSearchInput&&s.sizeSearchInput()},i.removeChoice=function(n){if(s.isLocked(null,n))return!1;var a=s.selected[n],o={};return o[s.parserResult.itemName]=a,s.selected.splice(n,1),i.activeMatchIndex=-1,s.sizeSearchInput(),t(function(){s.onRemoveCallback(e,{$item:a,$model:s.parserResult.modelMapper(e,o)})}),i.updateModel(),!0},i.getPlaceholder=function(){if(!s.selected||!s.selected.length)return s.placeholder}}],controllerAs:"$selectMultiple",link:function(s,a,o,r){function l(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function c(e){function n(){switch(e){case t.LEFT:return~f.activeMatchIndex?d:o;case t.RIGHT:return~f.activeMatchIndex&&r!==o?c:(p.activate(),!1);case t.BACKSPACE:return~f.activeMatchIndex?f.removeChoice(r)?d:r:o;case t.DELETE:return!!~f.activeMatchIndex&&(f.removeChoice(f.activeMatchIndex),r)}}var i=l(p.searchInput[0]),s=p.selected.length,a=0,o=s-1,r=f.activeMatchIndex,c=f.activeMatchIndex+1,d=f.activeMatchIndex-1,u=r;return!(i>0||p.search.length&&e==t.RIGHT)&&(p.close(),u=n(),p.selected.length&&u!==!1?f.activeMatchIndex=Math.min(o,Math.max(a,u)):f.activeMatchIndex=-1,!0)}function d(e){if(void 0===e||void 0===p.search)return!1;var t=e.filter(function(e){return void 0!==p.search.toUpperCase()&&void 0!==e&&e.toUpperCase()===p.search.toUpperCase()}).length>0;return t}function u(e,t){var n=-1;if(angular.isArray(e))for(var i=angular.copy(e),s=0;s<i.length;s++)if(void 0===p.tagging.fct)i[s]+" "+p.taggingLabel===t&&(n=s);else{var a=i[s];angular.isObject(a)&&(a.isTag=!0),angular.equals(a,t)&&(n=s)}return n}var p=r[0],h=s.ngModel=r[1],f=s.$selectMultiple;p.multiple=!0,p.focusInput=p.searchInput,h.$isEmpty=function(e){return!e||0===e.length},h.$parsers.unshift(function(){for(var e,t={},n=[],i=p.selected.length-1;i>=0;i--)t={},t[p.parserResult.itemName]=p.selected[i],e=p.parserResult.modelMapper(s,t),n.unshift(e);return n}),h.$formatters.unshift(function(e){var t,n=p.parserResult&&p.parserResult.source(s,{$select:{search:""}}),i={};if(!n)return e;var a=[],o=function(e,n){if(e&&e.length){for(var o=e.length-1;o>=0;o--){if(i[p.parserResult.itemName]=e[o],t=p.parserResult.modelMapper(s,i),p.parserResult.trackByExp){var r=/(\w*)\./.exec(p.parserResult.trackByExp),l=/\.([^\s]+)/.exec(p.parserResult.trackByExp);if(r&&r.length>0&&r[1]==p.parserResult.itemName&&l&&l.length>0&&t[l[1]]==n[l[1]])return a.unshift(e[o]),!0}if(angular.equals(t,n))return a.unshift(e[o]),!0}return!1}};if(!e)return a;for(var r=e.length-1;r>=0;r--)o(p.selected,e[r])||o(n,e[r])||a.unshift(e[r]);return a}),s.$watchCollection(function(){return h.$modelValue},function(e,t){t!=e&&(angular.isDefined(h.$modelValue)&&(h.$modelValue=null),f.refreshComponent())}),h.$render=function(){if(!angular.isArray(h.$viewValue)){if(!e(h.$viewValue))throw n("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);h.$viewValue=[]}p.selected=h.$viewValue,f.refreshComponent(),s.$evalAsync()},s.$on("uis:select",function(e,t){if(!(p.selected.length>=p.limit)){p.selected.push(t);var n={};n[p.parserResult.itemName]=t,i(function(){p.onSelectCallback(s,{$item:t,$model:p.parserResult.modelMapper(s,n)})}),f.updateModel()}}),s.$on("uis:activate",function(){f.activeMatchIndex=-1}),s.$watch("$select.disabled",function(e,t){t&&!e&&p.sizeSearchInput()}),p.searchInput.on("keydown",function(e){var n=e.which;s.$apply(function(){var i=!1;t.isHorizontalMovement(n)&&(i=c(n)),i&&n!=t.TAB&&(e.preventDefault(),e.stopPropagation())})}),p.searchInput.on("keyup",function(e){if(t.isVerticalMovement(e.which)||s.$evalAsync(function(){p.activeIndex=p.taggingLabel===!1?-1:0}),p.tagging.isActivated&&p.search.length>0){if(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||t.isVerticalMovement(e.which))return;if(p.activeIndex=p.taggingLabel===!1?-1:0,p.taggingLabel===!1)return;var n,i,a,o,r=angular.copy(p.items),l=angular.copy(p.items),c=!1,h=-1;if(void 0!==p.tagging.fct){if(a=p.$filter("filter")(r,{isTag:!0}),a.length>0&&(o=a[0]),r.length>0&&o&&(c=!0,r=r.slice(1,r.length),l=l.slice(1,l.length)),n=p.tagging.fct(p.search),l.some(function(e){return angular.equals(e,n)})||p.selected.some(function(e){return angular.equals(e,n)}))return void s.$evalAsync(function(){p.activeIndex=0,p.items=r});n&&(n.isTag=!0)}else{if(a=p.$filter("filter")(r,function(e){return e.match(p.taggingLabel)}),a.length>0&&(o=a[0]),i=r[0],void 0!==i&&r.length>0&&o&&(c=!0,r=r.slice(1,r.length),l=l.slice(1,l.length)),n=p.search+" "+p.taggingLabel,u(p.selected,p.search)>-1)return;if(d(l.concat(p.selected)))return void(c&&(r=l,s.$evalAsync(function(){p.activeIndex=0,p.items=r})));if(d(l))return void(c&&(p.items=l.slice(1,l.length)))}c&&(h=u(p.selected,n)),h>-1?r=r.slice(h+1,r.length-1):(r=[],n&&r.push(n),r=r.concat(l)),s.$evalAsync(function(){if(p.activeIndex=0,p.items=r,p.isGrouped){var e=n?r.slice(1):r;p.setItemsFn(e),n&&(p.items.unshift(n),p.groups.unshift({name:"",items:[n],tagging:!0}))}})}}),p.searchInput.on("blur",function(){i(function(){f.activeMatchIndex=-1})})}}}]),i.directive("uiSelectNoChoice",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){t.addClass("ui-select-no-choice");var n=t.parent().attr("theme")||e.theme;return n+"/no-choice.tpl.html"}}}]),i.directive("uiSelectSingle",["$timeout","$compile",function(n,i){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(s,a,o,r){var l=r[0],c=r[1];c.$parsers.unshift(function(t){if(e(t))return t;var n,i={};return i[l.parserResult.itemName]=t,n=l.parserResult.modelMapper(s,i)}),c.$formatters.unshift(function(t){if(e(t))return t;var n,i=l.parserResult&&l.parserResult.source(s,{$select:{search:""}}),a={};if(i){var o=function(e){return a[l.parserResult.itemName]=e,n=l.parserResult.modelMapper(s,a),n===t};if(l.selected&&o(l.selected))return l.selected;for(var r=i.length-1;r>=0;r--)if(o(i[r]))return i[r]}return t}),s.$watch("$select.selected",function(e){c.$viewValue!==e&&c.$setViewValue(e)}),c.$render=function(){l.selected=c.$viewValue},s.$on("uis:select",function(t,i){l.selected=i;var a={};a[l.parserResult.itemName]=i,n(function(){l.onSelectCallback(s,{$item:i,$model:e(i)?i:l.parserResult.modelMapper(s,a)})})}),s.$on("uis:close",function(e,t){n(function(){l.focusser.prop("disabled",!1),t||l.focusser[0].focus()},0,!1)}),s.$on("uis:activate",function(){d.prop("disabled",!0)});var d=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");i(d)(s),l.focusser=d,l.focusInput=d,a.parent().append(d),d.bind("focus",function(){s.$evalAsync(function(){l.focus=!0})}),d.bind("blur",function(){s.$evalAsync(function(){l.focus=!1})}),d.bind("keydown",function(e){return e.which===t.BACKSPACE&&l.backspaceReset!==!1?(e.preventDefault(),e.stopPropagation(),l.select(void 0),void s.$apply()):void(e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||(e.which!=t.DOWN&&e.which!=t.UP&&e.which!=t.ENTER&&e.which!=t.SPACE||(e.preventDefault(),e.stopPropagation(),l.activate()),s.$digest()))}),d.bind("keyup input",function(e){e.which===t.TAB||t.isControl(e)||t.isFunctionKey(e)||e.which===t.ESC||e.which==t.ENTER||e.which===t.BACKSPACE||(l.activate(d.val()),d.val(""),s.$digest())})}}}]),i.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,n){return{require:["^^uiSelect","^ngModel"],link:function(t,i,s,a){if(null===t[s.uiSelectSort])throw n("sort","Expected a list to sort");var o=a[0],r=a[1],l=angular.extend({axis:"horizontal"},t.$eval(s.uiSelectSortOptions)),c=l.axis,d="dragging",u="dropping",p="dropping-before",h="dropping-after";t.$watch(function(){return o.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(d),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text",t.$index.toString())}),i.on("dragend",function(){m(d)});var f,g=function(e,t){this.splice(t,0,this.splice(e,1)[0])},m=function(e){angular.forEach(o.$element.querySelectorAll("."+e),function(t){angular.element(t).removeClass(e)})},v=function(e){e.preventDefault();var t="vertical"===c?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===c?"offsetHeight":"offsetWidth"]/2?(m(h),i.addClass(p)):(m(p),i.addClass(h))},b=function(t){t.preventDefault();var n=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text"),10);e.cancel(f),f=e(function(){y(n)},20)},y=function(e){var n=t.$eval(s.uiSelectSort),a=n[e],o=null;o=i.hasClass(p)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,g.apply(n,[e,o]),r.$setViewValue(Date.now()),t.$apply(function(){t.$emit("uiSelectSort:change",{array:n,item:a,from:e,to:o})}),m(u),m(p),m(h),i.off("drop",b)};i.on("dragenter",function(){i.hasClass(d)||(i.addClass(u),i.on("dragover",v),i.on("drop",b))}),i.on("dragleave",function(e){e.target==i&&(m(u),m(p),m(h),i.off("dragover",v),i.off("drop",b))})}}}]),i.factory("$$uisDebounce",["$timeout",function(e){return function(t,n){var i;return function(){var s=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(s,a)},n)}}}]),i.directive("uisOpenClose",["$parse","$timeout",function(e,t){return{restrict:"A",require:"uiSelect",link:function(n,i,s,a){a.onOpenCloseCallback=e(s.uisOpenClose),n.$watch("$select.open",function(e,i){e!==i&&t(function(){a.onOpenCloseCallback(n,{isOpen:e})})})}}}]),i.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var n=this;n.parse=function(n){var i;if(i=n.match(/^\s*(?:([\s\S]+?)\s+as\s+)?(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(\s*[\s\S]+?)?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var s=i[5],a="";if(i[3]){s=i[5].replace(/(^\()|(\)$)/g,"");var o=i[5].match(/^\s*(?:[\s\S]+?)(?:[^\|]|\|\|)+([\s\S]*)\s*$/);o&&o[1].trim()&&(a=o[1],s=s.replace(a,""))}return{itemName:i[4]||i[2],keyName:i[3],source:t(s),filters:a,trackByExp:i[6],modelMapper:t(i[1]||i[4]||i[2]),repeatExpression:function(e){var t=this.itemName+" in "+(e?"$group.items":"$select.items");return this.trackByExp&&(t+=" track by "+this.trackByExp),t}}},n.getGroupNgRepeatExpression=function(){return"$group in $select.groups track by $group.name"}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu" ng-show="$select.open && $select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><span class="ui-select-choices-row-inner"></span></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open && $select.searchEnabled" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/no-choice.tpl.html",'<ul class="ui-select-no-choice dropdown-menu" ng-show="$select.items.length == 0"><li ng-transclude=""></li></ul>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-expanded="{{$select.open}}" aria-label="{{$select.baseTitle}}" ng-class="{\'spinner\': $select.refreshing}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><span ng-show="$select.open && $select.refreshing && $select.spinnerEnabled" class="ui-select-refreshing {{$select.spinnerClass}}"></span> <input type="search" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" class="form-control ui-select-search" ng-class="{ \'ui-select-search-hidden\' : !$select.searchEnabled }" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.open"><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("select2/choices.tpl.html",'<ul tabindex="-1" class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" ng-attr-id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/no-choice.tpl.html",'<div class="ui-select-no-choice dropdown" ng-show="$select.items.length == 0"><div class="dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open || $select.items.length === 0}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="search-container" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled, \'select2-search\':$select.searchEnabled}"><input type="search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" ng-class="{\'select2-active\': $select.refreshing}" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices ui-select-dropdown selectize-dropdown" ng-class="{\'single\': !$select.multiple, \'multi\': $select.multiple}"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match-multiple.tpl.html",'<div class="ui-select-match" data-value="" ng-repeat="$item in $select.selected track by $index" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'active\':$selectMultiple.activeMatchIndex === $index}" ui-select-sort="$select.selected"><span class="ui-select-match-item" ng-class="{\'select-locked\':$select.isLocked(this, $index)}"><span uis-transclude-append=""></span> <span class="remove ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&times;</span></span></div>'),
e.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match"><span ng-show="!$select.searchEnabled && ($select.isEmpty() || $select.open)" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty() || $select.open" ng-transclude=""></span></div>'),e.put("selectize/no-choice.tpl.html",'<div class="ui-select-no-choice selectize-dropdown" ng-show="$select.items.length == 0"><div class="selectize-dropdown-content"><div data-selectable="" ng-transclude=""></div></div></div>'),e.put("selectize/select-multiple.tpl.html",'<div class="ui-select-container selectize-control multi plugin-remove_button" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-model="$select.search" ng-disabled="$select.disabled" aria-expanded="{{$select.open}}" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()"><div class="ui-select-match"></div><input type="search" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-class="{\'ui-select-search-hidden\':!$select.searchEnabled}" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.isEmpty() && !$select.open" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div><div class="ui-select-no-choice"></div></div>')}]),function(e,t,n){"use strict";function i(e,t,n){if(!e)throw ngMinErr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function s(e,t){return e||t?e?t?(j(e)&&(e=e.join(" ")),j(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function a(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=j(e)?e:e&&z(e)&&e.length?e.split(/\s+/):[],V(e,function(e,s){e&&e.length>0&&(i+=s>0?" ":"",i+=n?t+e:e+t)}),i}function r(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function l(e){if(e instanceof U)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===K)return e;break;default:return U(c(e))}if(e.nodeType===K)return U(e)}function c(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType==K)return n}}function d(e,t,n){V(t,function(t){e.addClass(t,n)})}function u(e,t,n){V(t,function(t){e.removeClass(t,n)})}function p(e){return function(t,n){n.addClass&&(d(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function h(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||F;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=F},e.$$prepared=!0}return e}function f(e,t){g(e,t),m(e,t)}function g(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function v(e,t,n){var i=(t.addClass||"")+" "+(n.addClass||""),s=(t.removeClass||"")+" "+(n.removeClass||""),a=b(e.attr("class"),i,s);n.preparationClasses&&(t.preparationClasses=C(n.preparationClasses,t.preparationClasses),delete n.preparationClasses);var o=t.domOperation!==F?t.domOperation:null;return B(t,n),o&&(t.domOperation=o),a.addClass?t.addClass=a.addClass:t.addClass=null,a.removeClass?t.removeClass=a.removeClass:t.removeClass=null,t}function b(e,t,n){function i(e){z(e)&&(e=e.split(" "));var t={};return V(e,function(e){e.length&&(t[e]=!0)}),t}var s=1,a=-1,o={};e=i(e),t=i(t),V(t,function(e,t){o[t]=s}),n=i(n),V(n,function(e,t){o[t]=o[t]===s?null:a});var r={addClass:"",removeClass:""};return V(o,function(t,n){var i,o;t===s?(i="addClass",o=!e[n]):t===a&&(i="removeClass",o=e[n]),o&&(r[i].length&&(r[i]+=" "),r[i]+=n)}),r}function y(e){return e instanceof t.element?e[0]:e}function w(e,t,n){var i="";t&&(i=o(t,Q,!0)),n.addClass&&(i=C(i,o(n.addClass,X))),n.removeClass&&(i=C(i,o(n.removeClass,Z))),i.length&&(n.preparationClasses=i,e.addClass(i))}function x(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function k(e,t){var n=t?"-"+t+"s":"";return S(e,[pe,n]),[pe,n]}function $(e,t){var n=t?"paused":"",i=L+le;return S(e,[i,n]),[i,n]}function S(e,t){var n=t[0],i=t[1];e.style[n]=i}function C(e,t){return e?t?e+" "+t:e:t}function T(e){return[ue,e+"s"]}function A(e,t){var n=t?de:pe;return[n,e+"s"]}function _(e,t,n){var i=Object.create(null),s=e.getComputedStyle(t)||{};return V(n,function(e,t){var n=s[e];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=I(n)),0===n&&(n=null),i[t]=n}}),i}function I(e){var t=0,n=e.split(/\s*,\s*/);return V(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function D(e){return 0===e||null!=e}function P(e,t){var n=O,i=e+"s";return t?n+=ie:i+=" linear all",[n,i]}function M(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function E(e,t,n){V(n,function(n){e[n]=W(e[n])?e[n]:t.style.getPropertyValue(n)})}var O,R,L,N,F=t.noop,B=t.extend,U=t.element,V=t.forEach,j=t.isArray,z=t.isString,H=t.isObject,q=t.isUndefined,W=t.isDefined,G=t.isFunction,Y=t.isElement,K=1,X="-add",Z="-remove",Q="ng-",J="-active",ee="ng-animate",te="$$ngAnimateChildren",ne="";q(e.ontransitionend)&&W(e.onwebkittransitionend)?(ne="-webkit-",O="WebkitTransition",R="webkitTransitionEnd transitionend"):(O="transition",R="transitionend"),q(e.onanimationend)&&W(e.onwebkitanimationend)?(ne="-webkit-",L="WebkitAnimation",N="webkitAnimationEnd animationend"):(L="animation",N="animationend");var ie="Duration",se="Property",ae="Delay",oe="TimingFunction",re="IterationCount",le="PlayState",ce=9999,de=L+ae,ue=L+ie,pe=O+ae,he=O+ie,fe=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),a=0;a<t.length;a++)t[a]();s||e(function(){s||n()})}}var i,s;return i=t.queue=[],t.waitUntilQuiet=function(t){s&&s(),s=e(function(){s=null,t(),n()})},t}],ge=[function(){return function(e,n,i){var s=i.ngAnimateChildren;t.isString(s)&&0===s.length?n.data(te,!0):i.$observe("ngAnimateChildren",function(e){e="on"===e||"true"===e,n.data(te,e)})}}],me="$$animateCss",ve=1e3,be=3,ye=1.5,we={transitionDuration:he,transitionDelay:pe,transitionProperty:O+se,animationDuration:ue,animationDelay:de,animationIterationCount:L+re},xe={transitionDuration:he,transitionDelay:pe,animationDuration:ue,animationDelay:de},ke=["$animateProvider",function(e){var t=M(),n=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(e,i,s,l,c,d,u,v){function b(e,t){var n="$$ngAnimateParentKey",i=e.parentNode,s=i[n]||(i[n]=++B);return s+"-"+e.getAttribute("class")+"-"+t}function w(n,i,s,a){var o=t.get(s);return o||(o=_(e,n,a),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),t.put(s,o),o}function x(s,a,r,l){var c;if(t.count(r)>0&&(c=n.get(r),!c)){var d=o(a,"-stagger");i.addClass(s,d),c=_(e,s,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(s,d),n.put(r,c)}return c||{}}function C(e){U.push(e),u.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=c(),i=0;i<U.length;i++)U[i](e);U.length=0})}function I(e,t,n){var i=w(e,t,n,we),s=i.animationDelay,a=i.transitionDelay;return i.maxDelay=s&&a?Math.max(s,a):s||a,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var M=p(i),B=0,U=[];return function(e,n){function c(){p()}function u(){p(!0)}function p(t){H||W&&q||(H=!0,q=!1,n.$$skipPreparationClasses||i.removeClass(e,he),i.removeClass(e,ge),$(z,!1),k(z,!1),V(ie,function(e){z.style[e[0]]=""}),M(e,n),f(e,n),Object.keys(U).length&&V(U,function(e,t){e?z.style.setProperty(t,e):z.style.removeProperty(t)}),n.onDone&&n.onDone(),G&&G.complete(!t))}function w(e){Oe.blockTransition&&k(z,e),Oe.blockKeyframeAnimation&&$(z,!!e)}function _(){return G=new s({end:c,cancel:u}),C(F),p(),{$$willAnimate:!1,start:function(){return G},end:c}}function B(){function t(){if(!H){if(w(!1),V(ie,function(e){var t=e[0],n=e[1];z.style[t]=n}),M(e,n),i.addClass(e,ge),Oe.recalculateTimingStyles){if(fe=z.className+" "+he,$e=b(z,fe),Me=I(z,fe,$e),Ee=Me.maxDelay,K=Math.max(Ee,0),te=Me.maxDuration,0===te)return void p();Oe.hasTransitions=Me.transitionDuration>0,Oe.hasAnimations=Me.animationDuration>0}if(Oe.applyAnimationDelay&&(Ee="boolean"!=typeof n.delay&&D(n.delay)?parseFloat(n.delay):Ee,K=Math.max(Ee,0),Me.animationDelay=Ee,Re=A(Ee,!0),ie.push(Re),z.style[Re[0]]=Re[1]),ee=K*ve,ne=te*ve,n.easing){var t,r=n.easing;Oe.hasTransitions&&(t=O+oe,ie.push([t,r]),z.style[t]=r),Oe.hasAnimations&&(t=L+oe,ie.push([t,r]),z.style[t]=r)}Me.transitionDuration&&c.push(R),Me.animationDuration&&c.push(N),o=Date.now();var d=ee+ye*ne,u=o+d,h=e.data(me)||[],f=!0;if(h.length){var g=h[0];f=u>g.expectedEndTime,f?l.cancel(g.timer):h.push(p)}if(f){var v=l(s,d,!1);h[0]={timer:v,expectedEndTime:u},h.push(p),e.data(me,h)}e.on(c.join(" "),a),n.to&&(n.cleanupStyles&&E(U,z,Object.keys(n.to)),m(e,n))}}function s(){var t=e.data(me);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(me)}}function a(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||t.timeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(be));Math.max(n-o,0)>=ee&&i>=te&&(W=!0,p())}if(!H){if(!z.parentNode)return void p();var o,c=[],d=function(e){if(W)q&&e&&(q=!1,p());else if(q=!e,Me.animationDuration){var t=$(z,q);q?ie.push(t):r(ie,t)}},u=De>0&&(Me.transitionDuration&&0===Se.transitionDuration||Me.animationDuration&&0===Se.animationDuration)&&Math.max(Se.animationDelay,Se.transitionDelay);u?l(t,Math.floor(u*De*ve),!1):t(),Y.resume=function(){d(!0)},Y.pause=function(){d(!1)}}}var U={},z=y(e);if(!z||!z.parentNode||!v.enabled())return _();n=h(n);var H,q,W,G,Y,K,ee,te,ne,ie=[],ae=e.attr("class"),re=a(n);if(0===n.duration||!d.animations&&!d.transitions)return _();var le=n.event&&j(n.event)?n.event.join(" "):n.event,de=le&&n.structural,ue="",pe="";de?ue=o(le,Q,!0):le&&(ue=le),n.addClass&&(pe+=o(n.addClass,X)),n.removeClass&&(pe.length&&(pe+=" "),pe+=o(n.removeClass,Z)),n.applyClassesEarly&&pe.length&&M(e,n);var he=[ue,pe].join(" ").trim(),fe=ae+" "+he,ge=o(he,J),we=re.to&&Object.keys(re.to).length>0,ke=(n.keyframeStyle||"").length>0;if(!ke&&!we&&!he)return _();var $e,Se;if(n.stagger>0){var Ce=parseFloat(n.stagger);Se={transitionDelay:Ce,animationDelay:Ce,transitionDuration:0,animationDuration:0}}else $e=b(z,fe),Se=x(z,he,$e,xe);n.$$skipPreparationClasses||i.addClass(e,he);var Te;if(n.transitionStyle){var Ae=[O,n.transitionStyle];S(z,Ae),ie.push(Ae)}if(n.duration>=0){Te=z.style[O].length>0;var _e=P(n.duration,Te);S(z,_e),ie.push(_e)}if(n.keyframeStyle){var Ie=[L,n.keyframeStyle];S(z,Ie),ie.push(Ie)}var De=Se?n.staggerIndex>=0?n.staggerIndex:t.count($e):0,Pe=0===De;Pe&&!n.skipBlocking&&k(z,ce);var Me=I(z,fe,$e),Ee=Me.maxDelay;K=Math.max(Ee,0),te=Me.maxDuration;var Oe={};if(Oe.hasTransitions=Me.transitionDuration>0,Oe.hasAnimations=Me.animationDuration>0,Oe.hasTransitionAll=Oe.hasTransitions&&"all"==Me.transitionProperty,Oe.applyTransitionDuration=we&&(Oe.hasTransitions&&!Oe.hasTransitionAll||Oe.hasAnimations&&!Oe.hasTransitions),Oe.applyAnimationDuration=n.duration&&Oe.hasAnimations,Oe.applyTransitionDelay=D(n.delay)&&(Oe.applyTransitionDuration||Oe.hasTransitions),Oe.applyAnimationDelay=D(n.delay)&&Oe.hasAnimations,Oe.recalculateTimingStyles=pe.length>0,(Oe.applyTransitionDuration||Oe.applyAnimationDuration)&&(te=n.duration?parseFloat(n.duration):te,Oe.applyTransitionDuration&&(Oe.hasTransitions=!0,Me.transitionDuration=te,Te=z.style[O+se].length>0,ie.push(P(te,Te))),Oe.applyAnimationDuration&&(Oe.hasAnimations=!0,Me.animationDuration=te,ie.push(T(te)))),0===te&&!Oe.recalculateTimingStyles)return _();if(null!=n.delay){var Re=parseFloat(n.delay);Oe.applyTransitionDelay&&ie.push(A(Re)),Oe.applyAnimationDelay&&ie.push(A(Re,!0))}return null==n.duration&&Me.transitionDuration>0&&(Oe.recalculateTimingStyles=Oe.recalculateTimingStyles||Pe),ee=K*ve,ne=te*ve,n.skipBlocking||(Oe.blockTransition=Me.transitionDuration>0,Oe.blockKeyframeAnimation=Me.animationDuration>0&&Se.animationDelay>0&&0===Se.animationDuration),n.from&&(n.cleanupStyles&&E(U,z,Object.keys(n.from)),g(e,n)),Oe.blockTransition||Oe.blockKeyframeAnimation?w(te):n.skipBlocking||k(z,!1),{$$willAnimate:!0,end:c,start:function(){if(!H)return Y={end:c,cancel:u,resume:null,pause:null},G=new s(Y),C(B),G}}}}]}],$e=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor",s="ng-anchor-out",a="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,o,r,l,c,d,u){function h(e){return e.replace(/\bng-\S+\b/g,"")}function f(e,t){return z(e)&&(e=e.split(" ")),z(t)&&(t=t.split(" ")),e.filter(function(e){return t.indexOf(e)===-1}).join(" ")}function g(t,o,l){function c(e){var t={},n=y(e).getBoundingClientRect();return V(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=b.scrollTop;break;case"left":i+=b.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function d(){var t=e(m,{addClass:s,delay:!0,from:c(o)});return t.$$willAnimate?t:null}function u(e){return e.attr("class")||""}function p(){var t=h(u(l)),n=f(t,v),i=f(v,t),o=e(m,{to:c(l),addClass:a+" "+n,removeClass:s+" "+i,delay:!0});return o.$$willAnimate?o:null}function g(){m.remove(),o.removeClass(n),l.removeClass(n)}var m=U(y(o).cloneNode(!0)),v=h(u(m));o.addClass(n),l.addClass(n),m.addClass(i),x.append(m);var w,k=d();if(!k&&(w=p(),!w))return g();var $=k||w;return{start:function(){function e(){n&&n.end()}var t,n=$.start();return n.done(function(){return n=null,!w&&(w=p())?(n=w.start(),n.done(function(){n=null,g(),t.complete()}),n):(g(),void t.complete())}),t=new r({end:e,cancel:e})}}}function m(e,t,n,i){var s=v(e,F),a=v(t,F),o=[];if(V(i,function(e){var t=e.out,i=e["in"],s=g(n,t,i);s&&o.push(s)}),s||a||0!==o.length)return{start:function(){function e(){V(t,function(e){e.end()})}var t=[];s&&t.push(s.start()),a&&t.push(a.start()),V(o,function(e){t.push(e.start())});var n=new r({end:e,cancel:e});return r.all(t,function(e){n.complete(e)}),n}}}function v(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=C(i.event,i.preparationClasses));var s=e(n,i);return s.$$willAnimate?s:null}if(!c.animations&&!c.transitions)return F;var b=u[0].body,w=y(l),x=U(t(w)||b.contains(w)?w:b);p(d);return function(e){return e.from&&e.to?m(e.from,e.to,e.classes,e.anchors):v(e)}}]}],Se=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function s(n){n=j(n)?n:n.split(" ");for(var i=[],s={},a=0;a<n.length;a++){var o=n[a],r=e.$$registeredAnimations[o];r&&!s[o]&&(i.push(t.get(r)),s[o]=!0)}return i}var a=p(i);return function(e,t,i,o){function r(){o.domOperation(),a(e,o)}function l(e,t,i,s,a){var o;switch(i){case"animate":o=[t,s.from,s.to,a];break;case"setClass":o=[t,g,m,a];break;case"addClass":o=[t,g,a];break;case"removeClass":o=[t,m,a];break;default:o=[t,a]}o.push(s);var r=e.apply(e,o);if(r)if(G(r.start)&&(r=r.start()),r instanceof n)r.done(a);else if(G(r))return r;return F}function c(e,t,i,s,a){var o=[];return V(s,function(s){var r=s[a];r&&o.push(function(){var s,a,o=!1,c=function(e){o||(o=!0,(a||F)(e),s.complete(!e))};return s=new n({end:function(){c()},cancel:function(){c(!0)}}),a=l(r,e,t,i,function(e){var t=e===!1;c(t)}),s})}),o}function d(e,t,i,s,a){var o=c(e,t,i,s,a);if(0===o.length){var r,l;"beforeSetClass"===a?(r=c(e,"removeClass",i,s,"beforeRemoveClass"),l=c(e,"addClass",i,s,"beforeAddClass")):"setClass"===a&&(r=c(e,"removeClass",i,s,"removeClass"),l=c(e,"addClass",i,s,"addClass")),r&&(o=o.concat(r)),l&&(o=o.concat(l))}if(0!==o.length)return function(e){var t=[];return o.length&&V(o,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){V(t,function(t){e?t.cancel():t.end()})}}}3===arguments.length&&H(i)&&(o=i,i=null),o=h(o),i||(i=e.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var u,p,g=o.addClass,m=o.removeClass,v=s(i);if(v.length){var b,y;"leave"==t?(y="leave",b="afterLeave"):(y="before"+t.charAt(0).toUpperCase()+t.substr(1),b=t),"enter"!==t&&"move"!==t&&(u=d(e,t,o,v,y)),p=d(e,t,o,v,b)}if(u||p)return{start:function(){function t(t){l=!0,r(),f(e,o),c.complete(t)}function i(e){l||((s||F)(e),t(e))}var s,a=[];u&&a.push(function(e){s=u(e)}),a.length?a.push(function(e){r(),e(!0)}):r(),p&&a.push(function(e){s=p(e)});var l=!1,c=new n({end:function(){i()},cancel:function(){i(!0)}});return n.chain(a,t),c}}}}]}],Ce=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,s=t.options,a=t.classes;return e(n,i,a,s)}return function(e){if(e.from&&e.to){var i=n(e.from),s=n(e.to);if(!i&&!s)return;return{start:function(){function e(){return function(){V(a,function(e){e.end()})}}function n(e){o.complete(e)}var a=[];i&&a.push(i.start()),s&&a.push(s.start()),t.all(a,n);var o=new t({end:e(),cancel:e()});return o}}}return n(e)}}]}],Te="data-ng-animate",Ae="$ngAnimatePin",_e=["$animateProvider",function(e){function t(e,t,n,i){return o[e].some(function(e){return e(t,n,i)})}function n(e,t){e=e||{};var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var s=1,a=2,o=this.rules={skip:[],cancel:[],join:[]};o.join.push(function(e,t,i){return!t.structural&&n(t.options)}),o.skip.push(function(e,t,i){return!t.structural&&!n(t.options)}),o.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),o.skip.push(function(e,t,n){return n.structural&&n.state===a&&!t.structural}),o.cancel.push(function(e,t,n){return n.structural&&t.structural}),o.cancel.push(function(e,t,n){return n.state===a&&t.structural}),o.cancel.push(function(e,t,n){var i=t.options,s=n.options;return i.addClass&&i.addClass===s.removeClass||i.removeClass&&i.removeClass===s.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(o,r,d,u,g,m,b,k,$,S){function C(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function T(e,t){return v(e,t,{})}function A(e,t){var n=y(e),i=[],s=F[t];return s&&V(s,function(e){e.node.contains(n)&&i.push(e.callback)}),i}function _(e,i,c){function d(t,n,i,s){$(function(){var t=A(e,n);t.length&&o(function(){V(t,function(t){t(e,i,s)})})}),t.progress(n,i,s)}function u(t){x(e,c),Z(e,c),f(e,c),c.domOperation(),k.complete(!t)}var p,g;e=l(e),e&&(p=y(e),g=e.parent()),c=h(c);var k=new b,$=C();if(j(c.addClass)&&(c.addClass=c.addClass.join(" ")),c.addClass&&!z(c.addClass)&&(c.addClass=null),j(c.removeClass)&&(c.removeClass=c.removeClass.join(" ")),c.removeClass&&!z(c.removeClass)&&(c.removeClass=null),c.from&&!H(c.from)&&(c.from=null),c.to&&!H(c.to)&&(c.to=null),!p)return u(),k;var S=[p.className,c.addClass,c.removeClass].join(" ");if(!X(S))return u(),k;var _=["enter","move","leave"].indexOf(i)>=0,P=!L||R.get(p),N=!P&&O.get(p)||{},F=!!N.state;if(P||F&&N.state==s||(P=!M(e,g,i)),P)return u(),k;_&&I(e);var B={structural:_,element:e,event:i,close:u,options:c,runner:k};if(F){var U=t("skip",e,B,N);if(U)return N.state===a?(u(),k):(v(e,N.options,c),N.runner);var q=t("cancel",e,B,N);if(q)if(N.state===a)N.runner.end();else{if(!N.structural)return v(e,N.options,B.options),N.runner;N.close()}else{var W=t("join",e,B,N);if(W){if(N.state!==a)return w(e,_?i:null,c),i=B.event=N.event,c=v(e,N.options,B.options),N.runner;T(e,c)}}}else T(e,c);var G=B.structural;if(G||(G="animate"===B.event&&Object.keys(B.options.to||{}).length>0||n(B.options)),!G)return u(),D(e),k;var Y=(N.counter||0)+1;return B.counter=Y,E(e,s,B),r.$$postDigest(function(){var t=O.get(p),s=!t;t=t||{};var o=e.parent()||[],r=o.length>0&&("animate"===t.event||t.structural||n(t.options));if(s||t.counter!==Y||!r)return s&&(Z(e,c),f(e,c)),(s||_&&t.event!==i)&&(c.domOperation(),k.end()),void(r||D(e));i=!t.structural&&n(t.options,!0)?"setClass":t.event,E(e,a);var l=m(e,i,t.options);l.done(function(t){u(!t);var n=O.get(p);n&&n.counter===Y&&D(y(e)),d(k,i,"close",{})}),k.setHost(l),d(k,i,"start",{})}),k}function I(e){var t=y(e),n=t.querySelectorAll("["+Te+"]");V(n,function(e){var t=parseInt(e.getAttribute(Te)),n=O.get(e);switch(t){case a:n.runner.end();case s:n&&O.remove(e)}})}function D(e){var t=y(e);t.removeAttribute(Te),O.remove(t)}function P(e,t){return y(e)===y(t)}function M(e,t,n){var i,s=U(u[0].body),a=P(e,s)||"HTML"===e[0].nodeName,o=P(e,d),r=!1,l=e.data(Ae);for(l&&(t=l);t&&t.length;){o||(o=P(t,d));var c=t[0];if(c.nodeType!==K)break;var p=O.get(c)||{};if(r||(r=p.structural||R.get(c)),q(i)||i===!0){var h=t.data(te);W(h)&&(i=h)}if(r&&i===!1)break;o||(o=P(t,d),o||(l=t.data(Ae),l&&(t=l))),a||(a=P(t,s)),t=t.parent()}var f=!r||i;return f&&o&&a}function E(e,t,n){n=n||{},n.state=t;var i=y(e);i.setAttribute(Te,t);var s=O.get(i),a=s?B(s,n):n;O.put(i,a)}var O=new g,R=new g,L=null,N=r.$watch(function(){return 0===k.totalPendingRequests},function(e){e&&(N(),r.$$postDigest(function(){r.$$postDigest(function(){null===L&&(L=!0)})}))}),F={},G=e.classNameFilter(),X=G?function(e){return G.test(e)}:function(){return!0},Z=p($);return{on:function(e,t,n){var i=c(t);F[e]=F[e]||[],F[e].push({node:i,callback:n})},off:function(e,t,n){function i(e,t,n){var i=c(t);return e.filter(function(e){var t=e.node===i&&(!n||e.callback===n);return!t})}var s=F[e];s&&(F[e]=1===arguments.length?null:i(s,t,n))},pin:function(e,t){i(Y(e),"element","not an element"),i(Y(t),"parentElement","not an element"),e.data(Ae,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,_(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!L;else{var i=Y(e);if(i){var s=y(e),a=R.get(s);1===n?t=!a:(t=!!t,t?a&&R.remove(s):R.put(s,!0))}else t=L=!!e}return t}}}]}],Ie=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],De=["$q","$sniffer","$$animateAsyncRun",function(e,t,n){function i(e){this.setHost(e),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}var s=0,a=1,o=2;return i.chain=function(e,t){function n(){return i===e.length?void t(!0):void e[i](function(e){return e===!1?void t(!1):(i++,void n())})}var i=0;n()},i.all=function(e,t){function n(n){s=s&&n,++i===e.length&&t(s)}var i=0,s=!0;V(e,function(e){e.done(n)})},i.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===o?e():this._doneCallbacks.push(e)},progress:F,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===s&&(t._state=a,t._runInAnimationFrame(function(){t._resolve(e)}))},_resolve:function(e){this._state!==o&&(V(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=o)}},i}],Pe=["$animateProvider",function(e){function t(e,t){e.data(r,t)}function n(e){e.removeData(r)}function i(e){return e.data(r)}var a="ng-animate-ref",o=this.drivers=[],r="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,r,l,c,d,u){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,i=n.parentNode;a.put(n,e);for(var o;i;){if(o=a.get(i)){o.processed||(o=t(o));break}i=i.parentNode}return(o||s).children.push(e),e}function n(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var s=i.length,a=0,o=[];for(t=0;t<i.length;t++){var r=i[t];s<=0&&(s=a,a=0,n.push(o),o=[]),o.push(r.fn),r.children.forEach(function(e){a++,i.push(e)}),s--}return o.length&&n.push(o),n}var i,s={children:[]},a=new d;for(i=0;i<e.length;i++){var o=e[i];a.put(o.domNode,e[i]={domNode:o.domNode,fn:o.fn,children:[]})}for(i=0;i<e.length;i++)t(e[i]);return n(s)}var m=[],v=p(e);return function(d,p,b){function w(e){var t="["+a+"]",n=e.hasAttribute(a)?[e]:e.querySelectorAll(t),i=[];return V(n,function(e){var t=e.getAttribute(a);t&&t.length&&i.push(e)}),i}function x(e){var t=[],n={};V(e,function(e,i){var s=e.element,o=y(s),r=e.event,l=["enter","move"].indexOf(r)>=0,c=e.structural?w(o):[];if(c.length){var d=l?"to":"from";V(c,function(e){var t=e.getAttribute(a);n[t]=n[t]||{},n[t][d]={animationID:i,element:U(e)}})}else t.push(e)});var i={},s={};return V(n,function(n,a){var o=n.from,r=n.to;if(!o||!r){var l=o?o.animationID:r.animationID,c=l.toString();return void(i[c]||(i[c]=!0,t.push(e[l])))}var d=e[o.animationID],u=e[r.animationID],p=o.animationID.toString();if(!s[p]){var h=s[p]={structural:!0,beforeStart:function(){d.beforeStart(),u.beforeStart()},close:function(){d.close(),u.close()},classes:k(d.classes,u.classes),from:d,to:u,anchors:[]};h.classes.length?t.push(h):(t.push(d),t.push(u))}s[p].anchors.push({out:o.element,"in":r.element})}),t}function k(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var s=e[i];if("ng-"!==s.substring(0,3))for(var a=0;a<t.length;a++)if(s===t[a]){n.push(s);break}}return n.join(" ")}function $(e){for(var t=o.length-1;t>=0;t--){var n=o[t];if(l.has(n)){var i=l.get(n),s=i(e);if(s)return s}}}function S(){d.addClass(ee),P&&e.addClass(d,P)}function C(e,t){function n(e){i(e).setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function T(){var e=i(d);!e||"leave"===p&&b.$$domOperationFired||e.end()}function A(t){d.off("$destroy",T),n(d),v(d,b),f(d,b),b.domOperation(),P&&e.removeClass(d,P),d.removeClass(ee),I.complete(!t)}b=h(b);var _=["enter","move","leave"].indexOf(p)>=0,I=new c({end:function(){A()},cancel:function(){A(!0)}});if(!o.length)return A(),I;t(d,I);var D=s(d.attr("class"),s(b.addClass,b.removeClass)),P=b.tempClasses;return P&&(D+=" "+P,b.tempClasses=null),m.push({element:d,classes:D,event:p,structural:_,options:b,beforeStart:S,close:A}),d.on("$destroy",T),m.length>1?I:(r.$$postDigest(function(){var e=[];V(m,function(t){i(t.element)?e.push(t):t.close()}),m.length=0;var t=x(e),n=[];V(t,function(e){n.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close,s=e.anchors?e.from.element||e.to.element:e.element;if(i(s)){var a=$(e);a&&(t=a.start)}if(t){var o=t();o.done(function(e){n(!e)}),C(e,o)}else n()}})}),u(g(n))}),I)}}]}];t.module("ngAnimate",[]).directive("ngAnimateChildren",ge).factory("$$rAFScheduler",fe).factory("$$AnimateRunner",De).factory("$$animateAsyncRun",Ie).provider("$$animateQueue",_e).provider("$$animation",Pe).provider("$animateCss",ke).provider("$$animateCssDriver",$e).provider("$$animateJs",Se).provider("$$animateJsDriver",Ce)}(window,window.angular),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("angular")):t(e.angular)}(this,function(e){"use strict";var t=e.module("rzModule",[]).factory("RzSliderOptions",function(){var t={floor:0,ceil:null,step:1,precision:0,minRange:null,maxRange:null,pushRange:!1,minLimit:null,maxLimit:null,id:null,translate:null,getLegend:null,stepsArray:null,bindIndexForStepsArray:!1,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hidePointerLabels:!1,hideLimitLabels:!1,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getTickColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1,boundPointerLabels:!0,mergeRangeLabelsIfSame:!1,customTemplateScope:null},n={},i={};return i.options=function(t){e.extend(n,t)},i.getOptions=function(i){return e.extend({},t,n,i)},i}).factory("rzThrottle",["$timeout",function(e){return function(t,n,i){var s,a,o,r=Date.now||function(){return(new Date).getTime()},l=null,c=0;i=i||{};var d=function(){c=r(),l=null,o=t.apply(s,a),s=a=null};return function(){var u=r(),p=n-(u-c);return s=this,a=arguments,p<=0?(e.cancel(l),l=null,c=u,o=t.apply(s,a),s=a=null):l||i.trailing===!1||(l=e(d,p)),o}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(t,n,i,s,a,o){var r=function(e,t){this.scope=e,this.lowValue=0,this.highValue=0,this.sliderElem=t,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,offset:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.intermediateTicks=!1,this.initHasRun=!1,this.firstKeyDown=!1,this.internalChange=!1,this.cmbLabelShown=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return r.prototype={init:function(){var t,n,s=this,a=function(){s.calcViewDimensions()};this.applyOptions(),this.syncLowValue(),this.range&&this.syncHighValue(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",a),e.element(i).on("resize",a),this.initHasRun=!0,t=o(function(){s.onLowHandleChange()},s.options.interval),n=o(function(){s.onHighHandleChange()},s.options.interval),this.scope.$on("rzSliderForceRender",function(){s.resetLabelsValue(),t(),s.range&&n(),s.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(e,t){e!==t&&(s.applyOptions(),s.syncLowValue(),s.range&&s.syncHighValue(),s.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(e,n){s.internalChange||e!==n&&t()}),this.scope.$watch("rzSliderHigh",function(e,t){s.internalChange||e!==t&&(null!=e&&n(),(s.range&&null==e||!s.range&&null!=e)&&(s.applyOptions(),s.resetSlider()))}),this.scope.$on("$destroy",function(){s.unbindEvents(),e.element(i).off("resize",a)})},findStepIndex:function(t){for(var n=0,i=0;i<this.options.stepsArray.length;i++){var s=this.options.stepsArray[i];if(s===t){n=i;break}if(e.isObject(s)&&s.value===t){n=i;break}}return n},syncLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.lowValue=this.scope.rzSliderModel:this.lowValue=this.findStepIndex(this.scope.rzSliderModel):this.lowValue=this.scope.rzSliderModel;
},syncHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.highValue=this.scope.rzSliderHigh:this.highValue=this.findStepIndex(this.scope.rzSliderHigh):this.highValue=this.scope.rzSliderHigh},getStepValue:function(t){var n=this.options.stepsArray[t];return e.isObject(n)?n.value:n},applyLowValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderModel=this.lowValue:this.scope.rzSliderModel=this.getStepValue(this.lowValue):this.scope.rzSliderModel=this.lowValue},applyHighValue:function(){this.options.stepsArray?this.options.bindIndexForStepsArray?this.scope.rzSliderHigh=this.highValue:this.scope.rzSliderHigh=this.getStepValue(this.highValue):this.scope.rzSliderHigh=this.highValue},onLowHandleChange:function(){this.syncLowValue(),this.range&&this.syncHighValue(),this.setMinAndMax(),this.updateLowHandle(this.valueToOffset(this.lowValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.syncLowValue(),this.syncHighValue(),this.setMinAndMax(),this.updateHighHandle(this.valueToOffset(this.highValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var t;t=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=a.getOptions(t),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues,this.scope.showTicks=this.options.showTicks,e.isNumber(this.options.showTicks)&&(this.intermediateTicks=!0),this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?this.parseStepsArray():(this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return String(e)},this.getLegend=this.options.getLegend),this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height"),this.options.customTemplateScope&&(this.scope.custom=this.options.customTemplateScope)},parseStepsArray:function(){this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(e){return this.options.bindIndexForStepsArray?this.getStepValue(e):e},this.getLegend=function(t){var n=this.options.stepsArray[t];return e.isObject(n)?n.legend:null}},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions()},initElemHandles:function(){e.forEach(this.sliderElem.children(),function(t,n){var i=e.element(t);switch(n){case 0:this.fullBar=i;break;case 1:this.selBar=i;break;case 2:this.minH=i;break;case 3:this.maxH=i;break;case 4:this.flrLab=i;break;case 5:this.ceilLab=i;break;case 6:this.minLab=i;break;case 7:this.maxLab=i;break;case 8:this.cmbLab=i;break;case 9:this.ticks=i}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels);var e=this.options.showTicksValues&&!this.intermediateTicks;this.alwaysHide(this.minLab,e||this.options.hidePointerLabels),this.alwaysHide(this.maxLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.cmbLab,e||!this.range||this.options.hidePointerLabels),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("rz-vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable"),this.intermediateTicks&&this.options.showTicksValues&&this.ticks.addClass("rz-ticks-values-under")},alwaysHide:function(e,t){e.rzAlwaysHide=t,t?this.hideEl(e):this.showEl(e)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.lowValue)),this.range&&this.updateHighHandle(this.valueToOffset(this.highValue)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(e,t,n,i){i=void 0===i||i;var s="",a=!1,o=t.hasClass("no-label-injection");i?(this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),s=String(this.customTrFn(e,this.options.id,n))):s=String(e),(void 0===t.rzsv||t.rzsv.length!==s.length||t.rzsv.length>0&&0===t.rzsd)&&(a=!0,t.rzsv=s),o||t.html(s),this.scope[n+"Label"]=s,a&&this.getDimension(t)},setMinAndMax:function(){this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,this.options.enforceStep&&(this.lowValue=this.roundStep(this.lowValue),this.range&&(this.highValue=this.roundStep(this.highValue))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.highValue:this.lowValue,this.options.enforceRange&&(this.lowValue=this.sanitizeValue(this.lowValue),this.range&&(this.highValue=this.sanitizeValue(this.highValue))),this.applyLowValue(),this.range&&this.applyHighValue(),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.minH.attr("tabindex",""):this.minH.attr("tabindex","0"),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),!this.options.keyboardSupport||this.options.readOnly||this.options.disabled?this.maxH.attr("tabindex",""):this.maxH.attr("tabindex","0"),this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function(){this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var e=this.getDimension(this.minH);this.handleHalfDim=e/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-e,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){if(this.options.showTicks){var e=this.step;this.intermediateTicks&&(e=this.options.showTicks);var t=Math.round((this.maxValue-this.minValue)/e)+1;this.scope.ticks=[];for(var n=0;n<t;n++){var i=this.roundStep(this.minValue+n*e),s={selected:this.isTickSelected(i)};if(s.selected&&this.options.getSelectionBarColor&&(s.style={"background-color":this.getSelectionBarColor()}),!s.selected&&this.options.getTickColor&&(s.style={"background-color":this.getTickColor(i)}),this.options.ticksTooltip&&(s.tooltip=this.options.ticksTooltip(i),s.tooltipPlacement=this.options.vertical?"right":"top"),this.options.showTicksValues&&(s.value=this.getDisplayValue(i,"tick-value"),this.options.ticksValuesTooltip&&(s.valueTooltip=this.options.ticksValuesTooltip(i),s.valueTooltipPlacement=this.options.vertical?"right":"top")),this.getLegend){var a=this.getLegend(i,this.options.id);a&&(s.legend=a)}this.options.rightToLeft?this.scope.ticks.unshift(s):this.scope.ticks.push(s)}}},isTickSelected:function(e){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var t=this.options.showSelectionBarFromValue;if(this.lowValue>t&&e>=t&&e<=this.lowValue)return!0;if(this.lowValue<t&&e<=t&&e>=this.lowValue)return!0}else if(this.options.showSelectionBarEnd){if(e>=this.lowValue)return!0}else if(this.options.showSelectionBar&&e<=this.lowValue)return!0;return!!(this.range&&e>=this.lowValue&&e<=this.highValue)},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var e=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,e)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var e=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,e)},updateHandles:function(e,t){"lowValue"===e?this.updateLowHandle(t):this.updateHighHandle(t),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(e,t){var n=this[e].rzsd,i=t-n/2+this.handleHalfDim,s=this.barDimension-n;return this.options.boundPointerLabels?this.options.rightToLeft&&"minLab"===e||!this.options.rightToLeft&&"maxLab"===e?Math.min(i,s):Math.min(Math.max(i,0),s):i},updateLowHandle:function(e){if(this.setPosition(this.minH,e),this.translateFn(this.lowValue,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",e)),this.options.getPointerColor){var t=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:t}}this.shFloorCeil()},updateHighHandle:function(e){if(this.setPosition(this.maxH,e),this.translateFn(this.highValue,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",e)),this.options.getPointerColor){var t=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:t}}this.shFloorCeil()},shFloorCeil:function(){if(!this.options.hidePointerLabels){var e=!1,t=!1,n=this.options.rightToLeft,i=this.flrLab.rzsp,s=this.flrLab.rzsd,a=this.minLab.rzsp,o=this.minLab.rzsd,r=this.maxLab.rzsp,l=this.maxLab.rzsd,c=this.cmbLab.rzsp,d=this.cmbLab.rzsd,u=this.ceilLab.rzsp,p=this.handleHalfDim,h=n?a+o>=i-s-5:a<=i+s+5,f=n?a-o<=u+p+10:a+o>=u-p-10,g=n?r-l<=u+10:r+l>=u-10,m=n?c>=i-s-p:c<=i+s+p,v=n?c-d<=u+10:c+d>=u-10;if(h?(e=!0,this.hideEl(this.flrLab)):(e=!1,this.showEl(this.flrLab)),f?(t=!0,this.hideEl(this.ceilLab)):(t=!1,this.showEl(this.ceilLab)),this.range){var b=this.cmbLabelShown?v:g,y=this.cmbLabelShown?m:h;b?this.hideEl(this.ceilLab):t||this.showEl(this.ceilLab),y?this.hideEl(this.flrLab):e||this.showEl(this.flrLab)}}},updateSelectionBar:function(){var e=0,t=0,n=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,i=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)t=Math.abs(this.maxH.rzsp-this.minH.rzsp),e=i;else if(null!==this.options.showSelectionBarFromValue){var s=this.options.showSelectionBarFromValue,a=this.valueToOffset(s),o=this.options.rightToLeft?this.lowValue<=s:this.lowValue>s;o?(t=this.minH.rzsp-a,e=a+this.handleHalfDim):(t=a-this.minH.rzsp,e=this.minH.rzsp+this.handleHalfDim)}else n?(t=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,e=this.minH.rzsp+this.handleHalfDim):(t=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,e=0);if(this.setDimension(this.selBar,t),this.setPosition(this.selBar,e),this.options.getSelectionBarColor){var r=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:r}}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(e){return"max"===e?this.options.getPointerColor(this.scope.rzSliderHigh,e):this.options.getPointerColor(this.scope.rzSliderModel,e)},getTickColor:function(e){return this.options.getTickColor(e)},updateCmbLabel:function(){var e=null;if(e=this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var t=this.getDisplayValue(this.lowValue,"model"),n=this.getDisplayValue(this.highValue,"high"),i="";i=this.options.mergeRangeLabelsIfSame&&t===n?t:this.options.rightToLeft?n+" - "+t:t+" - "+n,this.translateFn(i,this.cmbLab,"cmb",!1);var s=this.options.boundPointerLabels?Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd):this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2;this.setPosition(this.cmbLab,s),this.cmbLabelShown=!0,this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.cmbLabelShown=!1,this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)},getDisplayValue:function(e,t){return this.options.stepsArray&&!this.options.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.customTrFn(e,this.options.id,t)},roundStep:function(e,t){var n=t?t:this.step,i=parseFloat((e-this.minValue)/n).toPrecision(12);i=Math.round(+i)*n;var s=(this.minValue+i).toFixed(this.precision);return+s},hideEl:function(e){return e.css({visibility:"hidden"})},showEl:function(e){return e.rzAlwaysHide?e:e.css({visibility:"visible"})},setPosition:function(e,t){e.rzsp=t;var n={};return n[this.positionProperty]=t+"px",e.css(n),t},getDimension:function(e){var t=e[0].getBoundingClientRect();return this.options.vertical?e.rzsd=(t.bottom-t.top)*this.options.scale:e.rzsd=(t.right-t.left)*this.options.scale,e.rzsd},setDimension:function(e,t){e.rzsd=t;var n={};return n[this.dimensionProperty]=t+"px",e.css(n),t},valueToOffset:function(e){return this.options.rightToLeft?(this.maxValue-this.sanitizeValue(e))*this.maxPos/this.valueRange||0:(this.sanitizeValue(e)-this.minValue)*this.maxPos/this.valueRange||0},sanitizeValue:function(e){return Math.min(Math.max(e,this.minValue),this.maxValue)},offsetToValue:function(e){return this.options.rightToLeft?(1-e/this.maxPos)*this.valueRange+this.minValue:e/this.maxPos*this.valueRange+this.minValue},getEventXY:function(e){var t=this.options.vertical?"clientY":"clientX";return void 0!==e[t]?e[t]:void 0===e.originalEvent?e.touches[0][t]:e.originalEvent.touches[0][t]},getEventPosition:function(e){var t=this.sliderElem.rzsp,n=0;return n=this.options.vertical?-this.getEventXY(e)+t:this.getEventXY(e)-t,(n-this.handleHalfDim)*this.options.scale},getEventNames:function(e){var t={moveEvent:"",endEvent:""};return e.touches||void 0!==e.originalEvent&&e.originalEvent.touches?(t.moveEvent="touchmove",t.endEvent="touchend"):(t.moveEvent="mousemove",t.endEvent="mouseup"),t},getNearestHandle:function(e){if(!this.range)return this.minH;var t=this.getEventPosition(e),n=Math.abs(t-this.minH.rzsp),i=Math.abs(t-this.maxH.rzsp);return n<i?this.minH:n>i?this.maxH:this.options.rightToLeft?t>this.minH.rzsp?this.minH:this.maxH:t<this.minH.rzsp?this.minH:this.maxH},focusElement:function(e){var t=0;e[t].focus()},bindEvents:function(){var t,n,i;this.options.draggableRange?(t="rzSliderDrag",n=this.onDragStart,i=this.onDragMove):(t="lowValue",n=this.onStart,i=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",e.bind(this,n,null,t)),this.selBar.on("mousedown",e.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",e.bind(this,n,null,t)),this.maxH.on("mousedown",e.bind(this,n,null,t))):(this.minH.on("mousedown",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("mousedown",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",e.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",e.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",e.bind(this,this.onTickClick,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",e.bind(this,n,null,t)),this.selBar.on("touchstart",e.bind(this,i,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",e.bind(this,n,null,t)),this.maxH.on("touchstart",e.bind(this,n,null,t))):(this.minH.on("touchstart",e.bind(this,this.onStart,this.minH,"lowValue")),this.range&&this.maxH.on("touchstart",e.bind(this,this.onStart,this.maxH,"highValue")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",e.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",e.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",e.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",e.bind(this,this.onTickClick,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",e.bind(this,this.onPointerFocus,this.minH,"lowValue")),this.range&&this.maxH.on("focus",e.bind(this,this.onPointerFocus,this.maxH,"highValue")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(t,i,s){var a,o,r=this.getEventNames(s);s.stopPropagation(),s.preventDefault(),this.calcViewDimensions(),t?this.tracking=i:(t=this.getNearestHandle(s),this.tracking=t===this.minH?"lowValue":"highValue"),t.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(t),a=e.bind(this,this.dragging.active?this.onDragMove:this.onMove,t),o=e.bind(this,this.onEnd,a),n.on(r.moveEvent,a),n.one(r.endEvent,o),this.callOnStart()},onMove:function(t,n,i){var s,a=this.getEventPosition(n),o=this.options.rightToLeft?this.minValue:this.maxValue,r=this.options.rightToLeft?this.maxValue:this.minValue;a<=0?s=r:a>=this.maxPos?s=o:(s=this.offsetToValue(a),s=i&&e.isNumber(this.options.showTicks)?this.roundStep(s,this.options.showTicks):this.roundStep(s)),this.positionTrackingHandle(s)},onEnd:function(e,t){var i=this.getEventNames(t).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,n.off(i,e),this.callOnEnd()},onTickClick:function(e,t){this.onMove(e,t,!0)},onPointerFocus:function(t,n){this.tracking=n,t.one("blur",e.bind(this,this.onPointerBlur,t)),t.on("keydown",e.bind(this,this.onKeyboardEvent)),t.on("keyup",e.bind(this,this.onKeyUp)),this.firstKeyDown=!0,t.addClass("rz-active")},onKeyUp:function(){this.firstKeyDown=!0,this.callOnEnd()},onPointerBlur:function(e){e.off("keydown"),e.off("keyup"),this.tracking="",e.removeClass("rz-active")},getKeyActions:function(e){var t=e+this.step,n=e-this.step,i=e+this.valueRange/10,s=e-this.valueRange/10,a={UP:t,DOWN:n,LEFT:n,RIGHT:t,PAGEUP:i,PAGEDOWN:s,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(a.LEFT=t,a.RIGHT=n,this.options.vertical&&(a.UP=n,a.DOWN=t)),a},onKeyboardEvent:function(e){var n=this[this.tracking],i=e.keyCode||e.which,s={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},a=this.getKeyActions(n),o=s[i],r=a[o];if(null!=r&&""!==this.tracking){e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.callOnStart());var l=this;t(function(){var e=l.roundStep(l.sanitizeValue(r));if(l.options.draggableRangeOnly){var t,n,i=l.highValue-l.lowValue;"lowValue"===l.tracking?(t=e,n=e+i,n>l.maxValue&&(n=l.maxValue,t=n-i)):(n=e,t=e-i,t<l.minValue&&(t=l.minValue,n=t+i)),l.positionTrackingBar(t,n)}else l.positionTrackingHandle(e)})}},onDragStart:function(e,t,n){var i=this.getEventPosition(n);this.dragging={active:!0,value:this.offsetToValue(i),difference:this.highValue-this.lowValue,lowLimit:this.options.rightToLeft?this.minH.rzsp-i:i-this.minH.rzsp,highLimit:this.options.rightToLeft?i-this.maxH.rzsp:this.maxH.rzsp-i},this.onStart(e,t,n)},getValue:function(e,t,n,i){var s=this.options.rightToLeft,a=null;return a="min"===e?n?i?s?this.minValue:this.maxValue-this.dragging.difference:s?this.maxValue-this.dragging.difference:this.minValue:s?this.offsetToValue(t+this.dragging.lowLimit):this.offsetToValue(t-this.dragging.lowLimit):n?i?s?this.minValue+this.dragging.difference:this.maxValue:s?this.maxValue:this.minValue+this.dragging.difference:s?this.offsetToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.offsetToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(a)},onDragMove:function(e,t){var n,i,s,a,o,r,l,c,d=this.getEventPosition(t);if(this.options.rightToLeft?(s=this.dragging.lowLimit,a=this.dragging.highLimit,l=this.maxH,c=this.minH):(s=this.dragging.highLimit,a=this.dragging.lowLimit,l=this.minH,c=this.maxH),o=d<=a,r=d>=this.maxPos-s,o){if(0===l.rzsp)return;n=this.getValue("min",d,!0,!1),i=this.getValue("max",d,!0,!1)}else if(r){if(c.rzsp===this.maxPos)return;i=this.getValue("max",d,!0,!0),n=this.getValue("min",d,!0,!0)}else n=this.getValue("min",d,!1),i=this.getValue("max",d,!1);this.positionTrackingBar(n,i)},positionTrackingBar:function(e,t){null!=this.options.minLimit&&e<this.options.minLimit&&(e=this.options.minLimit,t=e+this.dragging.difference),null!=this.options.maxLimit&&t>this.options.maxLimit&&(t=this.options.maxLimit,e=t-this.dragging.difference),this.lowValue=e,this.highValue=t,this.applyLowValue(),this.range&&this.applyHighValue(),this.applyModel(),this.updateHandles("lowValue",this.valueToOffset(e)),this.updateHandles("highValue",this.valueToOffset(t))},positionTrackingHandle:function(e){var t=!1;e=this.applyMinMaxLimit(e),this.range&&(this.options.pushRange?(e=this.applyPushRange(e),t=!0):(this.options.noSwitching&&("lowValue"===this.tracking&&e>this.highValue?e=this.applyMinMaxRange(this.highValue):"highValue"===this.tracking&&e<this.lowValue&&(e=this.applyMinMaxRange(this.lowValue))),e=this.applyMinMaxRange(e),"lowValue"===this.tracking&&e>this.highValue?(this.lowValue=this.highValue,this.applyLowValue(),this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="highValue",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH),t=!0):"highValue"===this.tracking&&e<this.lowValue&&(this.highValue=this.lowValue,this.applyHighValue(),this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="lowValue",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH),t=!0))),this[this.tracking]!==e&&(this[this.tracking]=e,"lowValue"===this.tracking?this.applyLowValue():this.applyHighValue(),this.updateHandles(this.tracking,this.valueToOffset(e)),this.updateAriaAttributes(),t=!0),t&&this.applyModel()},applyMinMaxLimit:function(e){return null!=this.options.minLimit&&e<this.options.minLimit?this.options.minLimit:null!=this.options.maxLimit&&e>this.options.maxLimit?this.options.maxLimit:e},applyMinMaxRange:function(e){var t="lowValue"===this.tracking?this.highValue:this.lowValue,n=Math.abs(e-t);return null!=this.options.minRange&&n<this.options.minRange?"lowValue"===this.tracking?this.highValue-this.options.minRange:this.lowValue+this.options.minRange:null!=this.options.maxRange&&n>this.options.maxRange?"lowValue"===this.tracking?this.highValue-this.options.maxRange:this.lowValue+this.options.maxRange:e},applyPushRange:function(e){var t="lowValue"===this.tracking?this.highValue-e:e-this.lowValue,n=null!==this.options.minRange?this.options.minRange:this.options.step;return t<n&&("lowValue"===this.tracking?(this.highValue=Math.min(e+n,this.maxValue),e=this.highValue-n,this.applyHighValue(),this.updateHandles("highValue",this.valueToOffset(this.highValue))):(this.lowValue=Math.max(e-n,this.minValue),e=this.lowValue+n,this.applyLowValue(),this.updateHandles("lowValue",this.valueToOffset(this.lowValue))),this.updateAriaAttributes()),e},applyModel:function(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onStart(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}},callOnChange:function(){if(this.options.onChange){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onChange(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}},callOnEnd:function(){if(this.options.onEnd){var e=this,t="lowValue"===this.tracking?"min":"max";this.scope.$evalAsync(function(){e.options.onEnd(e.options.id,e.scope.rzSliderModel,e.scope.rzSliderHigh,t)})}this.scope.$emit("slideEnded")}},r}]).directive("rzslider",["RzSlider",function(e){return{restrict:"AE",replace:!0,scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@"},templateUrl:function(e,t){return t.rzSliderTplUrl||"rzSliderTpl.html"},link:function(t,n){t.slider=new e(t,n)}}}]);return t.run(["$templateCache",function(e){e.put("rzSliderTpl.html",'<div class=rzslider><span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class="rz-bar rz-selection" ng-style=barStyle></span></span> <span class="rz-pointer rz-pointer-min" ng-style=minPointerStyle></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit rz-floor"></span> <span class="rz-bubble rz-limit rz-ceil"></span> <span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=rz-tick ng-class="{\'rz-selected\': t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=rz-tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if="t.legend != null" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>')}]),t.name}),angular.module("app",["ui.router","ngStorage","localizeFilters","ngCookies","ngRateIt","ngFileUpload","rzModule","ng-typeahead","ui.bootstrap","ui.select","templates","slickCarousel","bootstrapLightbox","angular-inview","updateMeta"]),angular.module("app").controller("AppCtrl",["$scope","$rootScope","$state","$stateParams","$localStorage","$window","$timeout","Users","Regions",function(e,t,n,i,s,a,o,r,l){function c(e){var t=e.navigator.userAgent||e.navigator.vendor||e.opera;return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(t)}console.info();var d=function(){o(function(){e.bodyClass=n.current.name.replace(".","-")},1e3);var t=!!navigator.userAgent.match(/MSIE/i);t&&angular.element(a.document.body).addClass("ie"),c(a)&&angular.element(a.document.body).addClass("smart"),e.app={name:"Angulr",version:"2.2.0",color:{primary:"#7266ba",info:"#23b7e5",success:"#27c24c",warning:"#fad733",danger:"#f05050",light:"#e8eff0",dark:"#3a3f51",black:"#1c2b36"},settings:{themeID:1,navbarHeaderColor:"bg-black",navbarCollapseColor:"bg-white-only",asideColor:"bg-black",headerFixed:!0,asideFixed:!1,asideFolded:!1,asideDock:!1,container:!1}},angular.isDefined(s.settings)?e.app.settings=s.settings:s.settings=e.app.settings,e.$watch("app.settings",function(){e.app.settings.asideDock&&e.app.settings.asideFixed&&(e.app.settings.headerFixed=!0),e.app.settings.container?angular.element("html").addClass("bg"):angular.element("html").removeClass("bg"),s.settings=e.app.settings},!0),e.lang={isopen:!1},e.langs={en:"English",de_DE:"German",it_IT:"Italian"},e.setLang=function(t,n){e.selectLang=e.langs[t],e.lang.isopen=!e.lang.isopen}};t.$on("User:information",function(e,n){n.status&&(t.userInfo=n.result.data[0])}),d()}]);var app=angular.module("app").config(["$controllerProvider","$compileProvider","$filterProvider","$provide","$urlMatcherFactoryProvider","$locationProvider","LightboxProvider",function(e,t,n,i,s,a,o){var r={encode:function(e){return decodeURIComponent(e)},decode:function(e){return decodeURIComponent(e)},is:angular.isString,pattern:/.*/};o.fullScreenMode=!0,a.html5Mode(!0),s.type("noneEncodedUri",r),i.decorator("$exceptionHandler",["$delegate",extendExceptionHandler]),app.controller=e.register,app.directive=t.directive,app.filter=n.register,app.factory=i.factory,app.service=i.service,app.constant=i.constant,app.value=i.value,app.refreshOnError=!1,app.showExceptions=!0}]);app.constant("MAPSTYLE",[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#4a5b5b"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#f4f7f7"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#49585b"}]},{featureType:"administrative.locality",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"landscape",elementType:"labels.text.fill",stylers:[{color:"#dde3e3"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#dde3e3"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{saturation:-100}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#495959"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#f8fafa"}]},{featureType:"poi.business",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry.fill",stylers:[{color:"#c4cece"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a9e078"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#49585b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#f4f7f7"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#c2d1d6"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#aebfc7"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{saturation:-50}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#495959"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#f4f7f7"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#a6cbe3"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#495959"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#f7f9f9"}]}]),angular.module("app").run(["$rootScope","$state","$stateParams","ResponsiveService",function(e,t,n,i){i.initialize();var s={previousState:"",currentState:""};e.$on("$stateChangeStart",function(e,n,i,s,a){window.location.referrer=s,window.location.referrer.params=a,"app.chain-restaurants.index"!==s.name&&"app.restaurantsnew.index"!==s.name&&"app.restaurantsnew.discounted"!==s.name||(i.previous=t.href(s.name,a))}),e.$on("$stateChangeSuccess",function(n,i,a,o,r){s.previousState&&s.currentState&&(s.currentState==o.name&&"app.404"==i.name?t.go("app.homepage",{}):(delete s.previousState,delete s.currentState)),"app.404"==o.name&&(s.previousState=o.name,s.currentState=i.name),document.body.scrollTop=document.documentElement.scrollTop=0,e.$broadcast("subscribeLoad",{},{reload:!0})})}]).config(["$stateProvider","$urlRouterProvider",function(e,t){var n={haveCity:["$rootScope","$q","Regions","$stateParams",function(e,t,n,i){var s=t.defer();return n.getCitiesAndNeighborhoodsByCitySlug(i.city).then(function(t){e.citiesDict=t,s.resolve()}),s.promise}]},i="<div ui-view></div>";t.otherwise("/404"),e.state("app",{"abstract":!0,url:"",templateUrl:"/app/user/ngApp/templates/layouts/master.layout.html"}).state("app.404",{url:"/404",templateUrl:"/app/user/ngApp/templates/views/errorpage/404.html"}).state("app.homepage",{url:"/",controller:"homepage",templateUrl:"/app/user/ngApp/templates/views/home/homepage.html"
}).state("app.login",{url:"/login",templateUrl:"/app/user/ngApp/templates/views/user/login.html"}).state("app.register",{url:"/register",templateUrl:"/app/user/ngApp/templates/views/user/register.html"}).state("app.forgotpassword",{url:"/forgot/password",templateUrl:"/app/user/ngApp/templates/views/user/forgotpassword.html"}).state("app.resetpassword",{url:"/password/reset/{token}",templateUrl:"/app/user/ngApp/templates/views/user/resetpassword.html"}).state("app.mobileverification",{url:"/mobileverification",controller:"userMobileValidation",templateUrl:"/app/user/ngApp/templates/views/user/mobileverification.html"}).state("app.mobileVerificationWithChange",{url:"/mobileverification/changeNumber",controller:"userMobileValidation",templateUrl:"/app/user/ngApp/templates/views/user/mobileverification.html"}).state("app.codeverification",{url:"/codeverification",controller:"codeMobileValidation",templateUrl:"/app/user/ngApp/templates/views/user/codeverification.html"}).state("app.profile",{"abstract":!0,url:"/profile",template:i}).state("app.profile.index",{url:"",templateUrl:"/app/user/ngApp/templates/views/profile/profile.html"}).state("app.profile.address",{url:"/address",templateUrl:"/app/user/ngApp/templates/views/profile/profile_address.html"}).state("app.profile.review",{url:"/review",templateUrl:"/app/user/ngApp/templates/views/profile/profile_review.html"}).state("app.profile.transaction",{url:"/transaction",templateUrl:"/app/user/ngApp/templates/views/profile/profile_transaction.html"}).state("app.profile.wallet",{url:"/wallet",templateUrl:"/app/user/ngApp/templates/views/profile/profile_wallet.html"}).state("app.increase-success",{url:"/increase/success/{paymentId}/{paymentAmount}/{userCasheBalance}",controller:"increaseController",templateUrl:"/app/user/ngApp/templates/views/payment/increase_success.html"}).state("app.profile.orderlist",{url:"/orderlist",templateUrl:"/app/user/ngApp/templates/views/profile/profile_orderlist.html"}).state("app.contactsus",{url:"/contactsus",templateUrl:"/app/user/ngApp/templates/views/contactsus/contactsus.html"}).state("app.cooperation",{url:"/cooperation",templateUrl:"/app/user/ngApp/templates/views/cooperation/cooperation.html"}).state("app.logout",{url:"/logout",controller:"logoutCtrl"}).state("app.staticpages",{"abstract":!0,url:"/static/:slug",template:i}).state("app.staticpages.show",{url:"",templateUrl:"/app/user/ngApp/templates/views/pages/page.html"}).state("app.paylink",{url:"/paylink/:orderId",template:'                        <div style="padding-top:250px;padding-bottom: 250px" class="content-loader-holder">                        <div class="content-loader" >                        <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">                        <p class="text-center">  </p>                        </div>                        </div>',controller:function(e,t,n){n.location.href="/pr/"+t.orderId}}).state("app.success-pay",{url:"/pay/success/{orderId}",controller:"paymentController",templateUrl:"/app/user/ngApp/templates/views/payment/pay_success.html"}).state("app.failed-pay",{url:"/pay/failed/{orderId}",controller:"paymentController",templateUrl:"/app/user/ngApp/templates/views/payment/pay_failed.html"}).state("app.failed-pay-link",{url:"/pay/failed/link/{orderId}",controller:"paymentController",templateUrl:"/app/user/ngApp/templates/views/payment/pay_failed_link.html"}).state("app.cancel-pay",{url:"/pay/canceled",templateUrl:"/app/user/ngApp/templates/views/payment/pay_canceled.html"}).state("app.pay",{url:"/pay/{id}",controller:"paymentController",templateUrl:"/app/user/ngApp/templates/views/payment/payment.html"}).state("app.chain-restaurants",{"abstract":!0,url:"/chain",template:i}).state("app.chain-restaurants.index",{url:"/{slug:[a-zA-Z0-9_-]{3,}}?query?tags?newest?deliveryTime?rating?financialCategory?likes?discount",controller:"listRestaurantsNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/listRestaurant.html",reloadOnSearch:!1}).state("app.restaurantsnew",{"abstract":!0,url:"/restaurants",template:i}).state("app.restaurantsnew.discounted",{url:"/{city:[a-zA-Z0-9_-]{3,}}/discounted?query?tags?newest?deliveryTime?rating?financialCategory?likes?mtag",controller:["$state","$stateParams",function(e,t){e.go("app.restaurantsnew.index",{city:t.city,discount:1})}],templateUrl:"/app/user/ngApp/templates/views/restaurants/listRestaurant.html",resolve:n}).state("app.restaurantsnew.index",{url:"/{city}/{slug}?query?tags?newest?deliveryTime?rating?financialCategory?likes?discount?mtag",controller:"listRestaurantsNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/listRestaurant.html",resolve:n,params:{point:void 0}}).state("app.reviewVote",{url:"/review/:orderId/:vote",controller:"orderReviewController",templateUrl:"/app/user/ngApp/templates/views/orders/review.html"}).state("app.review",{url:"/review/:orderId",controller:"orderReviewController",templateUrl:"/app/user/ngApp/templates/views/orders/review.html"}).state("app.restaurants.myRestaurants",{url:"",controller:"listRestaurantsController",templateUrl:"/app/user/ngApp/templates/views/restaurants/list.html"}).state("app.restaurantnew",{"abstract":!0,url:"/:city",template:i,resolve:n,params:{previous:void 0}}).state("app.restaurantnew.show",{"abstract":!0,url:"/{slug}",controller:"showRestaurantNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/main.html"}).state("app.restaurantnew.show.menu",{url:"/",controller:"menuRestaurantNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/menu.html"}).state("app.restaurantnew.show.oldmenu",{url:"",controller:["$state","$stateParams",function(e,t){e.go("app.restaurantnew.show.menu",{city:t.city,slug:t.slug})}]}).state("app.restaurantnew.show.active",{url:"/active",controller:"menuRestaurantNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/menu.html"}).state("app.restaurantnew.show.comment",{url:"/comment",controller:"commentRestaurantNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/comment.html"}).state("app.restaurantnew.show.info",{url:"/info",controller:"infoRestaurantNewController",templateUrl:"/app/user/ngApp/templates/views/restaurants/info.html"})}]),angular.module("ui.bootstrap",["ui.bootstrap.modal","ui.bootstrap.stackedMap","ui.bootstrap.position","ui.bootstrap.tabs","ui.bootstrap.rating","ui.bootstrap.tooltip"]),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var s=i.indexOf(n);s!==-1&&i.splice(s,1),i.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,s,a,o){if(i)return i.resolve(e,s,a,o);var r=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?r.push(n.resolve(t.invoke(e))):angular.isString(e)?r.push(n.resolve(t.get(e))):r.push(n.resolve(e))}),n.all(r).then(function(t){var n={},i=0;return angular.forEach(e,function(e,s){n[s]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,s){s.modalInClass&&(e.addClass(i,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e.removeClass(i,s.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(s,a,o){a.addClass(o.windowTopClass||""),s.size=o.size,s.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",s.close),s.$isRendered=!0;var r=t.defer();s.$$postDigest(function(){r.resolve()}),r.promise.then(function(){var r=null;o.modalInClass&&(r=n(a,{addClass:o.modalInClass}).start(),s.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(a,{removeClass:o.modalInClass}).start().then(i)})),t.when(r).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,s,a){a(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,s,a,o,r,l){function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=x.keys(),n=0;n<t.length;n++)x.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<S&&(e=S),e}function u(e,t){var n=x.get(e).value,i=n.appendTo;x.remove(e),C=x.top(),C&&(S=parseInt(C.value.modalDomEl.attr("index"),10)),f(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||w;k.remove(t,e);var s=k.hasKey(t);i.toggleClass(t,s),!s&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?i.css({paddingRight:y.originalRight+"px"}):i.css({paddingRight:""}),y=null),p(!0)},n.closedDeferred),h(),t&&t.focus?t.focus():i.focus&&i.focus()}function p(e){var t;x.length()>0&&(t=x.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(v&&d()===-1){var e=b;f(v,b,function(){e=null}),v=void 0,b=void 0}}function f(t,n,i,s){function o(){o.done||(o.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),s&&s.resolve()}),n.$destroy())}var r,l=null,c=function(){return r||(r=a.defer(),l=r.promise),function(){r.resolve()}};return n.$broadcast($.NOW_CLOSING_EVENT,c),a.when(l).then(o)}function g(e){if(e.isDefaultPrevented())return e;var t=x.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),s.$apply(function(){$.dismiss(t.key,"escape key press")}));break;case 9:var n=$.loadFocusElementList(t),i=!1;e.shiftKey?($.isFocusInFirstItem(e,n)||$.isModalFocused(e,t))&&(i=$.focusLastFocusableElement(n)):$.isFocusInLastItem(e,n)&&(i=$.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var v,b,y,w="modal-open",x=r.createNew(),k=o.createNew(),$={NOW_CLOSING_EVENT:"modal.stack.now-closing"},S=0,C=null,T="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";return s.$watch(d,function(e){b&&(b.index=e)}),n.on("keydown",g),s.$on("$destroy",function(){n.off("keydown",g)}),$.open=function(t,a){var o=n[0].activeElement,r=a.openedClass||w;p(!1),C=x.top(),x.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),k.put(r,t);var c=a.appendTo,u=d();if(!c.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");u>=0&&!v&&(b=s.$new(!0),b.modalOptions=a,b.index=u,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&v.addClass(a.backdropClass),a.animation&&v.attr("modal-animation","true"),i(v)(b),e.enter(v,c),l.isScrollable(c)&&(y=l.scrollbarPadding(c),y.heightOverflow&&y.scrollbarWidth&&c.css({paddingRight:y.right+"px"}))),S=C?parseInt(C.value.modalDomEl.attr("index"),10)+1:0;var h=angular.element('<div uib-modal-window="modal-window"></div>');h.attr({"class":"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog",size:a.size,index:S,animate:"animate","ng-style":"{'z-index': 1050 + index*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).html(a.content),a.windowClass&&h.addClass(a.windowClass),a.animation&&h.attr("modal-animation","true"),c.addClass(r),e.enter(i(h)(a.scope),c),x.top().value.modalDomEl=h,x.top().value.modalOpener=o},$.close=function(e,t){var n=x.get(e);return n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},$.dismiss=function(e,t){var n=x.get(e);return n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},$.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},$.getTop=function(){return x.top()},$.modalRendered=function(e){var t=x.get(e);t&&t.value.renderDeferred.resolve()},$.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},$.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},$.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},$.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},$.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},$.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(T);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},$}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,s,a,o,r){function l(e){return e.template?n.when(e.template):s(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},d=null;return c.getPromiseChain=function(){return d},c.open=function(s){function c(){return v}var u=n.defer(),p=n.defer(),h=n.defer(),f=n.defer(),g={result:u.promise,opened:p.promise,closed:h.promise,rendered:f.promise,close:function(e){return r.close(g,e)},dismiss:function(e){return r.dismiss(g,e)}};if(s=angular.extend({},e.options,s),s.resolve=s.resolve||{},s.appendTo=s.appendTo||i.find("body").eq(0),!s.template&&!s.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([l(s),o.resolve(s.resolve,{},null,null)]);return m=d=n.all([d]).then(c,c).then(function(e){var n=s.scope||t,i=n.$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var o,l,c={};s.controller&&(c.$scope=i,c.$scope.$resolve={},c.$uibModalInstance=g,angular.forEach(e[1],function(e,t){c[t]=e,c.$scope.$resolve[t]=e}),l=a(s.controller,c,!0,s.controllerAs),s.controllerAs&&s.bindToController&&(o=l.instance,o.$close=i.$close,o.$dismiss=i.$dismiss,angular.extend(o,{$resolve:c.$scope.$resolve},n)),o=l(),angular.isFunction(o.$onInit)&&o.$onInit()),r.open(g,{scope:i,deferred:u,renderDeferred:f,closedDeferred:h,content:e[0],animation:s.animation,backdrop:s.backdrop,keyboard:s.keyboard,backdropClass:s.backdropClass,windowTopClass:s.windowTopClass,windowClass:s.windowClass,windowTemplateUrl:s.windowTemplateUrl,size:s.size,openedClass:s.openedClass,appendTo:s.appendTo}),p.resolve(!0)},function(e){p.reject(e),u.reject(e)})["finally"](function(){d===m&&(d=null)}),g},c}]};return e}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,s={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var s=n.offsetParent||e[0].documentElement;s&&s!==e[0].documentElement&&i(s);)s=s.offsetParent;return s||e[0].documentElement},scrollbarWidth:function(s){if(s){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),s=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),r=this.scrollbarWidth(a,o.test(a.tagName));return{scrollbarWidth:r,widthOverflow:a.scrollWidth>a.clientWidth,right:i+r,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:s+r,originalBottom:s}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?s.hidden:s.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?s.hidden:s.normal,r=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,d=n.parentElement||r;if(d===r||"fixed"===l.position)return r;for(;d.parentElement&&d!==r;){var u=t.getComputedStyle(d);if(c&&"static"!==u.position&&(c=!1),!c&&o.test(u.overflow+u.overflowY+u.overflowX))break;d=d.parentElement}return d},position:function(n,i){n=this.getRawNode(n);var s=this.offset(n);if(i){var a=t.getComputedStyle(n);s.top-=this.parseStyle(a.marginTop),s.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),r={top:0,left:0};return o!==e[0].documentElement&&(r=this.offset(o),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(s.width)?s.width:n.offsetWidth),height:Math.round(angular.isNumber(s.height)?s.height:n.offsetHeight),top:Math.round(s.top-r.top),left:Math.round(s.left-r.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,s){n=this.getRawNode(n),s=s!==!1;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},r=i?e[0].documentElement:this.scrollParent(n),l=r.getBoundingClientRect();if(o.top=l.top+r.clientTop,o.left=l.left+r.clientLeft,r===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,s){var c=t.getComputedStyle(r);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,s){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),r=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=s?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var d=this.viewportOffset(e,s),u=t.getComputedStyle(n),p={width:o+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),height:r+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)))};if(i[0]="top"===i[0]&&p.height>d.top&&p.height<=d.bottom?"bottom":"bottom"===i[0]&&p.height>d.bottom&&p.height<=d.top?"top":"left"===i[0]&&p.width>d.left&&p.width<=d.right?"right":"right"===i[0]&&p.width>d.right&&p.width<=d.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>d.bottom&&p.height-l.height<=d.top?"bottom":"bottom"===i[1]&&p.height-l.height>d.top&&p.height-l.height<=d.bottom?"top":"left"===i[1]&&p.width-l.width>d.right&&p.width-l.width<=d.left?"right":"right"===i[1]&&p.width-l.width>d.left&&p.width-l.width<=d.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var h=l.width/2-o/2;d.left+h<0&&p.width-l.width<=d.right?i[1]="left":d.right+h<0&&p.width-l.width<=d.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;d.top+f<0&&p.height-l.height<=d.bottom?i[1]="top":d.bottom+f<0&&p.height-l.height<=d.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-r;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-r;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break;case"center":a.vertical.test(i[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-r/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(e.indexOf("top")!==-1&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var s=angular.element(i).hasClass("tooltip-inner"),o=s?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var r={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(r);var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],d="border-";d+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],d+="-radius";var u=t.getComputedStyle(s?i:e)[d];switch(n[0]){case"top":r.bottom=s?"0":"-"+c;break;case"bottom":r.top=s?"0":"-"+c;break;case"left":r.right=s?"0":"-"+c;break;case"right":r.left=s?"0":"-"+c}r[n[1]]=u,angular.element(o).css(r)}}}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,a){if(!s){var o=t(n),r=i.tabs[o];if(r){if(r.tab.onDeselect({$event:a,$selectedIndex:e}),a&&a.isDefaultPrevented())return;r.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var s=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(s)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var s;e.$on("$destroy",function(){s=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,s,a){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(s.tabs&&s.tabs.length?t.index=Math.max.apply(null,s.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<s.tabs.length;i++)if(s.tabs[i].tab===t){n=i;break}s.select(n,e)}},s.addTab(t),t.$on("$destroy",function(){s.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var s=t.$eval(i.uibTabContentTransclude).tab;s.$transcludeFn(s.$parent,function(t){angular.forEach(t,function(t){e(t)?s.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},s=this;this.init=function(s){i=s,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=s.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=s.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var s=i[0],a=i[1];s.init(a)}}}),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(s,a,o,r,l,c,d,u,p){function h(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=p.createNew();return r.on("keypress",h),d.$on("$destroy",function(){r.off("keypress",h)}),function(s,d,p,h){function g(e){var t=(e||h.trigger||p).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}h=angular.extend({},t,i,h);var m=e(s),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup uib-title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+d+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(y);return function(e,t,i,a){function c(){B.isOpen?m():p()}function p(){F&&!e.$eval(i[d+"Enable"])||(w(),$(),B.popupDelay?M||(M=o(v,B.popupDelay,!1)):v())}function m(){b(),B.popupCloseDelay?E||(E=o(y,B.popupCloseDelay,!1)):y()}function v(){return b(),w(),B.content?(x(),void B.$evalAsync(function(){B.isOpen=!0,S(!0),H()})):angular.noop}function b(){M&&(o.cancel(M),M=null),O&&(o.cancel(O),O=null)}function y(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,S(!1),B.animation?P||(P=o(k,150,!1)):k())})}function w(){E&&(o.cancel(E),E=null),P&&(o.cancel(P),P=null)}function x(){I||(D=B.$new(),I=n(D,function(e){L?r.find("body").append(e):t.after(e)}),C())}function k(){b(),w(),T(),I&&(I.remove(),I=null),D&&(D.$destroy(),D=null)}function $(){B.title=i[d+"Title"],j?B.content=j(e):B.content=i[s],B.popupClass=i[d+"Class"],B.placement=angular.isDefined(i[d+"Placement"])?i[d+"Placement"]:h.placement;var t=l.parsePlacement(B.placement);R=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[d+"PopupDelay"],10),a=parseInt(i[d+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?h.popupDelay:n,B.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function S(t){V&&angular.isFunction(V.assign)&&V.assign(e,t)}function C(){z.length=0,j?(z.push(e.$watch(j,function(e){B.content=e,!e&&B.isOpen&&y()})),z.push(D.$watch(function(){U||(U=!0,D.$$postDigest(function(){U=!1,B&&B.isOpen&&H()}))}))):z.push(i.$observe(s,function(e){B.content=e,!e&&B.isOpen?y():H()})),z.push(i.$observe(d+"Title",function(e){B.title=e,B.isOpen&&H()})),z.push(i.$observe(d+"Placement",function(e){B.placement=e?e:h.placement,B.isOpen&&H()}))}function T(){z.length&&(angular.forEach(z,function(e){e()}),z.length=0)}function A(e){B&&B.isOpen&&I&&(t[0].contains(e.target)||I[0].contains(e.target)||m())}function _(){var n=[],s=[],a=e.$eval(i[d+"Trigger"]);q(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),s.push(a[e])}),N={show:n,hide:s}):N=g(a),"none"!==N.show&&N.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),r.on("click",A)):e===N.hide[n]?t.on(e,c):e&&(t.on(e,p),t.on(N.hide[n],m)),t.on("keypress",function(e){27===e.which&&m()})})}var I,D,P,M,E,O,R,L=!!angular.isDefined(h.appendToBody)&&h.appendToBody,N=g(void 0),F=angular.isDefined(i[d+"Enable"]),B=e.$new(!0),U=!1,V=!!angular.isDefined(i[d+"IsOpen"])&&u(i[d+"IsOpen"]),j=!!h.useContentExp&&u(i[s]),z=[],H=function(){
I&&I.html()&&(O||(O=o(function(){var e=l.positionElements(t,I,B.placement,L),n=angular.isDefined(I.offsetHeight)?I.offsetHeight:I.prop("offsetHeight"),i=L?l.offset(t):l.position(t);I.css({top:e.top+"px",left:e.left+"px"});var s=e.placement.split("-");I.hasClass(s[0])||(I.removeClass(R.split("-")[0]),I.addClass(s[0])),I.hasClass(h.placementClassPrefix+e.placement)||(I.removeClass(h.placementClassPrefix+R),I.addClass(h.placementClassPrefix+e.placement)),o(function(){var e=angular.isDefined(I.offsetHeight)?I.offsetHeight:I.prop("offsetHeight"),t=l.adjustTop(s,i,n,e);t&&I.css(t)},0,!1),I.hasClass("uib-position-measure")?(l.positionArrow(I,e.placement),I.removeClass("uib-position-measure")):R!==e.placement&&l.positionArrow(I,e.placement),R=e.placement,O=null},0,!1)))};B.origScope=e,B.isOpen=!1,f.add(B,{close:y}),B.contentExp=function(){return B.content},i.$observe("disabled",function(e){e&&b(),e&&B.isOpen&&y()}),V&&e.$watch(V,function(e){B&&!e===B.isOpen&&c()});var q=function(){N.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,p),t.off(e,c))}),N.hide.forEach(function(e){"outsideClick"===e?r.off("click",A):t.off(e,m)})};_();var W=e.$eval(i[d+"Animation"]);B.animation=angular.isDefined(W)?!!W:h.animation;var G,Y=d+"AppendToBody";G=Y in i&&void 0===i[Y]||e.$eval(i[Y]),L=angular.isDefined(G)?G:L,e.$on("$destroy",function(){q(),k(),f.remove(B),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(s,a,o){var r,l,c,d=s.$eval(o.tooltipTemplateTranscludeScope),u=0,p=function(){l&&(l.remove(),l=null),r&&(r.$destroy(),r=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};s.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++u;t?(i(t,!0).then(function(i){if(o===u){var s=d.$new(),l=i,h=n(l)(s,function(t){p(),e.enter(t,a)});r=s,c=h,r.$emit("$includeContentLoaded",t)}},function(){o===u&&(p(),s.$emit("$includeContentError",t))}),s.$emit("$includeContentRequested",t)):p()}),s.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var s=e.parsePlacement(t.placement);n.addClass(s[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),app.factory("RecommendedRestaurant",["$http","UserLocation","ClientGateway","$q",function(e,t,n,i){var s=!1;return{restaurantsList:[],discountedRestaurant:[],chosenRestaurants:[],cityChanged:function(){s=!1},setRestaurantRecommended:function(){var n=this,a=i.defer(),o=t.getUserCity();return s?a.resolve(n.restaurantsList):(s=!0,e({method:"GET",url:"/client-api/restaurant/recommended",params:{cityId:o},cache:!0}).then(function(e){n.restaurantsList=e.data,a.resolve(n.restaurantsList)},function(e){a.reject(!1)})),a.promise},getRestaurantRecommended:function(e){var t=i.defer();return this.setRestaurantRecommended().then(function(n){n?"undefined"==typeof e?t.resolve(n):t.resolve(n.slice(0,e)):t.reject(!1)}),t.promise},getDiscountedRestaurant:function(){var n=this,s=i.defer(),a=t.getUserCity();return e({method:"GET",url:"/client-api/restaurant/discountedRestaurants",params:{cityId:a}}).then(function(e){n.discountedRestaurant=e.data.result.data,s.resolve(n.discountedRestaurant)},function(e){s.reject(!1)}),s.promise},getChosenRestaurant:function(){var n=this,s=i.defer(),a=t.getUserCity();return e({method:"GET",url:"/client-api/restaurant/chosen",params:{cityId:a,status:1},cache:!0}).then(function(e){n.chosenRestaurants=e.data.result.generalized,s.resolve(n.chosenRestaurants)},function(){s.reject(!1)}),s.promise},getSpecialnRestaurant:function(){var e=this,t=i.defer();return n.get({},"/restaurant/special",function(n){e.SpecialnRestaurant=n.data.result.generalized,t.resolve(e.SpecialnRestaurant)},function(){t.reject(!1)}),t.promise}}}]),app.factory("Regions",["ClientGateway","$q","UserLocation","$rootScope","$cookies","$http","$stateParams","$state","$localStorage",function(e,t,n,i,s,a,o,r,l){var c=[],d=[],u=0;return isUndefinedOrNull=function(e){return angular.isUndefined(e)||null===e},{findIdFromSlug:function(e,t){for(var n=0;n<e.length;n++)if(e[n].slug===t)return e[n].id.toString();return null},setValueInCookie:function(t,i){n.setUserRegionPoint(t.join(",")),e.get({region_center:t},"/restaurant/findNeighborhood",function(e){if("undefined"==typeof e.data.result);else{var s=e.data.result.regionInfo,a=s.citySlug,o=s.cityId,l=[s.cityName,s.regionName,s.regionId,s.regionSlug,t[0],t[1],o,a];n.setUserLocation(l,"select"),"search"===i&&r.transitionTo("app.restaurantsnew.index",{city:s.citySlug,slug:s.regionSlug,point:void 0},{location:!0,inherit:!0,relative:r.$current,notify:!0})}})},regionsReadyForUi:function(e,t,n,i,s){var a=[];void 0!==e&&angular.forEach(e,function(e,t){a.unshift({name:'<span class="address-container"> <span class="address-title"> '+(e.userAddressName?e.userAddressName:"...")+" | </span> "+e.cityName+" , "+e.neighborhoodName+" , "+e.userAddressComplete+" </span> ",html:!0,id:"address",address:e,keyToShow:"rawHtml"})}),a.length>0&&(a[a.length-1].line=!0),s!==!0&&a.unshift({name:"  "+t,line:!0,id:"all-restaurants",link:{name:"app.restaurantsnew.index",params:{city:n,slug:void 0}}}),a.unshift({icon:"new-icon new-icon-cursor",name:"  ",line:!0,id:"around-me"});var o=this.getHistoryOfSearch(i);return o.length>0?a=a.concat(o):a[a.length-1].line=!1,{regionsUi:a,count:a.length}},getHistoryOfSearch:function(e){var t=l.historyRegions;if(t){for(var n=[],i=t.length-1;hr=t[i];i--){var s=e[hr];void 0!==s&&n.push(s)}return n}return[]},getCitiesAndNeighborhoodsByCitySlug:function(e){return a({method:"GET",url:"/client-api/region/cityList",params:{citySlug:e,withFirstCityNeighborhoods:!0},cache:!0}).then(function(t){c=t.data.result;var n=function(t,n){var i={};return angular.forEach(t,function(t,s){i[t.regionSlug]=t,t.regionSlug===e&&(i[t.regionSlug].neighborhoods=n)}),i};return n(c.cities,c.neighborhoods)})["catch"](function(e){r.go("app.404")})},findCenterPointFromSlug:function(e,t){return angular.forEach(e,function(e,n){if(n.slug===t)return n.mapCenter}),""},getCities:function(e,n){n=isUndefinedOrNull(n)?0:n,e=!isUndefinedOrNull(e)&&e;var i=t.defer();return a({method:"GET",url:"/client-api/region/cityList",params:{withFirstCityNeighborhoods:e,cityId:n},cache:!0}).then(function(t){e===!0?(c=t.data.result.cities,u=t.data.result.defaultCityId,n>0&&(u=n),d[u]=t.data.result.neighborhoods,i.resolve({cities:c,defaultCityId:u,neighborhoods:d[u]})):(c=t.data.result,i.resolve(c))}),i.promise},setNeighborhoods:function(e){var n=t.defer();return a({method:"GET",url:"/client-api/region/byCity",params:{city_id:e},cache:!0}).then(function(t){d[e]=t.data.result,n.resolve(t.data.result)})["catch"](function(){n.reject(!1)}),n.promise},getNeighborhoodsByCitySlug:function(e){var n=t.defer(),i=this;return this.getCityBySlug(e).then(function(e){i.getNeighborhoods(e.id).then(function(t){n.resolve({regions:_.keyBy(t,"regionSlug"),city:e})})}),n.promise},getNeighborhoods:function(e){var n=t.defer();return this.setNeighborhoods(e).then(function(e){n.resolve(e)},function(e){n.reject(!1)}),n.promise},getAddressNeighborhoods:function(e){var n=t.defer();return isUndefinedOrNull(e)?n.reject(!1):a({method:"GET",cache:!0,params:e,url:"/client-api/region/byNeighborhoods"}).then(function(t){t.data.status?(d[e.city_id]=t.data.result,n.resolve(d[e.city_id])):n.reject(!1)})["catch"](function(){n.reject(!1)}),n.promise},getCityBySlug:function(e){var n=t.defer();return this.getCities().then(function(t){angular.forEach(t,function(t,i){t.regionSlug==e&&n.resolve(t)})}),n.promise},getNeighborhoodBySlugApi:function(e,n){var i={city:e,q:n},s=t.defer();return a({method:"GET",cache:!0,params:i,url:"/client-api/autocomplete/neighbourhood"}).then(function(e){s.resolve(e.data.result.neighbourhoods.data)})["catch"](function(){s.resolve([])}),s.promise},getNeighborhoodBySlug:function(e,n){var i=t.defer();return this.getNeighborhoods(e).then(function(e){angular.forEach(e,function(e,t){e.slug==n&&i.resolve(e)})}),i.promise},setNewNeighborhoods:function(e,i){var s=[],a=this,o=t.defer();return this.getCityBySlug(e).then(function(e){s[0]=e.regionName,s[6]=e.regionId,s[7]=e.regionSlug,a.getNeighborhoodBySlug(e.regionId,i).then(function(e){s[1]=e.text,s[2]=e.id,s[3]=e.regionSlug,s[4]=e.regionMapCenter.latitude,s[5]=e.regionMapCenter.longitude,n.setUserLocation(s,"regions",!1).then(function(e){return n.setUserRegionPoint(s[4]+","+s[5]),o.resolve(e)})["catch"](function(){})})}),o.promise}}}]),app.factory("RestaurantData",["ClientGateway","$q","$rootScope","$http",function(e,t,n,i){return{params:[],restaurants:[],commentData:[],setParams:function(e){var t=this;t.params=e},initRestaurantData:function(){this.getRestaurantDetails().then(function(e){n.$broadcast("RestaurantData::updated",e)})},isUndefinedOrNull:function(e){return angular.isUndefined(e)||null===e},getRestaurantDetails:function(e,t){return i({url:"/client-api/restaurant/detail?city="+t+"&restaurantSlug="+e,method:"GET"}).then(function(e){return e.data})["catch"](function(){})},getFoodsAndRestauransApi:function(e,n){var s={city:e,q:n},a=t.defer();return i({method:"GET",cache:!0,params:s,url:"/client-api/autocomplete/query"}).then(function(e){a.resolve({restaurants:e.data.result.restaurants.data,foods:e.data.result.foods.data})})["catch"](function(){a.resolve([])}),a.promise},checkRestaurantInDeliveryZone:function(e){return i({method:"GET",params:{restaurant:e},url:"/client-api/restaurant/checkRestaurantInDeliveryZone"}).then(function(e){return e.data.result})},activeRestaurant:function(e){return i({method:"PUT",data:e,url:"/client-api/restaurant/updateStatus"}).then(function(e){e.data.status&&(window.location="/admin-panel#/restaurants/list")})}}}]),app.factory("UserLocation",["$q","$cookies","$rootScope","ClientGateway","$http",function(e,t,n,i,s){var a={},o="neighborhood",r="cityCookie",l="userRegionData",c=new Date,d=null,u=new Date(c),p={},h=function(e){if(e){var t=e.split("POINT("),n=t[1].replace(")",""),i=n.split(" ");return i[0]+","+i[1]}},f=function(e){return angular.isUndefined(e)||null===e};return{data:{},createJsonFromCookieData:function(e){return{cityId:e[6],cityName:e[0],citySlug:e[7],regionId:e[2],regionName:e[1],regionSlug:e[3],regionPoint:{lat:e[4],"long":e[5]}}},isExists:function(){return!f(t.get(o))},isUserRegionPointExists:function(){return!f(t.get(l))},initUserLocation:function(){if(this.isExists()){var e=t.get(o).toString().split(",");return this.data=this.createJsonFromCookieData(e)}return!1},setUserCity:function(e,i){u.setMonth(c.getMonth()+6),t.put(r,e,{expires:u}),n.$broadcast("UserLocation::cityChanged",{cityId:e,source:i})},getUserCity:function(){var e=t.get(o),n=e?e.toString().split(",")[6]:2,i=t.get(r)||n;return i},setUserLocation:function(i,s,l){"undefined"==typeof l&&(l=!0);var s=s||null,d=this,p=e.defer();u.setMonth(c.getMonth()+6),a={},t.put(r,i[6],{expires:u}),t.put(o,i,{expires:u});var h=d.createJsonFromCookieData(i);if(d.data.regionId!=h.regionId){d.data=h;var f={userLocationData:h,source:s};p.resolve(),l&&n.$broadcast("UserLocation::Updated",f)}return p.promise},getUserLocation:function(){e.defer();return this.initUserLocation()},getCity:function(e){var t=this.initUserLocation();return Object.keys(t).length>0?{cityId:t.cityId,cityName:t.cityName,citySlug:t.citySlug}:f(d)?{cityId:2,cityName:"",citySlug:"tehran"}:{cityId:d.cityId,cityName:d.cityName,citySlug:d.citySlug}},getNeighborhood:function(){var e=this.initUserLocation();return Object.keys(e).length>0&&{cityId:e.cityId,citySlug:e.citySlug,neighborhoodId:e.regionId,neighborhoodSlug:e.regionSlug,neighborhoodName:e.regionName}},getPoint:function(){var e=this.initUserLocation();return e.regionPoint},removeUserLocation:function(){t.remove(o),t.remove(l),a={}},setDefaultCity:function(e){d={cityId:e.regionId,cityName:e.regionName,citySlug:e.regionSlug}},getCookieString:function(){return t.get(o)},setUserRegionPoint:function(e){this.isUserRegionPointExists()&&t.remove(l),u.setMonth(c.getMonth()+6),t.put(l,e,{expires:u})},getUserRegionPoint:function(){var n=e.defer();return this.isUserRegionPointExists()?n.resolve(t.get(l)):n.reject(!1),n.promise},_setUserAddresses:function(e){p=e},_getUserAddresses:function(){return p},clearUserAddresses:function(){this._setUserAddresses=[]},getUserAddresses:function(){var e={},t=0;return s({method:"GET",url:"/client-api/user-address",params:{},cache:!1}).then(function(n){var i=n.data.result;return"undefined"!=typeof i&&(t=Object.keys(i).length),angular.forEach(i,function(t,n){e[n]=t,e[n].mapCenter=h(t.mapCenter)}),p=e,{addresses:e,addressCount:t,isLogin:n.data.userLogin}})},shareLocation:function(e,t){navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0})},goToLocation:function(e){var t=e.userAddressPoint.replace("POINT(","").replace(")","").trim().split(" "),n=[e.cityName,e.neighborhoodName,e.neighborhoodId,e.neighborhoodSlug,t[0],t[1],e.userAddressCityId,e.citySlug];return this.setUserLocation(n),this.setUserRegionPoint(e.mapCenter),t[0]+","+t[1]}}}]),app.factory("basketLocalStorage",["$q",function(e){return{calculateOrder:function(e){var t=0;return angular.forEach(e.items,function(n,i){t+=e.items[i].foodPrice*e.items[i].itemCount,angular.forEach(e.items[i].options,function(n){t+=n.foodOptionPrice*e.items[i].itemCount})}),e.vat=Math.ceil(t*(e.contractFoodVat/100)),e.totalPrice=t+e.vat+e.restaurantPackagingPrice,e.deliveryType===!1&&(e.totalPrice+=e.deliveryZonePrice),e},syncOrder:function(t){var n=e.defer(),i=!0;if(0==Object.keys(t.items).length){var s=JSON.parse(localStorage.getItem("basket"));null!=s&&(s.id=t.id,s.contractFoodVat=t.contractFoodVat,s.deliveryZoneId=t.deliveryZoneId,s.deliveryZonePrice=t.deliveryZonePrice,s.restaurantPackagingPrice=t.restaurantPackagingPrice,t.restaurantId!=s.restaurantId?(s.items={},i=!1):t=this.calculateOrder(s))}return t.deliveryPrice=t.deliveryZonePrice,t.overWrite=i,i&&localStorage.setItem("basket",JSON.stringify(t)),n.resolve(t),n.promise},saveOrder:function(t){var n=e.defer();return localStorage.setItem("basket",JSON.stringify(t)),n.resolve(t),n.promise},loadOrderSync:function(){return JSON.parse(localStorage.getItem("basket"))},loadOrder:function(){var t=e.defer();return t.resolve(JSON.parse(localStorage.getItem("basket"))),t.promise},UpdateOrder:function(t,n,i){var s=e.defer(),a=JSON.parse(localStorage.getItem("basket"));return a.items[t].options=n,a.totalCount-=a.items[t].itemCount,a.items[t].itemCount=i,a.totalCount+=i,a=this.calculateOrder(a),localStorage.setItem("basket",JSON.stringify(a)),s.resolve(a),s.promise}}}]),app.factory("BasketModel",["basketLocalStorage","$rootScope","webengageService",function(e,t,n){function i(t,n,s){if(this.foods=n,this.restaurant=s,void 0===t)throw"input should be defined";if(void 0===t.items&&(t.items={}),0!=Object.keys(t.items).length)void 0===t.allPrice&&(t.allPrice=0,t.allPrice=i.calculateAllPrice(t.items,n)),i.saveToLocalStorageAndHeaderReload(t,s);else{var a=e.loadOrderSync();a&&a.restaurantId===t.restaurantId&&a.id===t.id&&c(n,t.items)&&(a.allPrice=0,t=a,t.allPrice=i.calculateAllPrice(t.items,n))}void 0===t.allPrice&&(t.allPrice=t.totalPrice),this.basket=t,this.setAllPrice()}var s=function(e,t){for(var n=parseInt(t),i=!1,s=0;s<e.length;s++)if(e[s].foodOptionId===n){i=!0;break}return i},a=function(e,t){if(e.groupMaxSelectionLimit>1){if(t.selected)return t.foodOptionPrice}else if(e.selectedValue==t.foodOptionId)return t.foodOptionPrice;return 0},o=function(e){var t=[],n=[];return angular.forEach(e,function(e){if(e.groupMaxSelectionLimit>1)angular.forEach(e.options,function(i){i.selected&&(i.groupPriceDisplayType=e.groupPriceDisplayType,t.push(i),n.push(i.foodOptionId))});else if(e.selectedValue){var i=parseInt(e.selectedValue);n.push(i),angular.forEach(e.options,function(n){n.foodOptionId===i&&(n.groupPriceDisplayType=e.groupPriceDisplayType,t.push(n))})}}),{selectedOptions:t,ids:n}},r=function(e,t){if(void 0!==t&&t.length>0){var n=t.join("-");if(""!==n)return e.id+"-"+n}return e.id},l=function(e){return e.price},c=function(e,t){return!0};return i.prototype.getCount=function(){return this.basket.totalCount},i.prototype.getEntryCount=function(){return Object.keys(this.basket.items).length},i.prototype.getAllPrice=function(){return this.basket.allPrice},i.prototype.getAllPriceWithoutVat=function(){return this.basket.allPrice+(this.basket.restaurantPackagingPrice||0)},i.prototype.getVat=function(){return this.basket.vat=Math.ceil((this.basket.contractFoodVat||0)*this.basket.allPrice/100),this.basket.vat},i.prototype.setAllPrice=function(){return this.basket.totalPrice=this.getVat()+this.getAllPriceWithoutVat(),this.basket.totalPrice},i.prototype.validate=function(e){return 1===e.status},i.saveToLocalStorageAndHeaderReload=function(n,i){t.$broadcast("headerReload",{data:{city:i.neighborhood.citySlug,slug:i.slug,totalCount:n.totalCount}}),e.saveOrder(n)},i.prototype.removeEntryFromBasket=function(e,t){var s,a;if(t){a=i.selectOptions(t,e.options);var c=o(a);s=r(e,c.ids)}else s=r(e);var d=l(e);if(this.basket.items[s]){var u=this.basket.items[s].itemCount;this.basket.items[s]=void 0,delete this.basket.items[s],this.basket.totalCount-=u;var p;p=t?i.calculatePriceOption(a,d,u):u*d,this.basket.allPrice-=p,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant),n.track("Remove Item From Basket",{orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,foodPrice:p,count:0})}},i.prototype.addMultipleToBasket=function(e,t,s){if(this.validate(e)){var a=o(t),c=r(e,a.ids),d=l(e),u=0;this.basket.items[c]?(this.basket.items[c].itemCount+=s,void 0!==this.basket.items[c].options&&(u=this.basket.items[c].options.length)):(this.basket.items[c]={foodPrice:d,itemCount:s,orderItemFoodId:e.id,options:a.selectedOptions},void 0!==this.basket.items[c].options&&0===this.basket.items[c].options.length?this.basket.items[c].options=void 0:u=this.basket.items[c].options.length);var p=i.calculatePriceOption(t,d,s);this.basket.allPrice+=p,this.basket.totalCount+=s,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant);var h={orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,hasOptions:u>0,foodPrice:p,count:this.basket.items[c].itemCount};u>0&&(h.options=this.basket.items[c].options),n.track("Add Item To Basket",h)}},i.prototype.removeMultipleFromBasket=function(e,t,s){if(this.validate(e)){var a=o(t),c=r(e,a.ids),d=l(e);if(this.basket.items[c]){this.basket.items[c].itemCount-=s,this.basket.items[c].itemCount<=0&&(this.basket.items[c]=void 0,delete this.basket.items[c]);var u=i.calculatePriceOption(t,d,s);this.basket.allPrice-=u,this.basket.totalCount-=s,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant),n.track("Remove Item From Basket",{orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,foodPrice:u,count:this.basket.items[c]?this.basket.items[c].itemCount:0})}}},i.prototype.addOneToBasket=function(e){if(this.validate(e)){var t=r(e),s=l(e);if(this.basket.items[t]){if(this.basket.items[t].itemCount++,this.basket.items[t].foodPrice!==s)throw"something goes wrong"}else this.basket.items[t]={foodPrice:s,itemCount:1,orderItemFoodId:e.id};this.basket.allPrice+=this.basket.items[t].foodPrice,this.basket.totalCount++,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant);var a={orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,foodPrice:this.basket.items[t].foodPrice,count:this.basket.items[t].itemCount};n.track("Add Item To Basket",a)}},i.prototype.addByCountToBasket=function(e,t){if(this.validate(e)){var s=r(e),a=l(e),o=0;if(this.basket.items[s]){if(o=this.basket.items[s].itemCount,this.basket.items[s].itemCount=t,this.basket.items[s].foodPrice!==a)throw"something goes wrong"}else this.basket.items[s]={foodPrice:a,itemCount:t,orderItemFoodId:e.id};this.basket.allPrice+=this.basket.items[s].foodPrice,this.basket.totalCount=this.basket.totalCount-o+t,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant);var c={orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,foodPrice:this.basket.items[s].foodPrice,count:this.basket.items[s].itemCount};n.track("Add Item To Basket",c)}},i.prototype.removeOneFromBasket=function(e){if(this.validate(e)){var t=r(e),s=l(e);this.basket.items[t]&&(this.basket.items[t].itemCount--,this.basket.items[t].itemCount<=0&&(this.basket.items[t]=void 0,delete this.basket.items[t]),this.basket.allPrice-=s,this.basket.totalCount--,this.getVat(),this.setAllPrice(),i.saveToLocalStorageAndHeaderReload(this.basket,this.restaurant),n.track("Remove Item From Basket",{orderHashId:this.basket.id,restaurantId:this.basket.restaurantId,foodId:e.id,foodPrice:s,count:this.basket.items[t]?this.basket.items[t].itemCount:0}))}},i.prototype.countOrder=function(e){return this.basket.items[e.id]?this.basket.items[e.id].itemCount:0},i.prototype.containThis=function(e){for(var t in this.basket.items)if(this.basket.items.hasOwnProperty(t)&&t===e.id.toString())return!0;return!1},i.selectOptions=function(e,t){var n=_.cloneDeep(t);return angular.forEach(n,function(t){t.groupMaxSelectionLimit>1?angular.forEach(t.options,function(t){s(e,t.foodOptionId)&&(t.selected=!0)}):angular.forEach(t.options,function(n){s(e,n.foodOptionId)&&(t.selectedValue=n.foodOptionId)})}),n},i.calculatePriceOption=function(e,t,n){var i=0;return angular.forEach(e,function(e){angular.forEach(e.options,function(t){i+=a(e,t)})}),i+=t,i*n},i.calculatePriceOfEntry=function(e,t){return t.options?i.calculatePriceOption(i.selectOptions(t.options,e.options),l(e),t.itemCount):t.itemCount*l(e)},i.calculateAllPrice=function(e,t){var n=0;for(var s in e)e.hasOwnProperty(s)&&(n+=i.calculatePriceOfEntry(t[e[s].orderItemFoodId],e[s]));return n},i.build=function(e,t,n){return new i(e,t,n)},i}]),app.factory("GeoLocation",["$q","$window",function(e,t){function n(){var n=e.defer();return t.navigator.geolocation?t.navigator.geolocation.getCurrentPosition(function(e){n.resolve(e)},function(e){n.reject(e)}):n.reject("Geolocation not supported."),n.promise}return{getCurrentPosition:n}}]),app.factory("GoogleStructuredDataModel",[function(){function e(e){"undefined"==typeof e?this.data={"@context":"http://schema.org"}:this.data=e}return e.prototype.setAddress=function(e){this.data.address={"@type":"PostalAddress",streetAddress:e}},e.prototype.setGeo=function(e){var t=e.split(" ");this.data.geo={"@type":"GeoCoordinates",latitude:t[0].toString(),longitude:t[1].toString()}},e.prototype.setPriceRange=function(e){if(e){for(var t="",n=0;n<e;n++)t+="$";this.data.priceRange=t}},e.prototype.setServesCuisine=function(e){if(e){var t=_.map(e,function(e){return e.tagName});t&&t.length>0&&(this.data.servesCuisine=t)}},e.prototype.setOpeningHours=function(e){e&&e.length>0&&(this.data.openingHours=e)},e.prototype.setAggregateRating=function(e,t){this.data.aggregateRating={"@type":"AggregateRating",bestRating:5,ratingValue:e,reviewCount:t,worstRating:1}},e.prototype.setAttribe=function(e,t){this.data[e]=t},e.build=function(t){return new e(t)},e}]),app.factory("Users",["ClientGateway","$q","UserLocation","$http",function(e,t,n,i){var s=function(){window.$crisp.push(["do","chat:open"]),window.$crisp.push(["do","message:send",["text","\n          .\n       ."]])};return{userInfo:[],userId:null,userAvatar:null,isLogin:!1,setInfo:function(n){var i=t.defer(),s=this;return 0===this.userInfo.length||n?e.get({},"/user/current",function(e){s.userInfo=e.data.result,s.userId=e.data.result.id,s.userAvatar=e.data.result.avatar,s.isLogin=!0,"undefined"!=typeof s.userInfo.webEngageUserId?(webengage.user.login(s.userInfo.webEngageUserId),webengage.user.setAttribute({we_first_name:s.userInfo.userFullName,we_last_name:"",we_email:s.userInfo.userEmail,we_phone:"+98"+s.userInfo.userMobileNumber.slice(1),we_email_opt_in:!0,we_sms_opt_in:!0,signupDate:s.userInfo.userCreated,userMobileIsVerified:s.userInfo.userMobileIsVerified,userBuyCount:s.userInfo.userBuyCount})):webengage.user.login(s.userInfo.id),i.resolve(!0)},function(e){i.reject(!1)}):i.resolve(!0),i.promise},getInfo:function(e){var n=t.defer(),i=this;return this.setInfo(e).then(function(e){if(e){if(i.userInfo.userFullName){try{$crisp.push(["set","user:email",[i.userInfo.userEmail]]),$crisp.push(["set","user:nickname",[i.userInfo.userFullName]]),$crisp.push(["set","user:phone",[i.userInfo.userMobileNumber]]),$crisp.push(["set","user:avatar",[i.userAvatar]])}catch(t){}try{Raven.setUserContext({email:i.userInfo.userEmail})}catch(t){}}n.resolve(i.userInfo)}else n.reject(!1)}),n.promise},getId:function(e){var n=t.defer(),i=this;return this.setInfo(e).then(function(e){e?n.resolve(i.userId):n.reject(!1)}),n.promise},getAvatar:function(e){var n=t.defer(),i=this;return this.setInfo(e).then(function(e){e?n.resolve(i.userAvatar):n.reject(!1)}),n.promise},logout:function(){var i=t.defer(),s=this;return e.get("","/user/logout",function(e){e.data.status?s.getInfo(!0).then(function(){s.isLogin=!1,localStorage.removeItem("basket"),n.clearUserAddresses(),i.resolve(!0)}):i.reject(!1)},function(){i.reject(!1)}),i.promise},login:function(e){return i({method:"POST",url:"/client-api/user/login",data:e}).then(function(e){return e},function(e){return e})},register:function(t){return i({method:"POST",url:"/client-api/user/register",data:t}).then(function(t){return 1==t.data.status?e.showNotification("success",t.data.message_fa):e.showNotification("error",t.data.message_fa),t},function(t){return e.showNotification("warning",t.statusText),t})},sendCode:function(t){return isUndefinedOrNull(t)?(e.showNotification("error","       .             ."),!1):i({method:"POST",url:"/client-api/user/sendVerifyCode",data:{userMobileNumber:t}})},sendCodeAgain:function(t,n){if(isUndefinedOrNull(t))return void e.showNotification("error","           .");switch(t){case"sms":case"call":return this.sendCode(n);case"intercome":window.Intercom("showNewMessage","\n          .\n       .");case"crisp":s()}},verifyCode:function(t,n){return"undefined"==typeof t?(e.showNotification("error","     ."),!1):t<1e3||t>9999||!/^\d+$/.test(t)?(e.showNotification("error","           1000  9999  ."),!1):i({method:"POST",url:"/client-api/user/verifyCode",data:{verificationCode:t,userMobileNumber:n,referrer:window.location.referrer}})}}}]);var app;app=angular.module("ng-typeahead",[]),app.directive("ngTypeahead",function(e,t){return{restrict:"E",scope:{data:"=",delay:"=?",forceSelection:"=?",limit:"=?",startFilter:"=?",threshold:"=?",onBlur:"=?",onSelect:"=?",onType:"=?"},require:"?ngModel",transclude:!0,link:function(e,n,i,s){var a,o,r,l;return a={UP:38,DOWN:40,ENTER:13,TAB:9,ESC:27},r=e.search,l=void 0,o=!1,e.index=0,e.delay||(e.delay=0),e.placeholder=i.placeholder,e.style=i.style,e.initialVal=i.init,void 0===e.initialVal||(e.search=e.initialVal),void 0===e.startFilter&&(e.startFilter=!0),void 0===e.limit&&(e.limit=1/0),
void 0===e.threshold&&(e.threshold=0),void 0===e.forceSelection&&(e.forceSelection=!1),e.$watch("search",function(t){if(e.index=0,s.$setViewValue(t),t!==r)return o=!1,void 0!==t?(e.onType&&e.onType(e.search),e.showSuggestions=e.suggestions.length&&e.search&&e.search.length>e.threshold):void 0}),e.$onBlur=function(){return!o&&e.forceSelection&&(e.search=r),e.showSuggestions=!1},e.$onSelect=function(n){return l=!0,r=n.label,e.search=n.label,o=!0,e.onSelect&&e.onSelect(n),e.showSuggestions=!1,t(function(){return l=!1})},e.$onKeyDown=function(t){switch(t.keyCode){case a.UP:return e.index>0?e.index--:e.index=e.suggestions.length-1;case a.DOWN:return e.index<e.suggestions.length-1?e.index++:e.index=0;case a.ENTER:return e.$onSelect(e.suggestions[e.index]);case a.TAB:return e.$onSelect(e.suggestions[e.index]);case a.ESC:return e.showSuggestions=!1}}},template:'<input ng-model="search" placeholder="{{placeholder}}" style="{{style}}" ng-keydown="$onKeyDown($event)" ng-model-options="{ debounce: delay }" ng-blur="$onBlur()" class="ng-typeahead-input typeahead tt-input"/>\n<div class="ng-typeahead-wrapper">\n  <ul  class="ng-typeahead-list" ng-show="showSuggestions">\n    <li style=\'list-style-type: none\' class="ng-typeahead-list-item" ng-repeat="item in suggestions = (data | filter:search | startsWith:search:startFilter |limitTo: limit | highlight:search)" ng-mousedown="$onSelect(item)" ng-class="{\'active\': $index == index}" ng-bind-html="item.html"></li>\n    </ul>\n</div>\n<div ng-transclude>'}}),app.filter("startsWith",function(e){var t;return t=function(e,t){if(e&&t)return 0===e.toLowerCase().indexOf(t.toLowerCase())},function(e,n,i){var s;return i?(s=[],angular.forEach(e,function(e){if(t(e.label,n))return s.push(e)}),s):e}}),app.filter("highlight",function(e){return function(t,n){return angular.forEach(t,function(t){var i,s,a,o;if(n)return o="("+n.split(/\ /).join(" |")+"|"+n.split(/\ /).join("|")+")",i=new RegExp(o,"gi"),a=t.label.slice(n.length),o.length&&(s=t.label.slice(0,n.length).replace(i,'<span class="ng-typeahead-highlight">$1</span>')),t.html=e.trustAsHtml(s+a)}),t}}),app.controller("chainFiltersController",["$scope","$rootScope","ChainRestaurantsList","$timeout","ResponsiveService",function(e,t,n,i,s){var a=(s.isMobile(),s.isTablet(),s.isDesktop()),o={0:"...",1:""};e.restaurantToggleCurrentStatus=o[0];var r=4;e.restaurantToggleLimit=r;var l={0:"...",1:""};e.foodToggleCurrentStatus=l[0],e.foodToggleLimit=r,e.getObjectLength=function(e){return null!=typeof e&&"undefined"!=typeof e?Object.keys(e).length:0};var c=function(){i(function(){$(".fixed-side-sticky").css({height:$("div.filter").outerHeight()+$(".sidebar-fix").offset().top-150})},0)},d=function(e){void 0!=typeof e&&"undefined"!=typeof e||(e=0),i(function(){$("html, body").animate({scrollTop:"0px"},e)},10)},u=function(){e.searchKeyword="",e.restaurantFilters={},e.foodFilters={},i(function(){document.getElementsByTagName("BODY")[0].style.overflowX="hidden",a&&$(".sidebar-fix").hcSticky({top:70,bottomEnd:160,wrapperClassName:"fixed-side-sticky",offResolutions:[-992],responsive:!0})},0),c()};u(),e.resetRestaurantSetting=function(){e.searchKeyword&&n.startLoading(),n.reset(e.searchKeyword),e.searchKeyword="",e.restaurantFilters={},e.foodFilters={},e.timeToggle=!1,e.rateToggle=!1,e.financialToggle=!1},e.filterByFoodType=function(t){n.startLoading(),d(),i(function(){n.stopLoading(),e.foodFilters[t]?delete e.foodFilters[t]:e.foodFilters[t]=t},100),_.debounce(p,400)()},e.filterByRestaurantType=function(t){n.startLoading(),d(),i(function(){n.stopLoading(),e.restaurantFilters[t]?delete e.restaurantFilters[t]:e.restaurantFilters[t]=t},100),_.debounce(p,400)()};var p=function(){t.$broadcast("Filters::FilterStarted"),e.searchOrFilter=!0,n.reset();var i=_.filter(n.list,function(t){var n=!1;return 0!=Object.keys(e.restaurantFilters).length?angular.forEach(e.restaurantFilters,function(e){_.isNil(t.restaurantType[e])||(n=!0)}):n=!0,0!=Object.keys(e.foodFilters).length&&n&&(n=!1,angular.forEach(e.foodFilters,function(e){_.isNil(t.restaurantFoodTypes[e])||(n=!0)})),n});e.$apply(function(){n.list=i})};e.searchFormSubmit=function(){e.searchOrFilter=!0,d(),e.showSpinner=!0,e.searchKeyword&&n.searchRestaurantByName(e.searchKeyword).then(function(t){e.showSpinner=!1,d()})},e.sortByTime=function(t,i,s){function a(){var t=_.chain(n.list).sortBy(function(e){return(e.maxDeliveryTime+e.minDeliveryTime)/2}).sortBy(function(e){return!e.isOpen}).value();e.$apply(function(){n.list=t,d(300)})}var o=!1;d(),(t||i||s)&&(e.resetRestaurantSetting(),(i||s)&&(o=!0)),!o&&t||(h(t),_.debounce(a,400)())};var h=function(t){n.startLoading(),i(function(){n.stopLoading(),e.timeToggle=!t},100)},f=function(t){n.startLoading(),e.rateToggle=!t,i(function(){n.stopLoading()},100)},g=function(t){n.startLoading(),i(function(){e.financialToggle=!t,n.stopLoading()},100)};e.changeView=function(t){n.startLoading(),i(function(){n.stopLoading(),"grid"==t?e.sharedData.gridView=!0:e.sharedData.gridView=!1},100)},e.sortByRate=function(t,i,s){function a(){d();var t=_.chain(n.list).sortBy(function(e){return e.restaurantCommentCount}).sortBy(function(e){return e.restaurantRateAverage}).sortBy("isOpen").reverse().value();e.$apply(function(){n.list=t})}var o=!1;d(),(t||i||s)&&(e.resetRestaurantSetting(),(t||s)&&(o=!0)),!o&&i||(f(i),_.debounce(a,400)())},e.sortByFinancialLevel=function(t,i,s){function a(){var t=_.chain(n.list).sortBy(function(e){return e.restaurantFinancialLevel.financeLevel}).sortBy(function(e){return!e.isOpen}).value();e.$apply(function(){n.list=t})}var o=!1;d(),(t||i||s)&&(e.resetRestaurantSetting(),(i||t)&&(o=!0)),!o&&s||(g(s),_.debounce(a,400)())},e.changeRestaurantToggle=function(){e.restaurantToggleLimit=e.restaurantToggleLimit==r?e.restaurantToggleLimit=Object.keys(n.restaurantTypes).length:e.restaurantToggleLimit=r,e.restaurantToggleCurrentStatus=e.restaurantToggleCurrentStatus==o[0]?o[1]:o[0],c()},e.changeFoodToggle=function(){e.foodToggleLimit=e.foodToggleLimit==r?e.foodToggleLimit=Object.keys(n.foodTypes).length:e.foodToggleLimit=r,e.foodToggleCurrentStatus=e.foodToggleCurrentStatus==l[0]?l[1]:l[0],c()}}]),app.controller("ChainRestaurantsController",["$rootScope","$scope","ClientGateway","$stateParams","$timeout","$window","ChainRestaurantsList",function(e,t,n,i,s,a,o){t.restaurantsList=o,t.chainRestaurant={},t.headerStyle={},t.sharedData={filteringInfo:{},regionData:{},gridView:!0};var r=function(){s(function(){try{$(".fixed-side-sticky").css({height:$("div.filter").outerHeight()+$(".sidebar-fix").offset().top-100})}catch(e){}},0)},l=function(){t.restaurants={},t.searchOrFilter=!1,o.initialize({slug:i.slug,city:""}).then(function(e){r(),t.chainRestaurant=e.data.result.chainRestaurant,document.title="     "+t.chainRestaurant.name,s(function(){t.headerStyle["background-image"]="url('"+t.chainRestaurant.cover+"')"},100),t.restaurants=e.data.result.restaurants.restaurants,t.contentSpinner=!1}),t.toggleFood=!0,t.toggleType=!0;var e=angular.element(a),n=e.width();c(n),r()},c=function(e){e<769&&(t.hideFilter=!0)};t.getNumber=function(e){return new Array(e)},l()}]),app.factory("ChainRestaurantsList",["$rootScope","ClientGateway","$q","$http",function(e,t,n,i){return{initialized:!1,loading:!1,timeoutPromises:[],allRestaurants:[],list:[],restaurantTypes:[],foodTypes:[],restaurantsCount:0,startLoading:function(){this.loading=!0},stopLoading:function(){this.loading=!1},initialize:function(e){this.cancelRequests();var i=n.defer(),s=this,a=n.defer();return this.timeoutPromises.push(a),t.get(e,"/chain-restaurant/all",function(e){var t=e.data.result;s.list=t.restaurants.restaurants,s.allRestaurants=t.restaurants.restaurants,"undefined"!=typeof t.restaurants&&(s.setResultData(t.restaurants),i.resolve(e))},n.defer()),i.promise},reset:function(){this.startLoading(),this.list=this.allRestaurants,this.stopLoading()},empty:function(){this.list=[]},cancelRequests:function(){angular.forEach(this.timeoutPromises,function(e){e.resolve()}),this.timeoutPromises=[]},searchRestaurantByName:function(e){this.cancelRequests();var i=n.defer(),s=this,a=n.defer();return this.timeoutPromises.push(a),t.getWithTimeout({keyword:e,path:window.location.pathname,state:$state.current.name},"/restaurant/search",function(e){s.setResultData(e.data.result),i.resolve()},n.defer()),i.promise},setResultData:function(e){this.list=e.restaurants,this.allRestaurants=e.restaurants,this.foodTypes=e.allFoodTypes,this.restaurantTypes=e.allRestaurantTypes}}}]),app.controller("contactsusController",["$scope","$stateParams","ClientGateway",function(e,t,n){e.textMessage={},e.isShowError=!1,e.NotsendText=!1,e.emailFormat=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/;var i=function(e){var t=!1;if("undefined"!=typeof e){var n="^09[0-9]{9}$",i=new RegExp(n);if(i.test(e))return!0}return t};e.checkPhoneBlur=function(t){e.isShowError=!i(t)},e.saveText=function(){return e.textMessage.contactTitle?e.textMessage.contactEmail?e.textMessage.contactPhone?e.textMessage.contactType?e.textMessage.contactText?void n.post(e.textMessage,"/contacts",function(t){t.data.status&&(e.NotsendText=!0)}):void n.showNotification("error","    ."):void n.showNotification("error","     ."):void n.showNotification("error","      ."):void n.showNotification("error","      ."):void n.showNotification("error","     .")}}]),app.controller("increaseController",["$stateParams","ClientGateway","$scope",function(e,t,n){n.paymentAmount=e.paymentAmount,n.paymentId=e.paymentId,t.get({},"/user/userBalance",function(e){n.userCasheBalance=e.data.result})}]),app.controller("paymentController",["$scope","$timeout","$cookies","$stateParams","ClientGateway","$location","$rootScope","$sce","$state","Users","$window","Basket","UserLocation","ResponsiveService","$interval",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f){var g,m,v=(h.isMobile(),h.isTablet(),h.isDesktop());e.paymentButtonText="";var b=function(){switch(e.factorHide=!1,e.isSpinnerShow=!1,e.isGiftSpinnerShow=!1,e.contentSpinner=!0,e.gateways={selected:1},l.current.name){case"app.success-pay":e.orderId=i.orderId,u.clear();break;case"app.failed-pay":e.orderId=i.orderId;break;case"app.failed-pay-link":e.orderId=i.orderId;break;case"app.pay":if(0==i.id)return void l.go("app.cancel-pay");e.fetcheddata=!1,e.addresses=!1,e.pay=!1,e.amount=!1,e.gifted=!1,e.giftprice=0,e.bankgateways=!1,e.userAddress={},e.addresslock=!1,e.other={},e.other.id=!1,e.backupphone="",e.bankAndAccount=!1,e.acceptConditions=!0,w()}var t=function(t){t<768?e.factorHide=!0:t>768&&(e.factorHide=!1)},n=angular.element(d),s=n.width();t(s),angular.element(d).bind("resize",function(){var e=d.innerWidth;t(e)})};e.showRestaurantListByRegion=function(){var e=p.getNeighborhood();e&&l.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug})};var y=o.$on("UserAddressSelected::Updated",function(t,n){e.payButton=!0,e.isSpinnerShow=!0,u.changeDeliveryZoneId(n).then(function(t){e.payButton=!1,e.isSpinnerShow=!1,e.amount.time=[n.deliveryZoneMinDeliveryTime,n.deliveryZoneMaxDeliveryTime],e.currentDeliveryZonePrice=t.deliveryZonePrice,e.payAmount=e.realPayAmount-e.giftprice+t.deliveryZonePrice,e.amount.total=t.totalPrice,e.amount.carry=t.deliveryZonePrice,e.restaurant.deliveryTime=e.amount.time,e.userAddress.deliveryZoneId=t.deliveryZoneId,e.userAddress.selected=n.userAddressId})["catch"](function(t){e.payButton=!1,e.isSpinnerShow=!1,e.userAddress.selected=n.userAddressId,e.userAddress.deliveryZoneId=n.deliveryZoneId})});e.$on("$destroy",function(){y()}),e.giftcard=function(){if("undefined"==typeof e.gift)return s.showNotification("error","    ."),!1;var t={userAddressId:e.userAddress.selected,orderId:i.id,campaginCode:e.gift.toLowerCase(),price:e.realPayAmount+e.currentDeliveryZonePrice};e.giftButton=!0,e.isGiftSpinnerShow=!0,s.get(t,"/campaign/checkCode",function(t){if(t.data.status){e.gifted=!0,e.giftButton=!1,e.isGiftSpinnerShow=!1,e.giftprice=t.data.result.discountAmount;var n=t.data.result.newTotalPrice;0!=n?(0!=e.amount.balance&&"undefined"!=typeof e.userCashBalaneAfterPayment&&e.amount.balance>=n&&(e.currentBalance=e.amount.balance-(n>0?n:0),e.useCashWithBankAmount=e.currentBalance),e.payAmount=e.realPayAmount-parseInt(e.giftprice)+e.currentDeliveryZonePrice,e.beforeUseUserBalance-=parseInt(e.giftprice)):(e.payAmount=0,e.payment="account",e.bankid=null,e.useCashWithBankAmount>0&&(e.currentBalance=e.useCashWithBankAmount,e.useCashWithBankAmount=0)),e.payAmount<=0&&(e.payAmount=0,e.bankAndAccount&&(e.userCashBalaneAfterPayment+=parseInt(e.giftprice)))}else e.giftButton=!1,e.isGiftSpinnerShow=!1},function(){e.giftButton=!1,e.isGiftSpinnerShow=!1})},e.priceItem=function(e){var t=e.orderItemPrice;return t=parseInt(t),e.options&&angular.forEach(e.options,function(e,n){t+=parseInt(e.foodOptionPrice)}),t},e.parsePrice=function(e){return parseInt(e)};var w=function(){s.get("","/order/orderitems/"+i.id,function(n){n.data.status&&(webengage.track("Visit Payment Page",{orderId:n.data.result.orderItems[0].orderId,orderHashId:i.id,restaurantId:n.data.result.orderItems[0].restaurantsRestaurantId,totalCount:n.data.result.orderItemCount,totalPrice:n.data.result.amount.total,deliveryZonePrice:n.data.result.amount.carry}),e.orderItems=n.data.result.orderItems,"undefined"!=typeof e.orderItems[0].userAddressesUserAddressId&&(e.userAddress.selected=e.orderItems[0].userAddressesUserAddressId),e.amount=n.data.result.amount,e.currentDeliveryZonePrice=e.amount.carry,e.payAmount=e.amount.total,e.realPayAmount=e.amount.total-e.amount.carry,e.bankgateways=n.data.result.bankgateways,e.bankgateways&&(e.bankid=e.bankgateways[0].bankGatewayId),e.changeBankGatway=function(t){e.bankid=t},t(function(){e.restaurant=n.data.result.restaurant},100),e.orderDeliveryType=n.data.result.orderDeliveryType,e.other.description=n.data.result.orderDescription,c.getInfo().then(function(t){e.user=t}),e.backupphone=e.other.phone,e.currentBalance=e.amount.balance,e.payment="bank",e.contentSpinner=!1,t(function(){document.getElementsByTagName("BODY")[0].style.overflowX="hidden",v&&$(".sidebar-fix-p").fixTo("payment-panel",{className:"basket",zIndex:10,mind:".footer",mindViewport:!0,top:70})},0))})};e.useCashWithBank=function(){e.bankAndAccount?(e.userCashBalaneAfterPayment=e.amount.balance,e.userCashBalaneAfterPayment>=e.payAmount?(e.beforeUseUserBalance=e.payAmount,e.userCashBalaneAfterPayment-=e.payAmount,e.currentBalance=e.userCashBalaneAfterPayment,e.payAmount=0,e.bankid=0,e.payment="account"):(e.userCashBalaneAfterPayment=0,e.beforeUseUserBalance=e.payAmount,e.payAmount-=e.amount.balance,e.currentBalance=e.userCashBalaneAfterPayment)):(e.userCashBalaneAfterPayment=0,e.payAmount=e.beforeUseUserBalance,e.currentBalance=e.amount.balance,e.payment="bank",e.bankid=e.bankgateways[0].bankGatewayId),e.payAmount<=e.amount.balance},e.OrderNow=function(){return e.orderDeliveryType||"undefined"!=typeof e.userAddress.selected&&null!==e.userAddress.selected?e.acceptConditions?!e.payment||e.payment.length<2?void s.showNotification("error","     "):e.payAmount<=100&&"bank"===e.payment?void s.showNotification("error","    100      ."):(m={gateway:"bank"===e.payment,accCharge:e.bankAndAccount||"account"===e.payment,orderId:i.id,userAddressId:e.userAddress.selected,deliveryZoneId:e.userAddress.deliveryZoneId,orderDescription:e.other.description,paymentType:e.payment,acceptConditions:e.acceptConditions,payAmount:e.payAmount,orderDeliveryType:e.orderDeliveryType},e.gifted&&(m.campaginCode=e.gift),"bank"==e.payment&&e.payAmount>0&&(m.bankgate=e.bankid),e.isSpinnerShow=!0,e.payButton=!0,void s.post(m,"/payment/action",function(t){if(t.data.status)switch(e.payment){case"account":o.$broadcast("headerReload",{}),e.payButton=!1,e.isSpinnerShow=!1;break;case"bank":S(t.data.result)}else e.payButton=!1,e.isSpinnerShow=!1},function(t){e.payButton=!1,e.isSpinnerShow=!1})):void s.showNotification("error","      "):void s.showNotification("error","      .")};var x=function(t,n){e=e||angular.element(document).scope(),n||e.$$phase?window.location=t:(a.path(t),e.$apply())},k=function(e){s.post(e,"/payment/isPayed",function(e){1==e.data.status&&(u.clear(),f.cancel(g))})},S=function(t){if("post"==t.type){var n="";angular.forEach(t.fields,function(e,t){n+="<input type='hidden' name='"+t+"' value='"+e+"' > "});var i=$("<form />").attr({action:t.action,method:"POST"}).append(n);$("body .pay-role").append(i),e.payButton=!1,e.isSpinnerShow=!1,i.submit()}else"get"==t.type&&(t.hasOwnProperty("wait")?(e.paymentButtonText="  ",g=f(function(){k(m)},4e3)):(e.payButton=!1,e.isSpinnerShow=!1),x(t.url,!0))};b(),e.userNeighborhood=p.getNeighborhood(),e.orderIdLink=i.id,t(function(){o.$broadcast("PageTitle::Update",{title:" -  "})},150)}]),app.controller("restaurantModalController",["$scope","$cookies","restaurantModalService","$timeout","$rootScope","UserLocation",function(e,t,n,i,s,a){var o=function(){e.show=!1,e.userNeighborhood=[]};e.$on("RestaurantData::updated",function(t,n){a.isExists()?r(e.restaurant.deliveryTime)?(e.userNeighborhood[1]=e.restaurant.neighborhood.name,e.userNeighborhood[3]=e.restaurant.neighborhood.slug):(e.userNeighborhood=a.getCookieString(),e.userNeighborhood=e.userNeighborhood.split(",")):(e.userNeighborhood[1]=e.restaurant.neighborhood.name,e.userNeighborhood[3]=e.restaurant.neighborhood.slug)}),e.$watch(function(){return n.displayModal},function(t){"undefined"!=typeof t&&(e.show=n.displayModal)}),e.$watch("show",function(e){n.displayModal=e});var r=function(e){return angular.isUndefined(e)||null===e};e.closeModal=function(){e.show=!1},s.$on("mapMarkerController:toggleModal",function(e,t){n.displayModal=t}),o()}]),app.controller("cooperationController",["$scope","ClientGateway","$state","toaster","$timeout",function(e,t,n,i,s){var a=function(){e.notSend=!1,e.managerDisplay=!1,e.enableSubmit=!1,e.tried=!1,e.userTypes=[{id:1,text:"  "},{id:2,text:""}],e.restaurantInformation={cooperationName:"",cooperationType:"",cooperationCity:"",cooperationAddress:"",cooperationDescription:"",cooperationTel:"",cooperationManager:"",cooperationUserType:""},o(),e.changeHeight()},o=function(){t.get("","/tag/restaurantTag",function(t){e.tags=t.data.result})};e.selectRestaurantType=function(t){e.restaurantInformation.cooperationType=t,r()},e.changeUserType=function(t){e.restaurantInformation.cooperationUserType=t,t==e.userTypes[0].id?e.managerDisplay=!0:e.managerDisplay=!1,r()};var r=function(){s(function(){e.changeHeight()},0)};e.saveInfo=function(i){e.tried=!0,e.cooperationForm.$invalid||(t.post(i,"/cooperation",function(t){t.data.status&&(e.notSend=!0)}),n.go("app.homepage",{})),e.changeHeight()},e.changeHeight=function(){s(function(){$(".height").css("min-height",$(".newheight").height()+25)},0)},a()}]),app.controller("commentRestaurantNewController",["$scope","RestaurantVotes","RestaurantSeoDataBuilder",function(e,t,n){e.selectedTab.bool=1,e.ids={overalIds:"overallIds",qualityIds:"qualityIds",deliverySpeedIds:"deliverySpeedIds",chiliveryUxIds:"chiliveryUxIds"},n.updateSingleRestaurantComment(e.seoData);var i=function(t){var n=t.rateCount;e.totalComment=t.totalComment,e.rateCountAvgOne=n[1]?n[1].avg:0,e.rateCountAvgTwo=n[2]?n[2].avg:0,e.rateCountAvgThree=n[3]?n[3].avg:0,e.lastOrder=t.canWriteComment,e.foodQuality=t.foodQuality,e.foodQuality&&(e.foodQualityVisible=!0),e.deliverySpeed=t.deliverySpeed,e.deliverySpeed&&(e.deliverySpeedVisible=!0),e.lastOrder&&(e.commentVisibility=!0)},s=function(){e.starCount=5,e.loading=!0,e.isTextareaReadOnly=!1,e.commentVisibility=!1,e.showLoading=!0,e.foodQualityVisible=!1,e.deliverySpeedVisible=!1,e.rates={},e.canWriteComment=!1,t.getAll(e.restaurant.id).then(function(t){var n=t.data.result;i(n),e.comments={comments:n.comments,totalComment:n.totalComment},e.loading=!1})};s(),e.$on("InitAllComment",function(){s()})}]),app.controller("downloadAppController",["$scope","$stateParams","ClientGateway","$location","$sce",function(e,t,n,i,s){e.isSendLinkSpinner=!1,e.sendDowloadLinkButton=!1;var a=function(e){return angular.isUndefined(e)||null===e};e.sendMobileNo=function(){return a(e.mobileNumber)?(n.showNotification("error","     ."),!1):(e.isSendLinkSpinner=!0,e.sendDowloadLinkButton=!0,void(e.downloadAppForm.$valid&&n.post({},"/subscribers/app/"+e.mobileNumber,function(t){e.sendDowloadLinkButton=!1,e.isSendLinkSpinner=!1},function(t){e.sendDowloadLinkButton=!1,e.isSendLinkSpinner=!1})))}}]),app.controller("filtersController",["$scope","$rootScope","RestaurantsList","$timeout","ResponsiveService","ClientGateway",function(e,t,n,i,s,a){var o=(s.isMobile(),s.isTablet(),s.isDesktop()),r={0:"...",1:""};e.restaurantToggleCurrentStatus=r[0];var l=4;e.restaurantToggleLimit=l;var c={0:"...",1:""};e.foodToggleCurrentStatus=c[0],e.foodToggleLimit=l,e.getObjectLength=function(e){return null!=typeof e&&"undefined"!=typeof e?Object.keys(e).length:0};var d=function(){i(function(){$(".fixed-side-sticky").css({height:$("div.filter").outerHeight()+$(".sidebar-fix").offset().top-150})},0)},u=function(e){void 0!=typeof e&&"undefined"!=typeof e||(e=0),i(function(){$("html, body").animate({scrollTop:"0px"},e)},10)},p=function(){e.searchKeyword="",e.restaurantFilters={},e.foodFilters={},i(function(){document.getElementsByTagName("BODY")[0].style.overflowX="hidden",o&&$(".sidebar-fix").hcSticky({top:70,bottomEnd:160,wrapperClassName:"fixed-side-sticky",offResolutions:[-992],responsive:!0})},0)};p(),e.resetRestaurantSetting=function(){e.searchKeyword&&n.startLoading(),n.reset(e.searchKeyword),e.searchKeyword="",e.restaurantFilters={},e.foodFilters={},e.timeToggle=!1,e.rateToggle=!1,e.financialToggle=!1},e.filterByFoodType=function(t){n.startLoading(),u(),i(function(){n.stopLoading(),e.foodFilters[t]?delete e.foodFilters[t]:e.foodFilters[t]=t},100),_.debounce(h,400)()},e.filterByRestaurantType=function(t){n.startLoading(),u(),i(function(){n.stopLoading(),e.restaurantFilters[t]?delete e.restaurantFilters[t]:e.restaurantFilters[t]=t},100),_.debounce(h,400)()};var h=function(){t.$broadcast("Filters::FilterStarted"),e.searchOrFilter=!0,n.reset();var i=_.filter(n.list,function(t){var n=!1;return 0!=Object.keys(e.restaurantFilters).length?angular.forEach(e.restaurantFilters,function(e){_.isNil(t.restaurantType[e])||(n=!0)}):n=!0,0!=Object.keys(e.foodFilters).length&&n&&(n=!1,angular.forEach(e.foodFilters,function(e){_.isNil(t.restaurantFoodTypes[e])||(n=!0)})),n});e.$apply(function(){n.list=i})};e.searchFormSubmit=function(){return""==e.searchKeyword||void 0==e.searchKeyword?(a.showNotification("error","         . "),!1):(n.startLoading(),e.searchOrFilter=!0,u(),e.showSpinner=!0,void n.searchRestaurantByName(e.searchKeyword).then(function(t){n.stopLoading(),e.showSpinner=!1,_.debounce(h,400)(),u()}))},e.sortByTime=function(t,i,s){function a(){var t=_.chain(n.list).sortBy(function(e){return(e.maxDeliveryTime+e.minDeliveryTime)/2}).sortBy(function(e){return!e.isOpen}).value();e.$apply(function(){n.list=t,u(300)})}var o=!1;u(),(t||i||s)&&(e.resetRestaurantSetting(),(i||s)&&(o=!0)),!o&&t||(f(t),_.debounce(a,400)())};var f=function(t){n.startLoading(),i(function(){n.stopLoading(),e.timeToggle=!t},100)},g=function(t){n.startLoading(),e.rateToggle=!t,i(function(){n.stopLoading()},100)},m=function(t){n.startLoading(),i(function(){e.financialToggle=!t,n.stopLoading()},100)};e.changeView=function(t){n.startLoading(),i(function(){n.stopLoading(),"grid"==t?e.sharedData.gridView=!0:e.sharedData.gridView=!1},100)},e.sortByRate=function(t,i,s){function a(){u();var t=_.chain(n.list).sortBy(function(e){return e.restaurantCommentCount}).sortBy(function(e){return e.restaurantRateAverage}).sortBy("isOpen").reverse().value();e.$apply(function(){n.list=t})}var o=!1;u(),(t||i||s)&&(e.resetRestaurantSetting(),(t||s)&&(o=!0)),!o&&i||(g(i),_.debounce(a,400)())},e.sortByFinancialLevel=function(t,i,s){function a(){var t=_.chain(n.list).sortBy(function(e){return e.restaurantFinancialLevel.financeLevel}).sortBy(function(e){return!e.isOpen}).value();e.$apply(function(){n.list=t})}var o=!1;u(),(t||i||s)&&(e.resetRestaurantSetting(),(i||t)&&(o=!0)),!o&&s||(m(s),_.debounce(a,400)())},e.changeRestaurantToggle=function(){e.restaurantToggleLimit=e.restaurantToggleLimit==l?e.restaurantToggleLimit=Object.keys(n.restaurantTypes).length:e.restaurantToggleLimit=l,e.restaurantToggleCurrentStatus=e.restaurantToggleCurrentStatus==r[0]?r[1]:r[0],d()},e.changeFoodToggle=function(){e.foodToggleLimit=e.foodToggleLimit==l?e.foodToggleLimit=Object.keys(n.foodTypes).length:e.foodToggleLimit=l,e.foodToggleCurrentStatus=e.foodToggleCurrentStatus==c[0]?c[1]:c[0],d()}}]),app.directive("foodItem",[function(){return{link:function(e,t,n){},templateUrl:"/app/user/ngApp/templates/views/restaurants/food-item.html",restrict:"E"}}]),app.directive("foodItemVertical",[function(){return{link:function(e,t,n){},replace:!0,restrict:"E",templateUrl:"/app/user/ngApp/templates/views/restaurants/food-item-vertical.html"}}]),app.controller("footerController",["$scope","$http","UserLocation","RecommendedRestaurant",function(e,t,n,i){var s=function(){o(),a(),e.recommendedRestaurant=i};e.$on("UserLocation::cityChanged",function(e,t){o(),i.cityChanged(),a()});var a=function(){i.getRestaurantRecommended(10).then(function(e){})},o=function(){e.topRestaurants=[];var i=n.getUserCity();t({method:"GET",url:"/client-api/restaurant/best",params:{cityId:i},cache:!0}).then(function(t){e.topRestaurants=t.data})};s()}]),app.controller("infoRestaurantNewController",["$scope","$timeout","RestaurantSeoDataBuilder",function(e,t,n){e.selectedTab.bool=2,e.showAlldeliveryZone=!1,e.selectedHourIndex=1;var i=[],s=function(){i=Object.keys(e.restaurant.openingInfo),angular.forEach(e.restaurant.openingInfo,function(t,n){t[0].isToday===!0&&(e.selectedHourIndex=parseInt(n))}),r(),e.minDeliveryPrice=1/0,e.maxDeliveryPrice=0,angular.forEach(e.restaurant.deliveryZoneList,function(t){t.price<e.minDeliveryPrice&&(e.minDeliveryPrice=t.price),e.maxDeliveryPrice<t.price&&(e.maxDeliveryPrice=t.price)}),e.minDeliveryPrice!==1/0&&0!==e.minDeliveryPrice||(e.minDeliveryPrice=void 0),0===e.maxDeliveryPrice&&(e.maxDeliveryPrice=void 0),n.updateSingleRestaurantInfo(e.seoData)};e.moveUp=function(){e.selectedHourIndex+1>i[i.length-1]||(e.selectedHourIndex++,r())},e.moveDown=function(){e.selectedHourIndex-1<i[0]||(e.selectedHourIndex--,r())};var a=60,o=function(){var t=1,n=1;angular.forEach(e.restaurant.openingInfo,function(i,s){var o=parseInt(s),r=angular.element("#opening-info-"+s);o!==e.selectedHourIndex?o<e.selectedHourIndex?(r.css("top",100-a*(e.selectedHourIndex-n)),n++):(r.css("top",100+a*t),t++):r.css("top","")})},r=function(){t(function(){o()})};s()}]),app.directive("infoSection",[function(){return{link:function(e,t,n){},templateUrl:"/app/user/ngApp/templates/views/restaurants/info-section.html",restrict:"E",replace:!1}}]),app.directive("infoSectionSm",[function(){return{link:function(e,t,n){},templateUrl:"/app/user/ngApp/templates/views/restaurants/info-section-sm.html",restrict:"E",replace:!1}}]),app.directive("latestBuy",["$timeout",function(e){return{link:function(t,n,i){t.showMySelf=!0,t.buyList=[1,2,3,4,5];var s=function(){e(function(){$(".latest-buy").slick({dots:!1,infinite:!1,slidesToShow:3,rtl:!0,arrows:!0,accessibility:!0,slidesToScroll:1,prevArrow:"<span class='icon icon-arrow-right new-sticky-arrow'></span>",nextArrow:"<span class='icon icon-arrow-left new-sticky-arrow'></span>"});var e=$(".slick-slide");slickItemWidth=e.length*e.width(),$(".slick-list").width()>slickItemWidth?$(".slick-arrow").hide():$(".slick-arrow").show()})};s()},restrict:"E",templateUrl:"/app/user/ngApp/templates/views/restaurants/latest-buy.html"}}]),app.filter("toArray",function(){return function(e){var t=[];for(k in e)t.push(e[k]);return t}}),app.controller("listRestaurantsController",["$rootScope","$scope","ClientGateway","$state","$cookies","$stateParams","$filter","$timeout","$window","UserLocation","Regions","mapGeoLocation","$q","RestaurantsList","$http",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f){t.stateCurrentName=i.current.name,t.citySlug=a.city;var g=function(){l.scrollTo(0,0),t.repeatLimit=9};t.repeatLimit=9,t.$on("Filters::FilterStarted",function(){g()}),t.increaseRepeatLimit=function(e,n){n==t.repeatLimit-1&&e&&(t.repeatLimit+=9)},t.userLocation=c,t.restaurantsList=h,t.sharedData={filteringInfo:{},regionData:{},gridView:!0},t.resetRestaurantSetting=function(){i.go(i.current,{},{reload:!0})};var m=function(){r(function(){$(".fixed-side-sticky").css({height:$("div.filter").outerHeight()+$(".sidebar-fix").offset().top-100})},0)},v=function(e){e<769&&(t.hideFilter=!0)};t.locationData=null,t.$on("NeighborhoodMap::Initialized",function(e,t){g(),b({region_center:t.center,restaurantSlug:a.slug},t.latitude,t.longitude,!1)}),t.$on("NeighborhoodMap::StartedMoving",function(e,n){t.$apply(function(){m(),h.empty(),h.startLoading()})}),t.$on("NeighborhoodMap::MovementFinished",function(e,t){g(),m(),c.setUserRegionPoint(t.center),b({region_center:t.center,restaurantSlug:a.slug},t.latitude,t.longitude)});var b=function(e,n,s){h.startLoading(),m(),h.searchRestaurantsByPoint(e,n,s).then(function(e){m(),h.stopLoading(),t.citySlug=e.citySlug,t.regionData=e,i.go("app.restaurants.index",{city:e.citySlug,slug:e.regionSlug},{notify:!1})})["catch"](function(e){m(),h.stopLoading(),t.restaurantsCount="0",t.isDisabled=!0})};"app.restaurants.discounted"==i.current.name&&h.getDiscounted().then(function(e){h.stopLoading()}),"app.restaurants.all"==i.current.name&&h.searchRestaurantsByCity(a.city).then(function(e){h.stopLoading()})["catch"](function(e){e.go_to&&(n.showNotification("error",e.message_fa),i.go(e.go_to))});var y=function(){return c.getUserLocation()},w=function(){h.startLoading(),t.toggleFood=!0,t.toggleType=!0;var e=angular.element(l),n=e.width();v(n),t.locationData=y()};w()}]),app.controller("listRestaurantsNewController",["RestaurantSeoDataBuilder","$rootScope","$scope","$state","$stateParams","$window","RestaurantList","$q","UserLocation","Regions","ModalService",function(e,t,n,i,s,a,o,r,l,c,d){function u(e,t){return void 0===e?t:e}var p={sort_by_created:u(s.newest,!1),sort_by_speed:u(s.deliveryTime,!1),sort_by_rating:u(s.rating,!1),sort_by_price:u(s.financialCategory,!1),sort_by_likes:u(s.likes,!1),cityId:"app.chain-restaurants.index"===i.current.name?void 0:u(t.citiesDict[s.city].id,0),point:"",query:u(s.query,""),hasDiscount:1===parseInt(s.discount)?1:void 0,freeDelivery:u(s.freedelivery,!1),mtag:u(s.mtag,void 0),tag:u(o.readyTags(void 0!==s.tags?angular.isArray(s.tags)?s.tags:[s.tags]:void 0),[])};n.chainRestaurant=null,n.repeatLimit={count:15},n.whenInView=function(e,t){t===n.repeatLimit.count-1&&e&&(n.repeatLimit.count+=9)},n.isIndex=""!==s.slug&&void 0!==s.slug&&"app.chain-restaurants.index"!==i.current.name,n.showMap=n.isIndex,"app.chain-restaurants.index"===i.current.name?(p.chainSlug=s.slug,n.isIndex=void 0):n.selectedCity=t.citiesDict[s.city],n.gridView={bool:!0},n.searchedString={str:p.query},n.restaurantTypes=void 0,n.foodTypes=void 0;var h=function(e,t,n,i,s){if(void 0===t)l.setUserCity(n,"select"),l.removeUserLocation();else{var a=[e,t.name,t.id,t.slug,t.mapCenter.latitude,t.mapCenter.longitude,n,i];l.setUserLocation(a,"select",!1),l.setUserRegionPoint(s)}};n.update=function(e,i){var s=!0;if("reset"===e)return n.removeFilters();var a=Object.keys(e)[0];if("tags"===a)p.tag=u(o.readyTags(e[a]),[]);else if("freedelivery"===a)p.freeDelivery=e[a];else if("query"===a)p.query=e[a];else if("point"===a)p.point=e[a],n.showMap=!0,n.isIndex=!0,i&&(n.point=i);else if("newest"===a)p.sort_by_created=e[a],p.sort_by_speed=void 0,p.sort_by_rating=void 0,p.sort_by_price=void 0,
p.sort_by_likes=void 0;else if("deliveryTime"===a)p.sort_by_speed=e[a],p.sort_by_created=void 0,p.sort_by_rating=void 0,p.sort_by_price=void 0,p.sort_by_likes=void 0;else if("rating"===a)p.sort_by_rating=e[a],p.sort_by_created=void 0,p.sort_by_speed=void 0,p.sort_by_price=void 0,p.sort_by_likes=void 0;else if("financialCategory"===a)p.sort_by_price=e[a],p.sort_by_created=void 0,p.sort_by_speed=void 0,p.sort_by_rating=void 0,p.sort_by_likes=void 0;else if("likes"===a)p.sort_by_likes=e[a],p.sort_by_created=void 0,p.sort_by_speed=void 0,p.sort_by_rating=void 0,p.sort_by_price=void 0;else if("discount"===a)p.hasDiscount=e[a];else{if("city"===a)return s=!1,p.cityId=t.citiesDict[e[a]].id,p.point="",c.getCitiesAndNeighborhoodsByCitySlug(t.citiesDict[e[a]].regionSlug).then(function(e){return t.citiesDict=e,f()});if("region"===a)return s=!1,p.point=c.findCenterPointFromSlug(t.citiesDict[e[a].city].neighborhoods,e[a].region),f();"hybrid"===a&&(p.tag=u(o.readyTags(e[a].tags),[]),p.hasDiscount=e[a].discount,angular.forEach(e[a],function(t,n){"newest"===n?p.sort_by_created=e[a][n]:"deliveryTime"===n?p.sort_by_speed=e[a][n]:"rating"===n?p.sort_by_rating=e[a][n]:"financialCategory"===n?p.sort_by_price=e[a][n]:"likes"===n&&(p.sort_by_likes=e[a][n])}))}return s?f():void 0},t.listRestaurant={openMapModal:function(){d.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/mobile/modal-window.html",controller:"mapSearchModal",templateUrl:"/app/user/ngApp/templates/views/mobile/map-search-mobile.html",windowClass:"map-search-modal-container"},{point:n.point,mobile:!0},n)},openFilterModal:function(){d.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/mobile/modal-window.html",controller:"filterSearchModal",templateUrl:"/app/user/ngApp/templates/views/mobile/filter-search-mobile.html",windowClass:"filter-search-modal-container"},{point:n.point,mobile:!0,tags:n.tagsCount},n)}},n.removeFilters=function(){var e={query:void 0,tags:void 0,discount:void 0};return p.query="",p.hasDiscount=void 0,p.freeDelivery=!1,p.tag=[],n.searchedString={str:""},i.transitionTo(i.current.name,e,{location:!0,inherit:!0,relative:i.$current,notify:!1}),f()},n.callSearch=function(){i.transitionTo(i.current.name,{query:n.searchedString.str},{location:!0,inherit:!0,relative:i.$current,notify:!1}).then(function(){n.update({query:n.searchedString.str})})};var f=function(){a.scrollTo(0,0),n.showLoading=!0;var l=r.defer(),c=_.cloneDeep(p);if(void 0!==p.mtag&&(c.tag.push(p.mtag),c.mtag=void 0),"app.chain-restaurants.index"===i.current.name){var d={slug:s.slug};o.getChainRestaurantInfo(d).then(function(e){n.chainRestaurant=e.chainRestaurant})}return o.searchBySpecs(c,l).then(function(a){var o=a.data;if(o.status===!0){n.allRestaurants=o.result.data,n.tagsCount=o.result.tagsCount,n.neighbourhood=o.result.neighbourhood,n.noResult=void 0===n.allRestaurants||0===n.allRestaurants.length,n.repeatLimit.count=15;var r={cityName:"app.chain-restaurants.index"===i.current.name?void 0:t.citiesDict[s.city].regionName,neighbourhoodName:n.neighbourhood?n.neighbourhood.name:void 0,isDiscounted:1==p.hasDiscount,restaurantTypes:n.restaurantTypes,foodTypes:n.foodTypes,query:""==p.query?void 0:p.query,chainRestaurantName:n.chainRestaurant?n.chainRestaurant.name:void 0};e.updateRestaurantListData(r),n.showMap===!0&&n.neighbourhood&&i.transitionTo(i.current.name,{slug:n.neighbourhood.slug},{location:!0,inherit:!0,relative:i.$current,notify:!1}).then(function(){t.$broadcast("changeRegionFromMap",n.neighbourhood)}),l.resolve(n.tagsCount)}else n.neighbourhood=o.result.neighbourhood,n.noResult=!0,n.allRestaurants=[];n.showLoading=!1}),l.promise},g=function(){o.getRestaurantAndFoodTypes().then(function(e){n.foodTypes=e.foodTypes,n.restaurantTypes=e.restaurantTypes,n.showMap===!1?f():l.getUserRegionPoint().then(function(e){var t=function(e){var t=/^(\-?\d+(\.\d+)?),\s*(\-?\d+(\.\d+)?)$/;if(t.test(e)){var n=e.split(",");if(2===n.length)return{lat:n[0],"long":n[1]}}return!1},i=t(e),a=t(s.point);n.point=a===!1?i===!1?m.regionPoint:i:a},function(){n.point=m.regionPoint})},function(){})},m=void 0;n.isIndex?(m=l.getUserLocation(),m&&m.regionSlug!==s.slug||m===!1?c.getNeighborhoodBySlug(t.citiesDict[s.city].id,s.slug).then(function(e){m=e,m.regionPoint={lat:e.mapCenter.latitude,"long":e.mapCenter.longitude},h(t.citiesDict[s.city].regionName,e,t.citiesDict[s.city].id,t.citiesDict[s.city].regionSlug,e.mapCenter.latitude+","+e.mapCenter.longitude),g(),n.selectedRegion=e}):(g(),n.selectedRegion=m)):n.isIndex===!1?(h(t.citiesDict[s.city].regionName,void 0,t.citiesDict[s.city].id,t.citiesDict[s.city].regionSlug,null),g()):g()}]),app.controller("showRestaurantNewController",["$scope","$rootScope","$state","$stateParams","RestaurantData","ResponsiveService","Basket","UserLocation","ModalService","$window","$timeout",function(e,t,n,i,s,a,o,r,l,c,d){e.selectedTab={bool:"app.restaurantnew.show.menu"===n.$current.name?0:"app.restaurantnew.show.comment"===n.$current.name?1:"app.restaurantnew.show.info"===n.$current.name?2:0},e.loading=!0,e.loadingBasket=!1,t.restaurantMenuActions={openBasketModal:function(){e.showMobileBasket={b:!0}}},e.restaurnatDelvieryZoneAlertMessage=!1,e.showMobileBasket={b:!1},e.currentLocation=c.location.origin+n.href("app.restaurantnew.show.menu",{city:i.city,slug:i.slug}),void 0!==i.previous?e.goToRestaurantList=i.previous:e.goToRestaurantList=n.href("app.restaurantsnew.index",{city:i.city}),e.initFoods=function(){e.foodMap={};for(var t=e.restaurant.menuSections,n=0;n<t.length;n++)for(var i=0;i<t[n].foods.length,food=t[n].foods[i];i++)food.status=food.isOpen?1:0,e.foodMap[food.id]=food},s.getRestaurantDetails(i.slug,i.city).then(function(t){return t.status===!1?void n.go("app.404"):(e.restaurant=t.result,e.showActiveButton="/active"===n.current.url&&1===e.restaurant.userRole,e.initFoods(),o.initBasket(e.restaurant,e.foodMap).then(function(t){e.basket=t,o.basketChanged(e.basket.basket,!0)}),null===e.restaurant.menuView&&(e.restaurant.menuView=2),e.selectedView=e.restaurant.menuView<3?e.restaurant.menuView:2,a.isSmallerThanMD()&&(e.selectedView=2),e.coverStyle={"background-image":"url("+(a.isMobile()?e.restaurant.mobileCover:e.restaurant.cover)+")"},e.minDeliveryTime=1/0,e.maxDeliveryTime=0,angular.forEach(e.restaurant.deliveryZoneList,function(t){e.minDeliveryTime>t.minTime&&(e.minDeliveryTime=t.minTime),e.maxDeliveryTime<t.maxTime&&(e.maxDeliveryTime=t.maxTime)}),e.minDeliveryTime!==1/0&&0!==e.minDeliveryTime||(e.minDeliveryTime=void 0),0===e.maxDeliveryTime&&(e.maxDeliveryTime=void 0),e.loading=!1,void(e.seoData={restaurantName:e.restaurant.name,restaurantSlug:e.restaurant.slug,cityName:e.restaurant.neighborhood.cityName,neighbourhoodName:e.restaurant.neighborhood.name,profile:e.restaurant.profile,restaurantBaseType:e.restaurant.baseType,restaurantTypes:e.restaurant.type,foodTypes:e.restaurant.foodTypes,financialLevel:e.restaurant.financialLevel,phone:e.restaurant.phone,point:e.restaurant.point,commentCount:e.restaurant.commentCount,rateAverage:e.restaurant.rateAverage,openingHoursSchema:e.restaurant.openingHoursSchema}))}),e.changeView=function(t){e.selectedView=t},e.countOrder=function(t){return void 0===e.basket?0:e.basket.countOrder(t)},e.ordered=function(t){return void 0!==e.basket&&e.basket.containThis(t)},e.addOneToBasket=function(t,n){e.restaurant.isOpen===!0&&(n?e.basket.addMultipleToBasket(t,o.selectOptions(n,t.options),1):e.basket.addOneToBasket(t),o.basketChanged(e.basket.basket))},e.removeOneFromBasket=function(t,n){n?e.basket.removeMultipleFromBasket(t,o.selectOptions(n,t.options),1):e.basket.removeOneFromBasket(t),o.basketChanged(e.basket.basket)},e.removeEntryFromBasket=function(t,n){e.basket.removeEntryFromBasket(t,n),o.basketChanged(e.basket.basket)},e.calculatePriceOfEntry=function(e,t){return o.calculatePriceOfEntry(e,t)},e.getTotalPrice=function(){return e.basket?e.basket.setAllPrice():0},e.saveBasketData=function(){e.loadingBasket||(e.loadingBasket=!0,o.saveBasketData(e.basket.basket).then(function(t){e.loadingBasket=!1,t!==!1&&n.go("app.pay",{id:t.id})},function(){e.loadingBasket=!1}))},e.changeDeliveryType=function(t){e.basket.basket.deliveryType=t},e.activeRestaurant=function(){var t={restaurantId:e.restaurant.id,restaurantStatus:1};s.activeRestaurant(t)},e.mainActions={},e.$on("$stateChangeStart",function(t,n,i,s,a){"app.pay"!==n.name&&"app.success-pay"!==n.name&&"app.login"!==n.name&&"app.register"!==n.name&&"app.restaurantnew.show.comment"!==n.name&&"app.restaurantnew.show.info"!==n.name&&void 0!==e.basket&&e.basket.basket.totalCount>0&&o.saveBasketData(e.basket.basket)})}]),app.directive("mapSectionInInfo",["$timeout","MAPSTYLE","ModalService",function(e,t,n){return{link:function(i,s,a){var o=function(){var e=i.restaurant.point.split(" "),n=new google.maps.LatLng(e[0],e[1]),s=new google.maps.Map(document.getElementById("map-in-info"),{zoom:14,center:n,panControl:!1,streetViewControl:!1,styles:t,mapTypeControl:!1});new google.maps.Marker({position:n,map:s,icon:{url:"/app/user/assets/img/base/pin-restaurant.png",scaledSize:new google.maps.Size(45,45)}})};e(function(){o()}),i.openModalForShowing=function(){n.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"mapRestaurantModal",templateUrl:"/app/user/ngApp/templates/views/restaurants/modals/restaurant-map-modal.html",windowClass:"map-restaurant-modal-container"},{point:i.restaurant.point,address:i.restaurant.address},i)}},templateUrl:"/app/user/ngApp/templates/views/restaurants/map-section-in-info.html",restrict:"E",scope:{restaurant:"="}}}]),app.controller("mapRestaurantModal",["$scope","MAPSTYLE","data","$timeout",function(e,t,n,i){e.point=n.point,e.address=n.address;var s=function(){var n=e.point.split(" "),i=new google.maps.LatLng(n[0],n[1]),s=new google.maps.Map(document.getElementById("GmapModal"),{zoom:14,center:i,panControl:!1,streetViewControl:!1,styles:t,mapTypeControl:!1});new google.maps.Marker({position:i,map:s,icon:{url:"/app/user/assets/img/base/pin-restaurant.png",scaledSize:new google.maps.Size(45,45)}})};i(function(){s()})}]),app.controller("menuRestaurantNewController",["$scope","ModalService","Basket","RestaurantSeoDataBuilder",function(e,t,n,i){e.selectedTab.bool=0;var s=function(){i.updateSingleRestaurantData(e.seoData)},a=function(n){var i=t.openModal({animation:!0,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"SideDishModalController",templateUrl:"/app/user/ngApp/templates/views/restaurants/modals/food-detail-modal.html",windowClass:"detail-modal-container"},n,e);return i.result};e.mainActions.editBasketItem=function(t,i,s){a({entry:t,food:i,entryId:s}).then(function(t){t&&t.options&&t.food&&void 0!==t.count&&t.entry&&(e.basket.removeEntryFromBasket(t.food,t.entry.options),e.basket.addMultipleToBasket(t.food,t.options,t.count),n.basketChanged(e.basket.basket))})},e.openDetailModal=function(t){var i=1;void 0!==e.basket.basket.items[t.id]&&t.hasOption!==!0&&(i=e.basket.basket.items[t.id].itemCount),a({food:t,count:i}).then(function(t){t&&t.options&&t.food&&void 0!==t.count&&(0===t.options.length?e.basket.addByCountToBasket(t.food,t.count):e.basket.addMultipleToBasket(t.food,t.options,t.count),n.basketChanged(e.basket.basket))})},e.nameAction=function(t){t.hasOption===!0?e.openDetailModal(t):e.addOneToBasket(t)},s()}]),app.directive("menuSection",[function(){return{link:function(e,t,n){e.image?e.menuBackground={"background-image":"url("+e.image+")"}:e.withoutImage=!0},templateUrl:"/app/user/ngApp/templates/views/restaurants/menu-section.html",restrict:"E",replace:!1,scope:{image:"=",menuTitle:"=",sectionId:"=",icon:"="}}}]),app.directive("operateSection",[function(){return{link:function(){},templateUrl:"/app/user/ngApp/templates/views/restaurants/operate-section.html",restrict:"E"}}]),app.controller("restaurantCommentController",["$scope","$stateParams","ClientGateway","$rootScope","$state","RestaurantData","RestaurantVotes","RestaurantSeoDataBuilder",function(e,t,n,i,s,a,o,r){var l=function(){e.loading=!0,e.starCount=5,e.isTextareaReadOnly=!1,e.commentVisibility=!1,e.showLoading=!0,e.foodQualityVisible=!1,e.deliverySpeedVisible=!1,e.rates={},e.canWriteComment=!1,a.setParams(t),e.restaurant&&e.restaurant.restaurantName?(d(e.restaurant),c(e.restaurant.restaurantId)):a.getRestaurantDetails().then(function(e){d(e),e&&c(e.restaurantId)})},c=function(t){o.getAll(t).then(function(t){e.comments=t.data.result.comments;var n=t.data.result.rateCount;e.totalComment=t.data.result.totalComment,e.rateCountAvgOne=n[1]?n[1].avg:0,e.rateCountAvgTwo=n[2]?n[2].avg:0,e.rateCountAvgThree=n[3]?n[3].avg:0,e.lastOrder=t.data.result.canWriteComment,e.foodQuality=t.data.result.foodQuality,e.foodQuality&&(e.foodQualityVisible=!0),e.deliverySpeed=t.data.result.deliverySpeed,e.deliverySpeed&&(e.deliverySpeedVisible=!0),e.lastOrder&&(e.commentVisibility=!0),e.loading=!1})},d=function(t){e.restaurantId=t.restaurantId;var n={restaurantName:t.restaurantName,restaurantSlug:t.restaurantSlug,cityName:t.neighborhood.cityName,neighbourhoodName:t.neighborhood.name,profile:t.profile,restaurantBaseType:t.restaurantBaseType,restaurantTypes:t.restaurantType,foodTypes:t.restaurantFoodTypes};r.updateSingleRestaurantComment(n)};e.ids={overalIds:"overallIds",qualityIds:"qualityIds",deliverySpeedIds:"deliverySpeedIds",chiliveryUxIds:"chiliveryUxIds"},e.reviewData={},e.$on("InitAllComment",function(t,n){o.getAll(e.restaurantId).then(function(t){e.comments=t.data.result.comments;var n=t.data.result.rateCount;e.rateCountAvgOne=n[1]?n[1].avg:0,e.rateCountAvgTwo=n[2]?n[2].avg:0,e.rateCountAvgThree=n[3]?n[3].avg:0,e.lastOrder=t.data.result.canWriteComment,e.foodQuality=t.data.result.foodQuality,e.foodQuality&&(e.foodQualityVisible=!0),e.deliverySpeed=t.data.result.deliverySpeed,e.deliverySpeed&&(e.deliverySpeedVisible=!0),e.lastOrder,e.commentVisibility=!1,e.loading=!1})}),e.FilterFunction=function(){return function(e){return!(!e.commentText||null==e.commentText||" "==e.commentText)}},l()}]),app.controller("restaurantInfoController",["$scope","$stateParams","$timeout","RestaurantData","$sce","$rootScope","RestaurantSeoDataBuilder",function(e,t,n,i,s,a,o){var r=function(){if(e.restaurant&&e.restaurant.restaurantPoint){var t={restaurantName:e.restaurant.restaurantName,restaurantSlug:e.restaurant.restaurantSlug,cityName:e.restaurant.neighborhood.cityName,neighbourhoodName:e.restaurant.neighborhood.name,profile:e.restaurant.profile,restaurantBaseType:e.restaurant.restaurantBaseType,restaurantTypes:e.restaurant.restaurantType,foodTypes:e.restaurant.restaurantFoodTypes};o.updateSingleRestaurantInfo(t),l(),"object"!=typeof e.restaurant.restaurantDescription&&(e.restaurant.restaurantDescription=s.trustAsHtml(e.restaurant.restaurantDescription))}};a.$on("RestaurantData::updated",function(t,n){e.restaurant=n;var i={restaurantName:e.restaurant.restaurantName,restaurantSlug:e.restaurant.restaurantSlug,cityName:e.restaurant.neighborhood.cityName,neighbourhoodName:e.restaurant.neighborhood.name,profile:e.restaurant.profile,restaurantBaseType:e.restaurant.restaurantBaseType,restaurantTypes:e.restaurant.restaurantType,foodTypes:e.restaurant.restaurantFoodTypes};o.updateSingleRestaurantInfo(i),"object"!=typeof e.restaurant.restaurantDescription&&(e.restaurant.restaurantDescription=s.trustAsHtml(e.restaurant.restaurantDescription)),a.$broadcast("PageTitle::Update",{title:"  "+e.restaurant.restaurantName+" "}),l()});var l=function(){var t=e.restaurant.restaurantPoint.split(" "),n=new google.maps.LatLng(t[0],t[1]),i=new google.maps.Map(document.getElementById("map-box"),{zoom:14,center:n,panControl:!1,streetViewControl:!1});new google.maps.Marker({position:n,map:i})};r()}]),app.controller("restaurantMenuController",["$rootScope","$scope","$stateParams","ClientGateway","$location","$timeout","$element","$uibModal","$cookies","$state","RestaurantData","Lightbox","ResponsiveService","Basket","RestaurantSeoDataBuilder",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f){t.isMobile=p.isMobile(),t.isTablet=p.isTablet(),t.viewMode="";var g={grid:1,list:2,listWithModal:3},m=[],v=[],b={};b.setDefaultViewOnMobile=function(){(t.isMobile||t.isTablet)&&(t.listView=!0,t.gridView=!1,t.viewMode="listView")},b.selectViewMode=function(e){switch(e){case g.grid:t.gridView=!0,t.listView=!1,t.listWithModal=!1,t.viewMode="gridView",b.setDefaultViewOnMobile();break;case g.list:t.listView=!0,t.gridView=!1,t.listWithModal=!1,t.viewMode="listView";break;case g.listWithModal:t.listView=!1,t.gridView=!1,t.listWithModal=!0,t.viewMode="listWithModal";break;default:t.listWithModal=!1,t.gridView=!1,t.listView=!0,t.viewMode="listView"}},b.checkButtonActive=function(){var e=$("ul.nav.nav-tabs li");switch(c.current.name){case"app.restaurantnew.show.menu":e.removeClass("active"),$("li.menu").addClass("active")}},b.selectViewMode(t.restaurant.menuView);var y=function(){if(t.restaurant&&t.restaurant.restaurantName){var e={restaurantName:t.restaurant.restaurantName,restaurantSlug:t.restaurant.restaurantSlug,cityName:t.restaurant.neighborhood.cityName,neighbourhoodName:t.restaurant.neighborhood.name,profile:t.restaurant.profile,restaurantBaseType:t.restaurant.restaurantBaseType,restaurantTypes:t.restaurant.restaurantType,foodTypes:t.restaurant.restaurantFoodTypes};f.updateSingleRestaurantData(e)}b.checkButtonActive(),b.setDefaultViewOnMobile()};t.$on("$stateChangeSuccess",function(e,n,i,s,a){"app.restaurantnew.show.menu"==n.name&&(m=t.restaurant.largeImages,v=t.restaurant.foods)}),e.$on("RestaurantData::updated",function(e,n){t.restaurant=n;var i={restaurantName:n.restaurantName,restaurantSlug:n.restaurantSlug,cityName:n.neighborhood.cityName,neighbourhoodName:n.neighborhood.name,profile:n.profile,restaurantBaseType:n.restaurantBaseType,restaurantTypes:n.restaurantType,foodTypes:n.restaurantFoodTypes};f.updateSingleRestaurantData(i),m=t.restaurant.largeImages,v=t.restaurant.foods,t.restaurant.menuView&&b.selectViewMode(t.restaurant.menuView)}),t.changeView=function(e){"grid"==e?b.selectViewMode(1):"list"==e?b.selectViewMode(2):"list-with-modal"==e&&(3==t.restaurant.menuView?b.selectViewMode(3):b.selectViewMode(2))},t.openLightboxModal=function(e,t){if(t.stopPropagation(),e.largeImage.indexOf("placeholder")>0)return!1;var n=r.open({windowClass:"modal-food-image",animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",template:'<div class="modal-header">                <h3 class="modal-title" id="modal-title">{{foodName}}</h3>                <i class="icon icon-cancel close-food-modal pull-left" ng-click="closeModal()"></i>            </div>            <div class="modal-body food-image-modal" id="modal-body">                <internal-loading ng-show="loading"></internal-loading>                <img ng-hide="loading"  class="img-responsive" id="food-image" ng-src="{{imageSrc}}" />                <div class="food-desc-modal" ng-hide="loading || foodDesc == undefined">                      <p>{{foodDesc}}</p>                 </div>            </div>',size:"lg",controller:["$scope",function(t){t.loading=!0,t.index=e.id,t.imageSrc=e.largeImage,t.closeModal=function(){n.dismiss("cancel")},t.foodName=e.name,t.foodDesc=e.description,a(function(){var e=document.querySelector("#food-image");e.complete&&(t.loading=!1),e.addEventListener("load",function(){t.$apply(function(){t.loading=!1})})},0)}],resolve:{items:function(){return e.id}}})},y()}]),app.controller("showRestaurantController",["RestaurantSeoDataBuilder","$rootScope","$scope","$stateParams","ClientGateway","$location","Basket","$timeout","$element","$anchorScroll","restaurantModalService","$window","$state","RestaurantData","$sce","$cookies","UserLocation","Regions","ResponsiveService","ModalService",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f,g,m,v,b,y){n.isMobile=!1,n.isMobileDevice=b.isMobile(),n.isTablet=b.isTablet(),n.isDesktop=b.isDesktop();var w=function(){n.isMobileDevice&&(n.isMobile=!0),c.yOffset=-280,n.showActiveButton=!1,n.cityName=i.city,i.slug=decodeURIComponent(i.slug),o.basket={spinnerShow:!1,items:{},totalPrice:0,totalCount:0},n.restaurantAlertMessage=!0,n.restaurantNoPointAlertMessage=!1,n.restaurnatDelvieryZoneAlertMessage=!1,n.contentSpinner=!0,o.inWait={},n.isEnoughOrderPrice=!0,n.basketService=o,n.restaurant={},n.hideBasket=!1,n.deliveryByTitle={0:" ",1:" "};var e=m.getUserLocation();if(n.citySlug=e.citySlug,n.coockieNeighborhoodName=e.regionName,n.coockieNeighborhoodSlug=e.regionSlug,"undefined"!==i.slug){h.setParams(i),h.initRestaurantData();var s=n.$on("RestaurantData::updated",function(e,i){o.restaurantId=i.restaurantId,"undefined"!=typeof i.currentDeliveryZone?o.deliveryZoneId=i.currentDeliveryZone.currentDeliveryZoneId:o.deliveryZoneId=void 0,o.checkAndInitialBasket(),n.restaurant=i,n.restaurant.userSetLocation||(n.restaurantNoPointAlertMessage=!0),n.showSpecials=n.restaurant.specialFoods&&Object.keys(n.restaurant.specialFoods).length>0,x(),l.bind("resize",function(){n.$apply()}),t.$broadcast("PageTitle::Update",{title:" - "+n.restaurant.restaurantName+" "}),n.showActiveButton="/active"==p.current.url&&n.restaurant.userRole,C(),n.contentSpinner=!1,r(function(){document.getElementsByTagName("BODY")[0].style.overflowX="hidden",A()},0),s()})}else p.go("app.404");"app.restaurant.show"==p.current.name&&p.go("app.restaurant.show.menu"),k()};n.priceItem=function(e){var t=e.foodPrice;return t=parseInt(t),e.options&&angular.forEach(e.options,function(e,n){t+=parseInt(e.foodOptionPrice)}),t},n.parsePrice=function(e){return parseInt(e)};var x=function(){s.get({restaurant:n.restaurant.restaurantId},"/restaurant/checkRestaurantInDeliveryZone",function(e){if(e.data.result)if(m.isExists()){var t=m.getUserLocation();n.cityFaName=t.cityName,n.restaurantRegionSlug=t.regionSlug,n.restaurantNeighborhoodName=t.regionName}else n.restaurantRegionSlug=n.restaurant.neighborhood.slug,n.restaurantNeighborhoodName=n.restaurant.neighborhood.name,v.getCityBySlug(p.params.city).then(function(e){n.cityFaName=e.text});else n.restaurnatDelvieryZoneAlertMessage=!0,n.restaurantRegionSlug=n.restaurant.neighborhood.slug,n.restaurantNeighborhoodName=n.restaurant.neighborhood.name,n.cityFaName=n.restaurant.neighborhood.cityName})},k=function(){var e=$("ul.nav.nav-tabs li");switch(p.current.name){case"app.restaurant.show.menu":e.removeClass("active"),$("li.menu").addClass("active");break;case"app.restaurant.show.info":e.removeClass("active"),$("li.info").addClass("active");break;case"app.restaurant.show.comment":case"app.restaurant.show.comment.specific":e.removeClass("active"),$("li.comment").addClass("active")}},S=function(){n.isTablet||n.isMobile?n.hideBasket=!0:n.isDesktop&&(n.hideBasket=!1)};n.toggleModeBasket=function(){n.hideBasket=!n.hideBasket},S(),n.showRestaurantListByRegion=function(){p.go("app.restaurantsnew.index",{city:n.citySlug,slug:n.coockieNeighborhoodSlug})},n.scrollTo=function(e,t){e.preventDefault(),a.hash(t)},n.changeToMinute=function(e){return Math.ceil(e/60)},n.showModal=function(){y.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/select-region-modal.html",windowClass:"search-region-modal"},{},n)},$.fn.extend({animateCss:function(e){var t="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";return this.addClass("animated "+e).one(t,function(){$(this).removeClass("animated "+e)}),this}}),n.checkMinPrice=function(e,t,n){var i=!1;return(e||t>=n)&&(i=!0),i},n.isEmptyObject=function(e){var t=!1;return"{}"===JSON.stringify(e)&&(t=!0),t},n.activeRestaurant=function(){var e={restaurantId:n.restaurant.restaurantId,restaurantStatus:1};s.put(e,"/restaurant/updateStatus",function(e){e.data.status&&(window.location="/admin-panel#/restaurants/list")})},t.$on("mapMarkerController:toggleModal",function(e,t){t||n.restaurantNoPointAlertMessage&&(n.restaurantNoPointAlertMessage=!1),n.restaurant.userSetLocation=!0}),r(function(){n.restaurantAlertMessage=!1},12e3);var C=function(){1==n.restaurant.restaurantStatus&&0!=o.basket.totalPrice&&n.restaurant.isOpen?o.deliveryDisabled=!1:o.deliveryDisabled=!0};n.$watch("basketService.basket.deliveryType",function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t&&(n.basketService.basket.disable=!0)}),n.addToBascket=function(e){return n.restaurant.isOpen?void(e.isOpen?e.hasOption?T(e):(o.addToBasket(e.id,e.price),r(function(){A()})):s.showNotification("error","      ")):(s.showNotification("error","     "),!1)};var T=function(e){y.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"SideDishModalController",templateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/sideDish.html",windowClass:"side-dish-modal-container"},{options:e.options,foodName:e.name,foodPrice:e.price,foodLastPrice:e.lastPrice,foodId:e.id})},A=function(){n.isDesktop===!0&&$("#basket-fix").hcSticky({top:70,bottomEnd:160,wrapperClassName:"sidebar-sticky",offResolutions:[-992],responsive:!0,onStart:function(){setTimeout(function(){$(".rest-info-box").slideDown(200)},0),$(window).scrollTop()<100&&$(".rest-info-box").slideUp(200)},onStop:function(){$(window).scrollTop()<$(".restaurant-content").offset().top&&$(".rest-info-box").slideUp(200)}})};w()}]),app.controller("homepage",["$scope","RecommendedRestaurant","ClientGateway","$element","$timeout","$rootScope","$state","$q","$filter","$http","$cookies","Regions","UserLocation","ResponsiveService","ModalService",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f){const g=5;var m={},v=[],b=h.isMobile(),y=h.isTablet();h.isDesktop();e.$on("UserLocation::cityChanged",function(t,n){"select"==n.source&&(e.selectedCity=n.cityId,C(),S(),k(n.cityId,e.cities))});var w=function(){x(),i.ready(function(){e.selectedCity=p.getUserCity(),e.$on("getCities",function(t,n){k(e.selectedCity,n)}),m.getInfo(),(b||y)&&s(function(){$(".left-col").prependTo(".right-col")},0)}),e.setSelectedCity=function(t){e.selectedCity=t,k(t,e.cities),p.setUserCity(t,"cityTabs")},u.getCities().then(function(t){e.cities=t,C(),S(),e.$emit("getCities",t)});var t=(new Date).getHours();t<5?e.mainBackground={background:b?"url(app/user/assets/img/base/food_320_5.jpg) center no-repeat":"url(app/user/assets/img/base/background5.jpg) center no-repeat"}:t>5&&t<10?e.mainBackground={background:b?"url(app/user/assets/img/base/food_320_1.jpg) center no-repeat":"url(app/user/assets/img/base/background1.jpg) center no-repeat"}:t<18?e.mainBackground={background:b?"url(app/user/assets/img/base/food_320_3.jpg) center no-repeat":"url(app/user/assets/img/base/background3.jpg) center no-repeat"}:t<21?e.mainBackground={background:b?"url(app/user/assets/img/base/ramadan-320.jpg) center no-repeat":"url(app/user/assets/img/base/ramadan-1920.jpg) center no-repeat"}:e.mainBackground={background:b?"url(app/user/assets/img/base/food_320_4.jpg) center no-repeat":"url(app/user/assets/img/base/background4.jpg) center no-repeat"}},x=function(){a.title="           ",a.description="                    .",a.keywords="                    .        .",a.url="https://chilivery.com",a.image="https://chilivery.com/app/user/assets/img/base/LogoForHome_shadow.png"};e.initSlickCarousel=function(e){s(function(){$("."+e).slick({autoplay:!0,draggable:!0,slidesToShow:8,slidesToScroll:8,autoplaySpeed:3e3,rtl:!0,dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:1,dots:!0}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2,dots:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]})},0)};var k=function(t,n){angular.forEach(n,function(t,n){t.regionId==e.selectedCity&&(e.cityName=t.regionName,e.selectedCityName=t.regionName,e.citySlug=t.regionSlug)})};m.getInfo=function(){var t=["Top","Middle"];c({method:"GET",url:"/client-api/banner/banners",params:{alias:t.toString()},cache:!0}).then(function(t){void 0!==t.data.result.Top&&(e.topBanner=t.data.result.Top[0]),t.data.result.Middle&&(e.middleBanner=t.data.result.Middle[0])})},e.showMoreCities=function(){f.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"CityModalController",templateUrl:"/app/user/ngApp/templates/views/home/cityModal.html",windowClass:"city-modal-container",size:"sm"},{cities:e.cities})};var S=function(){angular.forEach(e.currentVisibleCities,function(e){v.push(e.id)}),v.indexOf(parseInt(p.getUserCity()))===-1&&angular.forEach(e.cities,function(t){parseInt(t.regionId)===parseInt(p.getUserCity())&&e.currentVisibleCities.push(t)})},C=function(){e.currentVisibleCities=e.cities.slice(0,g)};w()}]),app.controller("mapMarkerController",["$scope","$rootScope","$state","$stateParams","$cookies","$timeout","ClientGateway","Regions","UserLocation","ResponsiveService",function(e,t,n,i,s,a,o,r,l,c){var d=!1,u=new Date,p=new Date(u),h=!1,f=!1;p.setMonth(u.getMonth()+6);var g=c.isMobile(),m=c.isTablet(),v=(c.isDesktop(),function(){if(e.buttonText="  ",e.emptySelect=!1,e.isSpinnerShow=!1,e.isSpinnerShowBtn=!1,share=!1,e.enableSubmit=!1,!f){e.buttonText=" ",e.isSpinnerShow=!0;var n=l.getCity();e.selectedCity=n.cityName,e.selectedCityId=n.cityId,e.citySlug=n.citySlug,r.getCities(!0,n.cityId).then(function(t){e.enableSubmit=!0,e.cities=t.cities,e.regions=t.neighborhoods,e.isSpinnerShow=!1,(g||m)&&C(".mobile-find-neighborhood")})}t.$on("UserLocation::Updated",function(t,n){console.log("UserLocation Updated"),console.log(n),e.regionIdentifier=parseInt(n.regionId)}),l.getUserRegionPoint().then(function(t){if(0!=t){e.buttonText=" ";var n=t.toString().split(",");e.initialLat=n[0],e.initialLng=n[1]}})}),b=function(e){return angular.isUndefined(e)||null===e},y=function(){$(".find-neighborhood").select2("data",null),$(".find-neighborhood").select2("destroy"),$(".find-neighborhood").empty(),C(".find-neighborhood"),(g||m)&&($(".mobile-find-neighborhood").select2("destroy"),$(".mobile-find-neighborhood").empty(),C(".mobile-find-neighborhood"))},w=function(t){angular.forEach(e.cities,function(n){n.regionId==t&&(e.citySlug=n.regionSlug,l.setDefaultCity(n))})};e.setSelectedCity=function(t,n){e.selectedCityId=t,e.selectedCity=n,e.isSpinnerShow=!0,w(t),r.getNeighborhoods(t).then(function(t){e.enableSubmit=!1,l.removeUserLocation(),e.regions=t,y(),e.regionIdentifier=0,e.isSpinnerShow=!1})},e.openRegionListSelect=function(){$(".find-neighborhood").select2("open")},e.goToRestaurantList=function(){console.log("hi",e.enableSubmit),1==e.enableSubmit?l.getNeighborhood().then(function(e){console.log(e),n.go("app.restaurants.index",{city:e.citySlug,slug:e.neighborhoodSlug})}):e.emptySelect=!0},e.openPositionMapper=function(){1==e.enableSubmit?A():e.emptySelect=!0};var x=function(n){
l.setUserRegionPoint(n.join(",")),o.get({region_center:n},"/restaurant/findNeighborhood",function(i){if(angular.isDefined(i.data.result.hasDelivery)&&t.$emit("mapMarkerController::restaurantInfo::updated",i.data.result.hasDelivery),t.$emit("mapMarkerController::restaurantCount::updated",i.data.result.restaurantCount[0][1],i.data.result.regionInfo.citySlug),"undefined"==typeof i.data.result)e.resCount="0",e.isDisabled=!0;else{e.resCount=i.data.result.restaurantCount[0][1];var s=i.data.result.regionInfo;e.citySlug=s.citySlug,e.selectedCityId=s.cityId;var o=[s.cityName,s.regionName,s.regionId,s.regionSlug,n[0],n[1],e.selectedCityId,e.citySlug];if(t.$emit("mapMarkerController::neighborhood::updated",n,s.regionSlug),e.restaurantSlug=s.regionSlug,l.setUserLocation(o),e.isDisabled=!1,s.regionId!=e.regionIdentifier){d=!0;({text:s.regionName,id:s.regionId});a(function(){r.getNeighborhoods(s.cityId).then(function(t){e.regions=t,y(),e.selectedCity=s.cityName,e.enableSubmit=!0})},500)}else e.enableSubmit=!0}e.isSpinnerShow=!1,e.enableSubmit=!0})},k=function(e){var t=[e.coords.latitude,e.coords.longitude];x(t)},S=function(e){var t=[35.715298,51.404343];x(t)};e.shareLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(k,S,{enableHighAccuracy:!0})},e.goToCityList=function(){$("body .select2-hidden-accessible").select2("close");var t="tehran";angular.forEach(e.cities,function(n){n.id==e.selectedCityId&&(t=n.regionSlug)}),n.go("app.restaurants.all",{city:t})};var C=function(n){function i(e,t){var n=/\u064A/g,i=//g,s=e.match(i);s&&(e=e.replace(n,""));var a=/\u0643/g,o=//g,r=e.match(o);return r&&(e=e.replace(a,"")),t.search(e)>=0}$.fn.select2.amd.require(["select2/compat/matcher"],function(s){$(n).select2({dir:"rtl",language:"fa",matcher:s(i),allowClear:!0,data:[{id:-1,text:'<li class="" onclick="angular.element($(\'#searchNeighborhoodSection\')).scope().shareLocation();" class="text-right">     <i class="icon icon-target pull-left"></i> </li>',parent:0,children:[]},{id:1,text:'<li class="" onclick="angular.element($(\'#searchNeighborhoodSection\')).scope().goToCityList();" class="text-right">    '+e.selectedCity+' <i class="icon icon-list pull-left"></i> </li>',parent:0,children:e.regions}],escapeMarkup:function(e){return e},initSelection:function(n,i){l.getUserLocation().then(function(n){if(0!=n){e.showRegionButton=n.regionId;var s={city:n.cityName,text:n.regionName,id:n.regionId,slug:n.regionSlug,lat:n.regionPoint.lat,lng:n.regionPoint["long"]};e.userArea=s.text,e.enableSubmit=!0,i(s);var a=[s.lat,s.lng];t.$emit("mapMarkerController::neighborhood::updated",a,s.slug)}else i({id:0,text:"       : "})})},placeholder:"       : "},!0)})};t.$on("mapModal::input::updated",function(t,n){n.cityId!=e.selectedCityId?(r.getNeighborhoods(n.cityId).then(function(t){e.regions=t,y()}),e.selectedCityId=n.cityId,e.selectedCity=n.cityName,e.regionIdentifier=n.regionId,h=!0):(e.regionIdentifier=n.regionId,h=!0)}),t.$on("mapMarkerCityData::updated",function(t,n){console.log("16"),e.selectedCity=n.regionName,e.selectedCityId=n.regionId,e.citySlug=n.regionSlug,r.getNeighborhoods(n.regionId).then(function(t){e.regions=t.neighborhoods,C(".find-neighborhood"),(g||m)&&C(".mobile-find-neighborhood")})});var T=t.$on("mapMarkerNeighborhood::updated",function(t,n){console.log("17"),e.selectedCityId!=parseInt(n.cityId)&&(console.log("18"),e.selectedCity=n.cityName,e.citySlug=n.citySlug,e.selectedCityId=n.cityId,f=!0,r.getNeighborhoods(e.selectedCityId).then(function(t){e.regions=t,a(function(){C(".find-neighborhood"),(g||m)&&C(".mobile-find-neighborhood")},20)})),T()});e.$watch("regionIdentifier",function(n){if(d)console.log("21"),d=!1;else if(n){if(console.log("22"),e.emptySelect=!1,l.isExists()){var i=l.getCity();r.getNeighborhoods(i.cityId).then(function(t){e.regions=t})}angular.forEach(e.regions,function(i){if(i.id==n){e.selectedRegion=i,e.selectedCenter=i.regionMapCenter.latitude+","+i.regionMapCenter.longitude;var s=[i.regionMapCenter.latitude,i.regionMapCenter.longitude];w(e.selectedCityId);var a=[e.selectedCity,e.selectedRegion.text,e.selectedRegion.id,e.selectedRegion.regionSlug,e.selectedRegion.regionMapCenter.latitude,e.selectedRegion.regionMapCenter.longitude,e.selectedCityId,e.citySlug];l.setUserLocation(a),l.setUserRegionPoint(e.selectedCenter),e.enableSubmit=!0,h?(C(".find-neighborhood"),(g||m)&&C(".mobile-find-neighborhood")):t.$emit("mapMarkerController::neighborhood::updated",s,e.selectedRegion.regionSlug),h=!1}})}else!b(n)&&n.length<2&&(console.log("t"),l.removeUserLocation())});var A=function(){if("undefined"!==i.slug)var e={restaurantSlug:i.slug};o.get(e?e:{},"/restaurant/findNeighborhood",function(e){angular.isDefined(e.data.result.hasDelivery)&&t.$emit("mapMarkerController::restaurantInfo::updated",e.data.result.hasDelivery),t.$emit("mapMarkerController::restaurantCount::updated",e.data.result.restaurantCount[0][1],e.data.result.regionInfo.citySlug)})};v()}]),app.controller("mapModal",["$scope","$rootScope","ClientGateway","$cookies","$state","$stateParams","mapGeoLocation","UserLocation","MAPSTYLE",function(e,t,n,i,s,a,o,r,l){var c,d,u,p;e.isDisabled=!1;var h=!1,f=new Date,g=new Date(f);g.setMonth(f.getMonth()+6);var m=function(){e.mapData={},e.mapData.latitude=e.latitude,e.mapData.longitude=e.longitude,e.openMapContainer=!1},v=function(e){return angular.isUndefined(e)||null===e};t.$on("mapMarkerController::restaurantInfo::updated",function(t,n){e.hasDelivery=n}),e.checkCanDeliver=function(t){return"app.restaurant.show"===s.current.name&&"undefined"!=typeof e.hasDelivery&&e.hasDelivery?"class"!=t||"btn-green":"class"==t&&"btn-yellow"},e.otherPage=function(){return"app.restaurant.show"!=s.current.name},t.$on("mapMarkerController::restaurantCount::updated",function(t,n,i){e.resCount=n,e.citySlug=i,e.openMapContainer=!0}),t.$on("mapModalNeighborhood::updated",function(t,n){e.citySlug=n.citySlug}),t.$on("mapMarkerController::neighborhood::updated",function(t,n,i){e.mapData={latitude:n[0],longitude:n[1]},e.restaurantSlug=i});var b=function(t,i,s){s.setPosition(i);var o=i.lat(),l=i.lng();h=!0;var u=o+","+l;r.setUserRegionPoint(u);var f={region_center:u};"undefined"!==a.slug&&(f.restaurantSlug=a.slug),n.get(f,"/restaurant/findNeighborhood",function(n){if("undefined"==typeof n.data.result)e.resCount="0",e.isDisabled=!0;else{angular.isDefined(n.data.result.hasDelivery)&&(e.hasDelivery=n.data.result.hasDelivery),e.resCount=n.data.result.restaurantCount[0][1];var i=n.data.result.regionInfo;e.citySlug=i.citySlug;var s=[i.cityName,i.regionName,i.regionId,i.regionSlug,o,l,i.cityId,e.citySlug];e.restaurantSlug=i.regionSlug,p=s,e.isDisabled=!1,r.setUserLocation(s),t.setContent('<div style="margin-right: 15px; font-family: \'iransans\'; overflow: hidden;" class="text-right">'+i.regionName+"</div>"),t.open(c,d)}})};e.$watch("mapData",function(t){if("undefined"!=typeof t){u=new google.maps.LatLng(t.latitude,t.longitude);var n=new google.maps.InfoWindow({content:'<div  style="margin-right: 25px; overflow: hidden; font-family: \'iransans\';" class="text-right"><i class="icon icon-information"  style="color: red;"></i>            </div>'});c=new google.maps.Map(document.getElementById("map"),{center:u,styles:l,minZoom:8,maxZoom:20,zoom:16,zoomControl:!0,scaleControl:!1,disableDoubleClickZoom:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1}),o.init(c),d=new google.maps.Marker({position:u,map:c,draggable:!0});var i={url:"/app/user/assets/img/base/myplace.svg",origin:new google.maps.Point(0,0),anchor:new google.maps.Point(11.5,14),size:new google.maps.Size(25,25)};new google.maps.Marker({position:u,map:c,draggable:!1,title:"  ",icon:i}),n.open(c,d),google.maps.event.addListener(c,"idle",function(){!this.get("dragging")&&this.get("oldCenter")&&this.get("oldCenter")!==this.getCenter()&&this.getCenter().lat()>0&&e.openMapContainer&&(d.setPosition(this.getCenter()),b(n,this.getCenter(),d)),this.get("dragging")||this.set("oldCenter",this.getCenter())}),google.maps.event.addListener(c,"dragstart",function(){this.set("dragging",!0)}),google.maps.event.addListener(c,"drag",function(){d.setPosition(this.getCenter())}),google.maps.event.addListener(c,"dragend",function(){this.set("dragging",!1),google.maps.event.trigger(this,"idle",{})}),google.maps.event.addListener(d,"dragend",function(){e.$apply(function(){c.setCenter(d.getPosition()),b(n,d.getPosition(),d,!0)})}.bind(this))}}),e.closeMap=function(){e.openMapContainer=!1,v(p)||t.$emit("mapModal::input::updated",{cityId:p[6],cityName:p[0],regionId:p[2]})},e.showRestaurantList=function(){e.closeMap(),"app.restaurant.show"===s.current.name&&"undefined"!=typeof e.hasDelivery&&e.hasDelivery?t.$broadcast("mapMarkerController:toggleModal",!1):s.go("app.restaurants.index",{city:e.citySlug,slug:e.restaurantSlug})},m()}]),app.controller("NeighborhoodSelectController",["$scope","$rootScope","$state","$stateParams","$cookies","$timeout","ClientGateway","Regions","RestaurantData","UserLocation","resultBoxStack","$localStorage","ResponsiveService",function(e,t,n,i,s,a,o,r,l,c,d,u,p){var h=!0,f={},g=!1,m=new Date,v=new Date(m),b=!1,y=!1,w=[];e.selectRegion={b:!1,index:-1,regionLoading:0,max:2,closed:function(){this.b===!1&&(this.placeholder=void 0,this.index=-1)},getSelected:function(){if(this.index!==-1&&void 0!==this.placeholder)return e.regionsUi[this.index]},changeSelected:function(){if(e.regionSearchedString.str="",1==e.regionsUi[this.index].html){var t=e.regionsUi[this.index].address;this.placeholder=(t.userAddressName?t.userAddressName:"...")+" | "+t.cityName+" , "+t.neighborhoodName+" , "+t.userAddressComplete}else this.placeholder=e.regionsUi[this.index][void 0===e.regionsUi[this.index].keyToShow?"name":e.regionsUi[this.index].keyToShow]},increaseLoading:function(){return this.regionLoading+1>this.max?void(this.regionLoading=this.max):void this.regionLoading++},decreaseLoading:function(){return this.regionLoading-1<0?void(this.regionLoading=0):void this.regionLoading--}},e.selectCity={b:!1},e.selectFood={b:!1,index:-1,foodsLoading:0,max:2,changeSelected:function(){e.foodSearchedString.str="",this.placeholder=e.foodsAndRestaurants[this.index].restaurant?e.foodsAndRestaurants[this.index].restaurantName:e.foodsAndRestaurants[this.index].keyword},closed:function(){this.b===!1&&(this.placeholder=void 0,this.index=-1)},getSelected:function(){if(this.index!==-1&&void 0!==this.placeholder)return e.foodsAndRestaurants[this.index]},increaseLoading:function(){return this.foodsLoading+1>this.max?void(this.foodsLoading=this.max):void this.foodsLoading++},decreaseLoading:function(){return this.foodsLoading-1<0?void(this.foodsLoading=0):void this.foodsLoading--}},e.foodSearchedString={str:""},e.regionSearchedString={str:""};var x=function(t){for(var n=d.closeAll(t),i=0;i<n.length,key=n[i];i++)void 0!==e[key]&&(e[key].b=!1)};e.startSearching=function(t,n,i){if(t.ctrlKey!==!0)return t&&13===t.keyCode?(void 0!==t.currentTarget.blur&&t.currentTarget.blur(),void a(function(){e.goToSearchPage()})):void((!t||32!==t.keyCode&&8!==t.keyCode)&&(40==t.keyCode?e[i].index+1<e[i].count&&(e[i].index++,e[i].changeSelected.call(e[i])):38==t.keyCode&&(e[i].index-1<0?e[i].index=0:(e[i].index--,e[i].changeSelected.call(e[i]))),(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90)&&(e[n].increaseLoading.call(e[n]),a(function(){e[n].decreaseLoading.call(e[n])},720))))};var k=function(t){return""===t?(e.foodsAndRestaurants=[],e.selectFood.count=0,void e.selectFood.decreaseLoading.call(e.selectFood)):(e.selectFood.increaseLoading.call(e.selectFood),void l.getFoodsAndRestauransApi(e.selectedCityId,t).then(function(t){e.foodsAndRestaurants=[],void 0===t.foods&&(t.foods=[]),void 0===t.restaurants&&(t.restaurants=[]);for(var n=[],i=0;i<t.restaurants.length,rest=t.restaurants[i];i++)rest.restaurant=!0,rest.keyToShow="restaurantName",rest.icon="new-icon new-icon-restaurant_icon_for_search",rest.link={name:"app.restaurantnew.show.menu",params:{city:e.citySlug,slug:rest.restaurantSlug}},i===t.restaurants.length-1&&t.foods.length>0&&(rest.line=!0),n.push(rest);for(i=0;i<t.foods.length,food=t.foods[i];i++)food.keyToShow="keyword",food.icon="new-icon new-icon-food",n.push(food);e.foodsAndRestaurants=n,e.selectFood.count=e.foodsAndRestaurants.length,e.selectFood.decreaseLoading.call(e.selectFood)}))};e.onSelectFoodClick=function(t){x("selectFood"),e.selectFood.b=!0,d.open("selectFood"),t.stopPropagation(),void 0!==e.foodsAndRestaurants&&""===e.foodSearchedString.str||k(e.foodSearchedString.str)},e.onSelectRegionClick=function(t){x("selectRegion"),e.selectRegion.b=!0,d.open("selectRegion"),e.selectedRegion&&e.regionSearchedString.str===e.selectedRegion.name&&A(),t.stopPropagation()},e.onSelectCity=function(t){x("selectCity"),e.selectCity.b=!e.selectCity.b,e.selectCity.b===!0?d.open("selectCity"):d.close("selectCity"),t.stopPropagation()},e.choiceCity=function(t){t&&e.setSelectedCity(t.regionId,t.regionName)},e.setSelectedCity=function(t,n){e.selectedCityId=t,e.selectedCityName=n,P(t),T(t),e.regionIdentifier=null,e.changeRegion(e.regionIdentifier),c.setUserCity(t,"select")},e.selectFoodTag=function(t){t&&t.restaurant!==!0&&(e.foodSearchedString.dontSerach=!0,e.foodSearchedString.str=t.keyword)},e.onSelectRegion=function(t){!t||"all-restaurants"!==t.id&&"around-me"!==t.id&&"address"!==t.id?t&&(e.regionIdentifier=t.id.toString(),e.changeRegion(e.regionIdentifier.toString())):"around-me"===t.id?e.shareLocation():"address"===t.id&&e.goToLocation(t.address)},e.goToLocation=function(e){var t=c.goToLocation(e);n.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug,point:t})},e.goToSearchPage=function(){var t=e.foodSearchedString.str,i=e.selectFood.getSelected.call(e.selectFood);if(i&&i.restaurant===!0)return void n.go("app.restaurantnew.show.menu",{city:i.neighborhood.citySlug,slug:i.restaurantSlug});i&&(t=i.keyword);var s=e.selectRegion.getSelected.call(e.selectRegion);return s?void(s.html===!0?e.goToLocation(s.address):"around-me"===s.id?e.shareLocation():"all-restaurants"===s.id?n.go("app.restaurantsnew.index",{city:e.citySlug}):(e.onSelectRegion(s),e.selectRegion.b=!1,e.selectRegion.closed())):void(void 0===e.selectedRegion?n.go("app.restaurantsnew.index",{city:e.citySlug,query:t}):n.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.selectedRegion.slug,query:t}))},e.shareLocation=function(){if(e.loadingLocation!==!0){e.loadingLocation=!0;var t=function(t){e.loadingLocation=!1;var n=[t.coords.latitude,t.coords.longitude];M(n)},n=function(t){e.loadingLocation=!1;var n=[35.715298,51.404343];M(n)};e.isSpinnerShow=!0,c.shareLocation(t,n)}},e.searchInFoodsAndRestaurants=function(){return e.foodSearchedString.dontSerach===!0?void(e.foodSearchedString.dontSerach=!1):void k(e.foodSearchedString.str)},e.searchInRegions=function(){""===e.regionSearchedString.str?A():(e.selectRegion.increaseLoading.call(e.selectRegion),r.getNeighborhoodBySlugApi(e.selectedCityId,e.regionSearchedString.str).then(function(t){e.selectRegion.decreaseLoading.call(e.selectRegion),e.regionsUi=t,e.selectRegion.count=e.regionsUi.length}))},e.changeRegion=function(t){if(g)g=!1;else if(t&&"string"==typeof t){e.emptySelect=!1,e.selectedRegion=f[t],e.regionSearchedString.str=e.selectedRegion.name,e.selectedCenter=e.selectedRegion.mapCenter.latitude+","+e.selectedRegion.mapCenter.longitude,D(),T(e.selectedCityId);var n=[e.selectedCityName,e.selectedRegion.name,e.selectedRegion.id,e.selectedRegion.slug,e.selectedRegion.mapCenter.latitude,e.selectedRegion.mapCenter.longitude,e.selectedCityId,e.citySlug];1==h&&(c.setUserLocation(n,"select",!1),c.setUserRegionPoint(e.selectedCenter)),h=!0,e.enableSubmit=!0}else c.removeUserLocation(),e.regionSearchedString.str="",e.selectedRegion=void 0;y=!0},v.setMonth(m.getMonth()+6);var $=function(t,n){var i=_.find(n,{regionId:parseInt(t)});e.selectedCityId=i.regionId,e.selectedCityName=i.regionName,e.citySlug=i.regionSlug},S=function(){"toured"!==s.get("toured")&&a(function(){if("app.homepage"===n.current.name){var e=function(){hopscotch.endTour(!1),angular.element(document).off("click","body",e)},t={id:"test",showPrevButton:!0,onEnd:function(){var t=new Date,n=new Date(t);n.setFullYear(t.getFullYear()+100),s.put("toured","toured",{expires:n}),angular.element(document).off("click","body",e)},onClose:function(){var t=new Date,n=new Date(t);n.setFullYear(t.getFullYear()+100),s.put("toured","toured",{expires:n}),angular.element(document).off("click","body",e)},onStart:function(){angular.element(document).on("click","body",e)},i18n:{nextBtn:"",prevBtn:"",doneBtn:"",skipBtn:" ",closeTooltip:""},steps:[{target:p.isTabletAndMobile()?"intro-mob-1":"intro-1",title:" ",content:"       .          .",placement:"bottom",arrowOffset:"left"},{target:p.isTabletAndMobile()?"intro-mob-2":"intro-2",title:"   ",content:"           . :     ",placement:"bottom",arrowOffset:"left"},{target:p.isTabletAndMobile()?"intro-mob-3":"intro-3",title:"",content:"        ",placement:"bottom",arrowOffset:"left"}]};hopscotch.startTour(t)}})},C=function(){if(e.regionIdentifier=0,e.emptySelect=!1,e.isSpinnerShow=!1,e.isSpinnerShowBtn=!1,share=!1,!b){e.isSpinnerShow=!0;var t=c.getUserCity();r.getCities(!0,t).then(function(n){$(t,n.cities),e.enableSubmit=!0,e.cities=n.cities,w=n.neighborhoods,f=_.keyBy(w,"id"),A();var i=c.getUserLocation();e.regionIdentifier=i.regionId||e.regionIdentifier,e.changeRegion(e.regionIdentifier),e.isSpinnerShow=!1,S()})}e.$on("UserLocation::Updated",function(t,n){"select"!=n.source?(e.regionIdentifier=n.userLocationData.regionId.toString(),h=!1):e.goToRestaurantList()}),c.getUserRegionPoint().then(function(t){if(0!=t){e.buttonText=" ";var n=t.toString().split(",");e.initialLat=n[0],e.initialLng=n[1]}})},T=function(t){angular.forEach(e.cities,function(n){n.regionId==t&&(e.citySlug=n.regionSlug,c.setDefaultCity(n))})};e.$on("UserLocation::cityChanged",function(t,n){"cityTabs"==n.source&&e.updateSelectedCity(n.cityId),e.showRegionButton=null,e.regionIdentifier=null,I()});var A=function(){var t=r.regionsReadyForUi(e.addresses,e.selectedCityName,e.citySlug,f);e.regionsUi=t.regionsUi,e.selectRegion.count=t.count},I=function(){delete u.historyRegions},D=function(){var t=u.historyRegions;if(t){for(var n=!1,i=0;i<t.length,hr=t[i];i++)hr===e.selectedRegion.id&&(n=!0);n===!1&&(t.length>=5&&t.shift(),t.push(e.selectedRegion.id))}else t=[e.selectedRegion.id];u.historyRegions=t},P=function(t){e.isSpinnerShow=!0,e.selectRegion.increaseLoading.call(e.selectRegion),r.getNeighborhoods(t).then(function(t){e.enableSubmit=!1,c.removeUserLocation(),w=t,A(),f=_.keyBy(w,"id"),e.isSpinnerShow=!1,e.selectRegion.decreaseLoading.call(e.selectRegion)})};e.updateSelectedCity=function(t){var n=_.keyBy(e.cities,"regionId")[t];e.selectedCityName=n.regionName,e.selectedCityId=t,P(t)},e.goToRestaurantList=function(){var e=c.getNeighborhood();"app.restaurantsnew.index"==n.current.name?n.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug},{notify:!1}):n.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug})},e.openPositionMapper=function(){1==e.enableSubmit?countRelatedRestaurant():e.emptySelect=!0};var M=function(t){c.setUserRegionPoint(t.join(",")),o.get({region_center:t},"/restaurant/findNeighborhood",function(i){if("undefined"==typeof i.data.result)e.resCount="0",e.isDisabled=!0;else{e.resCount=i.data.result.restaurantCount[0][1];var s=i.data.result.regionInfo;e.citySlug=s.citySlug,e.selectedCityId=s.cityId;var o=[s.cityName,s.regionName,s.regionId,s.regionSlug,t[0],t[1],e.selectedCityId,e.citySlug];if(e.restaurantSlug=s.regionSlug,c.setUserLocation(o,"select"),e.isDisabled=!1,s.regionId!=e.regionIdentifier){g=!0;({text:s.regionName,id:s.regionId});a(function(){r.getNeighborhoods(s.cityId).then(function(t){e.regions=t,A(),f=_.keyBy(e.regions,"id"),e.selectedCityName=s.cityName,e.enableSubmit=!0})},500)}else e.enableSubmit=!0}e.isSpinnerShow=!1,e.enableSubmit=!0,"app.homepage"==n.current.name&&e.goToRestaurantList()})};C()}]),app.controller("pagescontroller",["$window","$timeout","$rootScope","$scope","$stateParams","ClientGateway","$location","$sce","$state",function(e,t,n,i,s,a,o,r,l){switch(i.filename=s.slug,i.filename){case"about-chilivery":title=" ";break;case"law":title="  ";break;case"privacy":title=" ";break;case"opportunity":title="  ";break;case"purchase-guide":title=" ";break;case"payment-guide":title="  ";break;case"faq":title=" "}t(function(){n.$broadcast("PageTitle::Update",{title:" - "+title})},200)}]),app.controller("orderReviewModalController",["data","$scope",function(e,t){t.data=e}]),app.controller("orderReviewController",["$state","$stateParams","$scope","OrderService","ModalService","VoteService","toaster","$log",function(e,t,n,i,s,a,o,r){n.canSubmit=!1,n.vote=t.vote,n.submitVote=function(t){return t.preventDefault(),n.reviewData.overall?(n.canSubmit=!0,void a.saveMainVote(n.order,n.reviewData).then(function(t){o.pop("success","",t.data.message_fa),e.go("app.profile.orderlist")},function(e){throw r.error("ERROR:",e),n.canSubmit=!1,e})):void o.pop("error","","        . ")},n.foodReviewOpen=!1,n.checkOverall=function(){return"2"===n.reviewData.overall||"1"===n.reviewData.overall},n.ids={overalIds:"overall-ids",qualityIds:"qualityIds",deliverySpeedIds:"deliverySpeedIds",chiliveryUxIds:"chiliveryUxIds"},n.reviewData={},n.openFoodItemsModal=function(){s.openModal({controller:"orderReviewModalController",animation:!0,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",windowClass:"search-region-modal",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/foodOrderModal.html"},{order:n.order})};var l=function(){i.getOrderToReview(t.orderId).then(function(t){return t.data.status?void(n.order=t.data.result.order):void e.go(t.data.go_to)})["catch"](function(){})};l()}]),app.controller("staticpagesController",["$scope","$stateParams","ClientGateway","$location","$sce",function(e,t,n,i,s){e.filename=hashCodeGenerator(t.slug.toString()),n.get({slug:t.slug},"/page/check",function(e){},function(){$state.go("access.404")})}]),app.controller("codeMobileValidation",["$scope","Users","ClientGateway","$timeout","$interval","$state",function(e,t,n,i,s,a){function o(){l=s(function(){e.second--,e.minute<=0&&e.second<=0?(e.thirdStep=!0,s.cancel(l),e.timeEnd=!0,e.sendCodeAgainButton=!1):0==e.second&&(e.minute--,e.second=59)},1e3)}function r(){e.isSendCodeSpinnerShow=!0,e.sendCodeAgainButton=!0,n.post({userMobileNumber:e.userVerificationMobile,tryType:e.sendCodeChoice},"/user/sendVerifyCode",function(t){t.data.status&&(e.minute="call"==e.sendCodeChoice?2:0,e.second=59,e.timeEnd=!1,o()),e.isSendCodeSpinnerShow=!1,e.sendCodeAgainButton=!1},function(){e.isSendCodeSpinnerShow=!1,e.sendCodeAgainButton=!1})}var l,c=function(){e.isMobileSpinnerShow=!1,e.isSendCodeSpinnerShow=!1,e.sendCodeAgainButton=!1,e.sendCodeChoice="sms",e.timeEnd=!1,e.minute=1,e.second=59,t.getInfo().then(function(t){e.userVerificationMobile=t.userMobileNumber}),o()},d=function(e){return angular.isUndefined(e)||null===e},u=function(){window.$crisp.push(["do","chat:open"]),window.$crisp.push(["do","message:send",["text","\n          .\n       ."]])};e.sendCodeAgain=function(){if(d(e.sendCodeChoice))return void n.showNotification("error","           .");switch(e.sendCodeChoice){case"sms":case"call":r();break;case"intercome":window.Intercom("showNewMessage","\n          .\n       .");case"crisp":u()}},e.verifyCode=function(){return"undefined"==typeof e.verificationCode?(n.showNotification("error","     ."),!1):e.verificationCode<1e3||e.verificationCode>9999||!/^\d+$/.test(e.verificationCode)?(n.showNotification("error","           1000  9999  ."),!1):(e.isMobileSpinnerShow=!0,void n.post({verificationCode:e.verificationCode,userMobileNumber:e.userVerificationMobile,referrer:window.location.referrer},"/user/verifyCode",function(t){e.isMobileSpinnerShow=!1},function(){e.isMobileSpinnerShow=!1}))},c()}]),app.controller("userMobileValidation",["$scope","Users","ClientGateway","$state",function(e,t,n,i){var s=function(){e.isMobileSpinnerShow=!1,e.sendCodeButton=!1,t.getInfo(!0).then(function(t){return t.userMobileIsVerified?void i.go("app.homepage"):void(e.userVerificationMobile=t.userMobileNumber)}),"app.mobileVerificationWithChange"==i.$current.name&&(e.timeEnd=!0,e.sendCodeAgainButton=!1,n.showNotification("error","               .       ."))},a=function(e){return angular.isUndefined(e)||null===e};e.sendCode=function(){return a(e.userVerificationMobile)?(n.showNotification("error","       .             ."),!1):(e.isSendCodeSpinnerShow=!0,e.sendCodeButton=!0,void n.post({userMobileNumber:e.userVerificationMobile},"/user/sendVerifyCode",function(t){e.isSendCodeSpinnerShow=!1,e.sendCodeButton=!1,t.data.status&&i.go("app.codeverification")},function(){e.isSendCodeSpinnerShow=!1,e.sendCodeButton=!1}))},s()}]),app.controller("selectRegionModalController",["$scope","$cookies","restaurantModalService","$timeout","$rootScope","UserLocation",function(e,t,n,i,s,a){var o=function(){e.show=!1,e.userNeighborhood=[]};e.$on("RestaurantData::updated",function(t,n){a.isExists()?r(e.restaurant.deliveryTime)?(e.userNeighborhood[1]=e.restaurant.neighborhood.name,e.userNeighborhood[3]=e.restaurant.neighborhood.slug):(e.userNeighborhood=a.getCookieString(),e.userNeighborhood=e.userNeighborhood.split(",")):(e.userNeighborhood[1]=e.restaurant.neighborhood.name,e.userNeighborhood[3]=e.restaurant.neighborhood.slug)}),e.$watch(function(){return n.displayRestaurantModal},function(t){"undefined"!=typeof t&&(e.show=n.displayRestaurantModal)}),e.$watch("show",function(e){n.displayRestaurantModal=e});var r=function(e){return angular.isUndefined(e)||null===e};e.closeModal=function(){e.show=!1},s.$on("mapMarkerController:toggleModal",function(e,t){n.displayRestaurantModal=t}),o()}]),app.controller("SideDishModalController",["$scope","data","Basket","BasketModel","$timeout",function(e,t,n,i,s){var a=!1;e.loading=!0,e.maxError={};var o=function(){return e.food=t.food,e.foodImage=e.food.hasPic!==!0?{"background-image":"url("+e.food.largeImage+")"}:{},e.food.hasPic===!0?s(function(){var t=angular.element("#large-image");t[0].complete&&(e.loading=!1),t[0].addEventListener("load",function(){e.$apply(function(){e.loading=!1})})}):e.loading=!1,e.isValid=!0,t.entry?(a=!0,e.count=t.entry.itemCount,void(e.options=n.selectOptions(t.entry.options,t.food.options))):(e.count=1,void 0!==t.count&&(e.count=t.count),e.options=_.cloneDeep(e.food.options),void e.validOptions())};e.calculatePrice=function(){return i.calculatePriceOption(e.options,e.food.price,e.count)},e.increase=function(){e.count=e.count+1},e.decrease=function(){e.count=e.count-1,e.count<1&&(e.count=1,angular.forEach(e.options,function(e){angular.forEach(e.options,function(t){e.selectedValue=null,t.selected=!1})}))},e.selectedOptionsCount=function(e){var t=0;return e.groupMaxSelectionLimit>1?angular.forEach(e.options,function(e){e.selected&&t++}):e.selectedValue&&t++,t};var r=function(t){var n=!0,i=e.selectedOptionsCount(t);return t.groupRequired&&i<1&&(n=!1),i>t.groupMaxSelectionLimit&&(n=!1,e.blinkMaxTextError(t)),n};e.blinkMaxTextError=function(t){e.maxError[t.groupId]=!0,s(function(t){return function(){e.maxError[t.groupId]=!1}}(t),630)},e.validOptions=function(){var t=!0;return angular.forEach(e.options,function(e){r(e)||(t=!1)}),e.isValid=t,t},e.acceptModal=function(){a?e.$close({options:e.options,food:e.food,count:e.count,entry:t.entry}):e.$close({options:e.options,food:e.food,count:e.count})},o()}]),app.controller("UserNeighborhoodController",["$scope","$rootScope","$state","$stateParams","$cookies","$timeout","ClientGateway","Regions","UserLocation","restaurantModalService","ResponsiveService",function(e,t,n,i,s,a,o,r,l,c,d){var u={},p=!1,h=new Date,f=new Date(h),g=!1,m=!1,v=d.isMobile(),b=d.isTablet();d.isDesktop();f.setMonth(h.getMonth()+6);var y=function(){return v||b?".mobile-find-neighborhood":".find-neighborhood"},w=function(t,n){var i=_.find(n,{regionId:parseInt(t)});e.selectedCityId=i.regionId,e.selectedCity=i.regionName,e.citySlug=i.regionSlug},x=function(){if(e.regionIdentifier=0,e.emptySelect=!1,e.isSpinnerShow=!1,e.isSpinnerShowBtn=!1,share=!1,!g){e.isSpinnerShow=!0;var t=l.getUserCity();r.getCities(!0,t).then(function(n){w(t,n.cities),e.enableSubmit=!0,e.cities=n.cities,e.regions=n.neighborhoods,u=_.keyBy(e.regions,"id");var i=l.getUserLocation();e.regionIdentifier=i.regionId||e.regionIdentifier,P(y()),e.isSpinnerShow=!1})}e.$on("UserLocation::Updated",function(t,n){"select"!=n.source?(e.regionIdentifier=n.userLocationData.regionId.toString(),P(y())):e.goToRestaurantList()}),l.getUserRegionPoint().then(function(t){if(0!=t){e.buttonText=" ";var n=t.toString().split(",");e.initialLat=n[0],e.initialLng=n[1]}})},k=function(e){return angular.isUndefined(e)||null===e},S=function(){var e=y();$(e).select2("data",null),$(e).select2("destroy"),$(e).empty(),P(e)},C=function(t){angular.forEach(e.cities,function(n){n.regionId==t&&(e.citySlug=n.regionSlug,l.setDefaultCity(n))})};e.$on("UserLocation::cityChanged",function(t,n){"cityTabs"==n.source&&e.updateSelectedCity(n.cityId)});var T=function(t){e.isSpinnerShow=!0,r.getNeighborhoods(t).then(function(t){e.enableSubmit=!1,l.removeUserLocation(),e.regions=t,u=_.keyBy(e.regions,"id"),S(),e.isSpinnerShow=!1})};e.updateSelectedCity=function(t){var n=_.keyBy(e.cities,"regionId")[t];e.selectedCity=n.regionName,e.selectedCityId=t,T(t)},e.setSelectedCity=function(t,n){e.selectedCityId=t,e.selectedCity=n,T(t),C(t),l.setUserCity(t,"select")},e.openRegionListSelect=function(){$(y()).select2("open")},e.goToRestaurantList=function(){c.displayRestaurantModal=!1,n.go(n.current,{},{reload:!0})};var A=function(t){l.setUserRegionPoint(t.join(",")),o.get({region_center:t},"/restaurant/findNeighborhood",function(i){if(angular.isDefined(i.data.result.hasDelivery),"undefined"==typeof i.data.result)e.resCount="0",e.isDisabled=!0;else{e.resCount=i.data.result.restaurantCount[0][1];var s=i.data.result.regionInfo;e.citySlug=s.citySlug,e.selectedCityId=s.cityId;var o=[s.cityName,s.regionName,s.regionId,s.regionSlug,t[0],t[1],e.selectedCityId,e.citySlug];if(e.restaurantSlug=s.regionSlug,l.setUserLocation(o,"select"),e.isDisabled=!1,s.regionId!=e.regionIdentifier){p=!0;({text:s.regionName,id:s.regionId});a(function(){r.getNeighborhoods(s.cityId).then(function(t){e.regions=t,u=_.keyBy(e.regions,"id"),S(),e.selectedCity=s.cityName,e.enableSubmit=!0})},500)}else e.enableSubmit=!0}e.isSpinnerShow=!1,e.enableSubmit=!0,"app.homepage"==n.current.name&&e.goToRestaurantList()})},I=function(e){var t=[e.coords.latitude,e.coords.longitude];A(t)},D=function(e){var t=[35.715298,51.404343];A(t)};e.shareLocation=function(){e.isSpinnerShow=!0,navigator.geolocation&&navigator.geolocation.getCurrentPosition(I,D,{enableHighAccuracy:!0}),$(y()).select2("close")},e.goToCityList=function(){$("body .select2-hidden-accessible").select2("close");
var t="tehran";angular.forEach(e.cities,function(n){n.id==e.selectedCityId&&(t=n.regionSlug)}),n.go("app.restaurantsnew.index",{city:t,slug:void 0})};var P=function(t){function n(e,t){var n=/\u064A/g,i=//g,s=e.match(i);s&&(e=e.replace(n,""));var a=/\u0643/g,o=//g,r=e.match(o);return r&&(e=e.replace(a,"")),t.search(e)>=0}$.fn.select2.amd.require(["select2/compat/matcher"],function(i){$(t).select2({dir:"rtl",language:"fa",matcher:i(n),allowClear:!0,data:[{id:-2,text:"      "},{id:-1,text:'<li class="" onclick="angular.element($(\'#searchNeighborhoodSection\')).scope().shareLocation();" class="text-right">     <i class="icon icon-target pull-left"></i> </li>',parent:0,children:[]},{id:1,text:'<li class="" onclick="angular.element($(\'#searchNeighborhoodSection\')).scope().goToCityList();" class="text-right">    '+e.selectedCity+' <i class="icon icon-list pull-left"></i> </li>',parent:0,children:e.regions}],escapeMarkup:function(e){return e},initSelection:function(t,n){var i=l.getUserLocation();if(0!=i){e.showRegionButton=i.regionId;var s={city:i.cityName,text:i.regionName,id:i.regionId,slug:i.regionSlug,lat:i.regionPoint.lat,lng:i.regionPoint["long"]};e.userArea=s.text,e.enableSubmit=!0,n(s)}else n({id:0,text:"       : "})},placeholder:"       : "},!0)})};e.$watch("regionIdentifier",function(t,n){if(p)p=!1;else if(t&&m&&"string"==typeof t){if("undefined"==typeof n)return;if(e.emptySelect=!1,l.isExists()){var i=l.getCity();r.getNeighborhoods(i.cityId).then(function(t){e.regions=t,u=_.keyBy(e.regions,"id")})}e.selectedRegion=u[t],e.selectedCenter=e.selectedRegion.regionMapCenter.latitude+","+e.selectedRegion.regionMapCenter.longitude,C(e.selectedCityId);var s=[e.selectedCity,e.selectedRegion.text,e.selectedRegion.id,e.selectedRegion.regionSlug,e.selectedRegion.regionMapCenter.latitude,e.selectedRegion.regionMapCenter.longitude,e.selectedCityId,e.citySlug];l.setUserLocation(s,"select"),l.setUserRegionPoint(e.selectedCenter),e.enableSubmit=!0}else!k(t)&&t.length<2&&l.removeUserLocation();m=!0}),x()}]),app.controller("CityModalController",["$scope","$rootScope","data","UserLocation","$location",function(e,t,n,i){var s=function(){e.cities=n.cities,e.urlBackground="/app/user/assets/img/base/pattern-new.jpg"};e.setSelectedCity=function(t){e.selectedCity=t,i.setUserCity(t,"select"),e.$close()},s()}]),app.controller("seoController",["$rootScope","$stateParams","ClientGateway","$timeout","$scope",function(e,t,n,i,s){var a=" :: ";e.PageSEOData=[];var o=!1,r=null,l=function(e){return angular.isUndefined(e)||null===e},c=function(){i(function(){n.get({url:window.location.href},"/seo/url",function(t){r=t.data.hasOwnProperty("isDefault"),r&&o&&(t.data.seoSettingPageTitle=document.title),e.PageSEOData=t.data;try{e.PageSEOData.customMetaTags=JSON.parse(t.data.seoSettingOtherMeta)}catch(n){e.PageSEOData.customMetaTags=[]}})},40)};e.$on("$stateChangeStart",function(e,t,n,i,s){o=!1,r=null,c()}),e.$on("PageTitle::Update",function(e,t){(l(r)||r)&&(o=!0,"undefined "!=t.title||"undefined"!=t.title||void 0!=t.title?document.title=a+t.title:document.title=a)})}]),app.controller("logoutCtrl",["ClientGateway","$templateCache","$state","$scope",function(e,t,n,i){e.get("","/user/logout",function(e){t.removeAll(),n.go("app.homepage",{},{reload:!0}),i.isUserLoggedIn=!1,i.userId=0,i.currentUser=null})}]),function(e,t){"use strict";app.constant("toasterConfig",{limit:0,"tap-to-dismiss":!0,"close-button":!1,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",wait:"toast-wait",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message","prevent-duplicates":!1,"mouseover-timer-stop":!0}),app.service("toaster",["$rootScope","toasterConfig",function(e,t){this.pop=function(t,n,i,s,a,o,r,l,c,d){if(angular.isObject(t)){var u=t;this.toast={type:u.type,title:u.title,body:u.body,timeout:u.timeout,bodyOutputType:u.bodyOutputType,clickHandler:u.clickHandler,showCloseButton:u.showCloseButton,uid:u.toastId,onHideCallback:u.onHideCallback},c=u.toastId,r=u.toasterId}else this.toast={type:t,title:n,body:i,timeout:s,bodyOutputType:a,clickHandler:o,showCloseButton:l,uid:c,onHideCallback:d};e.$emit("toaster-newToast",r,c)},this.clear=function(t,n){e.$emit("toaster-clearToasts",t,n)};for(var n in t["icon-classes"])this[n]=function(e){return function(t,n,i,s,a,o,r,l,c){angular.isString(t)?this.pop(e,t,n,i,s,a,o,r,l,c):this.pop(angular.extend(t,{type:e}))}}(n)}]),app.factory("toasterEventRegistry",["$rootScope",function(e){var t,n=null,i=null,s=[],a=[];return t={setup:function(){n||(n=e.$on("toaster-newToast",function(e,t,n){for(var i=0,a=s.length;i<a;i++)s[i](e,t,n)})),i||(i=e.$on("toaster-clearToasts",function(e,t,n){for(var i=0,s=a.length;i<s;i++)a[i](e,t,n)}))},subscribeToNewToastEvent:function(e){s.push(e)},subscribeToClearToastsEvent:function(e){a.push(e)},unsubscribeToNewToastEvent:function(e){var t=s.indexOf(e);t>=0&&s.splice(t,1),0===s.length&&(n(),n=null)},unsubscribeToClearToastsEvent:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1),0===a.length&&(i(),i=null)}},{setup:t.setup,subscribeToNewToastEvent:t.subscribeToNewToastEvent,subscribeToClearToastsEvent:t.subscribeToClearToastsEvent,unsubscribeToNewToastEvent:t.unsubscribeToNewToastEvent,unsubscribeToClearToastsEvent:t.unsubscribeToClearToastsEvent}}]),app.directive("toasterContainer",["$parse","$rootScope","$interval","$sce","toasterConfig","toaster","toasterEventRegistry",function(e,t,n,i,s,a,o){return{replace:!0,restrict:"EA",scope:!0,link:function(t,r,l){function c(e,i){e.timeoutPromise=n(function(){t.removeToast(e.id)},i,1)}function d(n,s){if(n.type=f["icon-classes"][n.type],n.type||(n.type=f["icon-class"]),f["prevent-duplicates"]===!0)if(h(s)){if(t.toasters.length>0&&t.toasters[t.toasters.length-1].body===n.body)return}else{var a,o;for(a=0,o=t.toasters.length;a<o;a++)t.toasters[a].uid===s&&(u(a),a--,o=t.toasters.length)}n.id=++g,h(s)||(n.uid=s);var r=f["close-button"];if("boolean"==typeof n.showCloseButton);else if("boolean"==typeof r)n.showCloseButton=r;else if("object"==typeof r){var l=r[n.type];"undefined"!=typeof l&&null!==l&&(n.showCloseButton=l)}else n.showCloseButton=!1;switch(n.bodyOutputType=n.bodyOutputType||f["body-output-type"],n.bodyOutputType){case"trustedHtml":n.html=i.trustAsHtml(n.body);break;case"template":n.bodyTemplate=n.body||f["body-template"];break;case"templateWithData":var c=e(n.body||f["body-template"]),d=c(t);n.bodyTemplate=d.template,n.data=d.data}t.configureTimer(n),f["newest-on-top"]===!0?(t.toasters.unshift(n),f.limit>0&&t.toasters.length>f.limit&&t.toasters.pop()):(t.toasters.push(n),f.limit>0&&t.toasters.length>f.limit&&t.toasters.shift())}function u(e){var i=t.toasters[e];i&&(i.timeoutPromise&&n.cancel(i.timeoutPromise),t.toasters.splice(e,1),angular.isFunction(i.onHideCallback)&&i.onHideCallback())}function p(e){for(var n=t.toasters.length-1;n>=0;n--)h(e)?u(n):t.toasters[n].uid==e&&u(n)}function h(e){return angular.isUndefined(e)||null===e}var f,g=0;f=angular.extend({},s,t.$eval(l.toasterOptions)),t.config={toasterId:f["toaster-id"],position:f["position-class"],title:f["title-class"],message:f["message-class"],tap:f["tap-to-dismiss"],closeButton:f["close-button"],animation:f["animation-class"],mouseoverTimer:f["mouseover-timer-stop"]},t.$on("$destroy",function(){o.unsubscribeToNewToastEvent(t._onNewToast),o.unsubscribeToClearToastsEvent(t._onClearToasts)}),t.configureTimer=function(e){var t=angular.isNumber(e.timeout)?e.timeout:f["time-out"];"object"==typeof t&&(t=t[e.type]),t>0&&c(e,t)},t.removeToast=function(e){var n,i;for(n=0,i=t.toasters.length;n<i;n++)if(t.toasters[n].id===e){u(n);break}},t.toasters=[],t._onNewToast=function(e,n,i){(h(t.config.toasterId)&&h(n)||!h(t.config.toasterId)&&!h(n)&&t.config.toasterId==n)&&d(a.toast,i)},t._onClearToasts=function(e,n,i){("*"==n||h(t.config.toasterId)&&h(n)||!h(t.config.toasterId)&&!h(n)&&t.config.toasterId==n)&&p(i)},o.setup(),o.subscribeToNewToastEvent(t._onNewToast),o.subscribeToClearToastsEvent(t._onClearToasts)},controller:["$scope","$element","$attrs",function(e,t,i){e.stopTimer=function(t){e.config.mouseoverTimer===!0&&t.timeoutPromise&&(n.cancel(t.timeoutPromise),t.timeoutPromise=null)},e.restartTimer=function(t){e.config.mouseoverTimer===!0?t.timeoutPromise||e.configureTimer(t):null===t.timeoutPromise&&e.removeToast(t.id)},e.click=function(t,n){if(e.config.tap===!0||t.showCloseButton===!0&&n===!0){var i=!0;t.clickHandler&&(angular.isFunction(t.clickHandler)?i=t.clickHandler(t,n):angular.isFunction(e.$parent.$eval(t.clickHandler))?i=e.$parent.$eval(t.clickHandler)(t,n):console.log("TOAST-NOTE: Your click handler is not inside a parent scope of toaster-container.")),i&&e.removeToast(t.id)}}}],template:'<div id="toast-container" ng-class="[config.position, config.animation]"><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="click(toaster)" ng-mouseover="stopTimer(toaster)" ng-mouseout="restartTimer(toaster)"><button type="button" class="toast-close-button" ng-show="toaster.showCloseButton" ng-click="click(toaster, true)">&times;</button><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-when="templateWithData"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}])}(window,document),app.filter("htmlContent",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("localizeFilters",[]).filter("faText",function(){return function(e){return e+="",e.replace(/0/g,"").replace(/1/g,"").replace(/2/g,"").replace(/3/g,"").replace(/4/g,"").replace(/5/g,"").replace(/6/g,"").replace(/7/g,"").replace(/8/g,"").replace(/9/g,"")}}),app.filter("persian",function(){return function(e){if(void 0!=e){var t="",n={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};e=e.toString();for(var i=0;i<e.length;i++)t+=n[e[i]]?n[e[i]]:e[i];return t}}}),app.filter("timeFormat",function(){return function(e){if(void 0!=e){var t="",n={".":":",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""};e=e.toString();for(var i=0;i<e.length;i++)t+=n[e[i]]?n[e[i]]:e[i];return 1==t.length&&(t=n[0]+t),2==t.length&&(t+=":"+n[0]+n[0]),t}}}),app.directive("map",["$timeout",function(e){var t;return{restrict:"E",replace:!0,scope:{zoom:"=",lat:"=",lng:"=",showMarker:"@"},template:'<div><div style="width:100%; height: 450px;" id="myMap"></div></div>',controller:["$scope","$rootScope",function(n,i){var s={zoom:parseInt(n.zoom),center:new google.maps.LatLng(n.lat,n.lng),mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:!0},a=function(){if(t=new google.maps.Map(document.getElementById("myMap"),s),google.maps.event.addListener(t,"dragend",function(){n.$apply(function(){n.zoom=t.getZoom(),n.lat=t.getCenter().lat(),n.lng=t.getCenter().lng()})}),google.maps.event.addListener(t,"zoom_changed",function(e){n.zoom=t.getZoom()}),i.getMapInfo=function(e,t,n){i.zoom=e,i.lat=t,i.lng=n},n.showMarker){new google.maps.Marker({position:{lat:n.lat,lng:n.lng},map:t})}n.$watch("zoom",function(e){t.setZoom(parseInt(e))}),n.$watch("lat",function(e){t.setCenter(new google.maps.LatLng(e,t.getCenter().lng()))}),n.$watch("lng",function(e){t.setCenter(new google.maps.LatLng(t.getCenter().lat(),e))})};a(),n.$on("$stateChangeSuccess",function(t,n,i,s,o){e(function(){a()},500)})}]}}]),function(){function e(e,t){return e.set(t[0],t[1]),e}function t(e,t){return e.add(t),e}function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function i(e,t,n,i){for(var s=-1,a=null==e?0:e.length;++s<a;){var o=e[s];t(i,o,n(o),e)}return i}function s(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function a(e,t){for(var n=null==e?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}function o(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function r(e,t){for(var n=-1,i=null==e?0:e.length,s=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[s++]=o)}return a}function l(e,t){var n=null==e?0:e.length;return!!n&&y(e,t,0)>-1}function c(e,t,n){for(var i=-1,s=null==e?0:e.length;++i<s;)if(n(t,e[i]))return!0;return!1}function d(e,t){for(var n=-1,i=null==e?0:e.length,s=Array(i);++n<i;)s[n]=t(e[n],n,e);return s}function u(e,t){for(var n=-1,i=t.length,s=e.length;++n<i;)e[s+n]=t[n];return e}function p(e,t,n,i){var s=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e);return n}function h(e,t,n,i){var s=null==e?0:e.length;for(i&&s&&(n=e[--s]);s--;)n=t(n,e[s],s,e);return n}function f(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function g(e){return e.split("")}function m(e){return e.match(Ft)||[]}function v(e,t,n){var i;return n(e,function(e,n,s){if(t(e,n,s))return i=n,!1}),i}function b(e,t,n,i){for(var s=e.length,a=n+(i?1:-1);i?a--:++a<s;)if(t(e[a],a,e))return a;return-1}function y(e,t,n){return t===t?W(e,t,n):b(e,x,n)}function w(e,t,n,i){for(var s=n-1,a=e.length;++s<a;)if(i(e[s],t))return s;return-1}function x(e){return e!==e}function k(e,t){var n=null==e?0:e.length;return n?A(e,t)/n:Me}function $(e){return function(t){return null==t?J:t[e]}}function S(e){return function(t){return null==e?J:e[t]}}function C(e,t,n,i,s){return s(e,function(e,s,a){n=i?(i=!1,e):t(n,e,s,a)}),n}function T(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function A(e,t){for(var n,i=-1,s=e.length;++i<s;){var a=t(e[i]);a!==J&&(n=n===J?a:n+a)}return n}function _(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function I(e,t){return d(t,function(t){return[t,e[t]]})}function D(e){return function(t){return e(t)}}function P(e,t){return d(t,function(t){return e[t]})}function M(e,t){return e.has(t)}function E(e,t){for(var n=-1,i=e.length;++n<i&&y(t,e[n],0)>-1;);return n}function O(e,t){for(var n=e.length;n--&&y(t,e[n],0)>-1;);return n}function R(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}function L(e){return"\\"+Zn[e]}function N(e,t){return null==e?J:e[t]}function F(e){return jn.test(e)}function B(e){return zn.test(e)}function U(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function j(e,t){return function(n){return e(t(n))}}function z(e,t){for(var n=-1,i=e.length,s=0,a=[];++n<i;){var o=e[n];o!==t&&o!==oe||(e[n]=oe,a[s++]=n)}return a}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function W(e,t,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===t)return i;return-1}function G(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}function Y(e){return F(e)?X(e):fi(e)}function K(e){return F(e)?Z(e):g(e)}function X(e){for(var t=Un.lastIndex=0;Un.test(e);)++t;return t}function Z(e){return e.match(Un)||[]}function Q(e){return e.match(Vn)||[]}var J,ee="4.17.2",te=200,ne="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ie="Expected a function",se="__lodash_hash_undefined__",ae=500,oe="__lodash_placeholder__",re=1,le=2,ce=4,de=1,ue=2,pe=1,he=2,fe=4,ge=8,me=16,ve=32,be=64,ye=128,we=256,xe=512,ke=30,$e="...",Se=800,Ce=16,Te=1,Ae=2,_e=3,Ie=1/0,De=9007199254740991,Pe=1.7976931348623157e308,Me=NaN,Ee=4294967295,Oe=Ee-1,Re=Ee>>>1,Le=[["ary",ye],["bind",pe],["bindKey",he],["curry",ge],["curryRight",me],["flip",xe],["partial",ve],["partialRight",be],["rearg",we]],Ne="[object Arguments]",Fe="[object Array]",Be="[object AsyncFunction]",Ue="[object Boolean]",Ve="[object Date]",je="[object DOMException]",ze="[object Error]",He="[object Function]",qe="[object GeneratorFunction]",We="[object Map]",Ge="[object Number]",Ye="[object Null]",Ke="[object Object]",Xe="[object Promise]",Ze="[object Proxy]",Qe="[object RegExp]",Je="[object Set]",et="[object String]",tt="[object Symbol]",nt="[object Undefined]",it="[object WeakMap]",st="[object WeakSet]",at="[object ArrayBuffer]",ot="[object DataView]",rt="[object Float32Array]",lt="[object Float64Array]",ct="[object Int8Array]",dt="[object Int16Array]",ut="[object Int32Array]",pt="[object Uint8Array]",ht="[object Uint8ClampedArray]",ft="[object Uint16Array]",gt="[object Uint32Array]",mt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,bt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,xt=RegExp(yt.source),kt=RegExp(wt.source),$t=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,Ct=/<%=([\s\S]+?)%>/g,Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,_t=/^\./,It=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dt=/[\\^$.*+?()[\]{}|]/g,Pt=RegExp(Dt.source),Mt=/^\s+|\s+$/g,Et=/^\s+/,Ot=/\s+$/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Nt=/,? & /,Ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Bt=/\\(\\)?/g,Ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vt=/\w*$/,jt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,Ht=/^\[object .+?Constructor\]$/,qt=/^0o[0-7]+$/i,Wt=/^(?:0|[1-9]\d*)$/,Gt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Xt="\\ud800-\\udfff",Zt="\\u0300-\\u036f",Qt="\\ufe20-\\ufe2f",Jt="\\u20d0-\\u20ff",en=Zt+Qt+Jt,tn="\\u2700-\\u27bf",nn="a-z\\xdf-\\xf6\\xf8-\\xff",sn="\\xac\\xb1\\xd7\\xf7",an="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",on="\\u2000-\\u206f",rn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ln="A-Z\\xc0-\\xd6\\xd8-\\xde",cn="\\ufe0e\\ufe0f",dn=sn+an+on+rn,un="[']",pn="["+Xt+"]",hn="["+dn+"]",fn="["+en+"]",gn="\\d+",mn="["+tn+"]",vn="["+nn+"]",bn="[^"+Xt+dn+gn+tn+nn+ln+"]",yn="\\ud83c[\\udffb-\\udfff]",wn="(?:"+fn+"|"+yn+")",xn="[^"+Xt+"]",kn="(?:\\ud83c[\\udde6-\\uddff]){2}",$n="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+ln+"]",Cn="\\u200d",Tn="(?:"+vn+"|"+bn+")",An="(?:"+Sn+"|"+bn+")",_n="(?:"+un+"(?:d|ll|m|re|s|t|ve))?",In="(?:"+un+"(?:D|LL|M|RE|S|T|VE))?",Dn=wn+"?",Pn="["+cn+"]?",Mn="(?:"+Cn+"(?:"+[xn,kn,$n].join("|")+")"+Pn+Dn+")*",En="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",On="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Rn=Pn+Dn+Mn,Ln="(?:"+[mn,kn,$n].join("|")+")"+Rn,Nn="(?:"+[xn+fn+"?",fn,kn,$n,pn].join("|")+")",Fn=RegExp(un,"g"),Bn=RegExp(fn,"g"),Un=RegExp(yn+"(?="+yn+")|"+Nn+Rn,"g"),Vn=RegExp([Sn+"?"+vn+"+"+_n+"(?="+[hn,Sn,"$"].join("|")+")",An+"+"+In+"(?="+[hn,Sn+Tn,"$"].join("|")+")",Sn+"?"+Tn+"+"+_n,Sn+"+"+In,On,En,gn,Ln].join("|"),"g"),jn=RegExp("["+Cn+Xt+en+cn+"]"),zn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qn=-1,Wn={};Wn[rt]=Wn[lt]=Wn[ct]=Wn[dt]=Wn[ut]=Wn[pt]=Wn[ht]=Wn[ft]=Wn[gt]=!0,Wn[Ne]=Wn[Fe]=Wn[at]=Wn[Ue]=Wn[ot]=Wn[Ve]=Wn[ze]=Wn[He]=Wn[We]=Wn[Ge]=Wn[Ke]=Wn[Qe]=Wn[Je]=Wn[et]=Wn[it]=!1;var Gn={};Gn[Ne]=Gn[Fe]=Gn[at]=Gn[ot]=Gn[Ue]=Gn[Ve]=Gn[rt]=Gn[lt]=Gn[ct]=Gn[dt]=Gn[ut]=Gn[We]=Gn[Ge]=Gn[Ke]=Gn[Qe]=Gn[Je]=Gn[et]=Gn[tt]=Gn[pt]=Gn[ht]=Gn[ft]=Gn[gt]=!0,Gn[ze]=Gn[He]=Gn[it]=!1;var Yn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Kn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qn=parseFloat,Jn=parseInt,ei="object"==typeof global&&global&&global.Object===Object&&global,ti="object"==typeof self&&self&&self.Object===Object&&self,ni=ei||ti||Function("return this")(),ii="object"==typeof exports&&exports&&!exports.nodeType&&exports,si=ii&&"object"==typeof module&&module&&!module.nodeType&&module,ai=si&&si.exports===ii,oi=ai&&ei.process,ri=function(){try{return oi&&oi.binding&&oi.binding("util")}catch(e){}}(),li=ri&&ri.isArrayBuffer,ci=ri&&ri.isDate,di=ri&&ri.isMap,ui=ri&&ri.isRegExp,pi=ri&&ri.isSet,hi=ri&&ri.isTypedArray,fi=$("length"),gi=S(Yn),mi=S(Kn),vi=S(Xn),bi=function wi(g){function S(e){if(ll(e)&&!yp(e)&&!(e instanceof Z)){if(e instanceof X)return e;if(yd.call(e,"__wrapped__"))return so(e)}return new X(e)}function W(){}function X(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=J}function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ee,this.__views__=[]}function Ft(){var e=new Z(this.__wrapped__);return e.__actions__=Vs(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Vs(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Vs(this.__views__),e}function Xt(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Zt(){var e=this.__wrapped__.value(),t=this.__dir__,n=yp(e),i=t<0,s=n?e.length:0,a=Aa(0,s,this.__views__),o=a.start,r=a.end,l=r-o,c=i?r:o-1,d=this.__iteratees__,u=d.length,p=0,h=Kd(l,this.__takeCount__);if(!n||s<te||s==l&&h==l)return ks(e,this.__actions__);var f=[];e:for(;l--&&p<h;){c+=t;for(var g=-1,m=e[c];++g<u;){var v=d[g],b=v.iteratee,y=v.type,w=b(m);if(y==Ae)m=w;else if(!w){if(y==Te)continue e;break e}}f[p++]=m}return f}function Qt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Jt(){this.__data__=au?au(null):{},this.size=0}function en(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function tn(e){var t=this.__data__;if(au){var n=t[e];return n===se?J:n}return yd.call(t,e)?t[e]:J}function nn(e){var t=this.__data__;return au?t[e]!==J:yd.call(t,e)}function sn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=au&&t===J?se:t,this}function an(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function on(){this.__data__=[],this.size=0}function rn(e){var t=this.__data__,n=En(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():Ed.call(t,n,1),--this.size,!0}function ln(e){var t=this.__data__,n=En(t,e);return n<0?J:t[n][1]}function cn(e){return En(this.__data__,e)>-1}function dn(e,t){var n=this.__data__,i=En(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function un(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function pn(){this.size=0,this.__data__={hash:new Qt,map:new(tu||an),string:new Qt}}function hn(e){var t=$a(this,e)["delete"](e);return this.size-=t?1:0,t}function fn(e){return $a(this,e).get(e)}function gn(e){return $a(this,e).has(e)}function mn(e,t){var n=$a(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function vn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new un;++t<n;)this.add(e[t])}function bn(e){return this.__data__.set(e,se),this}function yn(e){return this.__data__.has(e)}function wn(e){var t=this.__data__=new an(e);this.size=t.size}function xn(){this.__data__=new an,this.size=0}function kn(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}function $n(e){return this.__data__.get(e)}function Sn(e){return this.__data__.has(e)}function Cn(e,t){var n=this.__data__;if(n instanceof an){var i=n.__data__;if(!tu||i.length<te-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new un(i)}return n.set(e,t),this.size=n.size,this}function Tn(e,t){var n=yp(e),i=!n&&bp(e),s=!n&&!i&&xp(e),a=!n&&!i&&!s&&Tp(e),o=n||i||s||a,r=o?_(e.length,pd):[],l=r.length;for(var c in e)!t&&!yd.call(e,c)||o&&("length"==c||s&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ra(c,l))||r.push(c);return r}function An(e){var t=e.length;return t?e[is(0,t-1)]:J}function _n(e,t){return eo(Vs(e),Vn(t,0,e.length))}function In(e){return eo(Vs(e))}function Dn(e,t,n,i){return e===J||Yr(e,md[n])&&!yd.call(i,n)?t:e}function Pn(e,t,n){(n===J||Yr(e[t],n))&&(n!==J||t in e)||Nn(e,t,n)}function Mn(e,t,n){var i=e[t];yd.call(e,t)&&Yr(i,n)&&(n!==J||t in e)||Nn(e,t,n)}function En(e,t){for(var n=e.length;n--;)if(Yr(e[n][0],t))return n;return-1}function On(e,t,n,i){return vu(e,function(e,s,a){t(i,e,n(e),a)}),i}function Rn(e,t){return e&&js(t,zl(t),e)}function Ln(e,t){return e&&js(t,Hl(t),e)}function Nn(e,t,n){"__proto__"==t&&Nd?Nd(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Un(e,t){for(var n=-1,i=t.length,s=ad(i),a=null==e;++n<i;)s[n]=a?J:Ul(e,t[n]);return s}function Vn(e,t,n){return e===e&&(n!==J&&(e=e<=n?e:n),t!==J&&(e=e>=t?e:t)),e}function jn(e,t,n,i,a,o){var r,l=t&re,c=t&le,d=t&ce;if(n&&(r=a?n(e,i,a,o):n(e)),r!==J)return r;if(!rl(e))return e;var u=yp(e);if(u){if(r=Da(e),!l)return Vs(e,r)}else{var p=Iu(e),h=p==He||p==qe;if(xp(e))return Is(e,l);if(p==Ke||p==Ne||h&&!a){if(r=c||h?{}:Pa(e),!l)return c?Hs(e,Ln(r,e)):zs(e,Rn(r,e))}else{if(!Gn[p])return a?e:{};r=Ma(e,p,jn,l)}}o||(o=new wn);var f=o.get(e);if(f)return f;o.set(e,r);var g=d?c?ya:ba:c?Hl:zl,m=u?J:g(e);return s(m||e,function(i,s){m&&(s=i,i=e[s]),Mn(r,s,jn(i,t,n,s,e,o))}),r}function zn(e){var t=zl(e);return function(n){return Yn(n,e,t)}}function Yn(e,t,n){var i=n.length;if(null==e)return!i;for(e=dd(e);i--;){var s=n[i],a=t[s],o=e[s];if(o===J&&!(s in e)||!a(o))return!1}return!0}function Kn(e,t,n){if("function"!=typeof e)throw new hd(ie);return Mu(function(){e.apply(J,n)},t)}function Xn(e,t,n,i){var s=-1,a=l,o=!0,r=e.length,u=[],p=t.length;if(!r)return u;n&&(t=d(t,D(n))),i?(a=c,o=!1):t.length>=te&&(a=M,o=!1,t=new vn(t));e:for(;++s<r;){var h=e[s],f=null==n?h:n(h);if(h=i||0!==h?h:0,o&&f===f){for(var g=p;g--;)if(t[g]===f)continue e;u.push(h)}else a(t,f,i)||u.push(h)}return u}function Zn(e,t){var n=!0;return vu(e,function(e,i,s){return n=!!t(e,i,s)}),n}function ei(e,t,n){for(var i=-1,s=e.length;++i<s;){var a=e[i],o=t(a);if(null!=o&&(r===J?o===o&&!yl(o):n(o,r)))var r=o,l=a}return l}function ti(e,t,n,i){var s=e.length;for(n=Cl(n),n<0&&(n=-n>s?0:s+n),i=i===J||i>s?s:Cl(i),i<0&&(i+=s),i=n>i?0:Tl(i);n<i;)e[n++]=t;return e}function ii(e,t){var n=[];return vu(e,function(e,i,s){t(e,i,s)&&n.push(e)}),n}function si(e,t,n,i,s){var a=-1,o=e.length;for(n||(n=Oa),s||(s=[]);++a<o;){var r=e[a];t>0&&n(r)?t>1?si(r,t-1,n,i,s):u(s,r):i||(s[s.length]=r)}return s}function oi(e,t){return e&&yu(e,t,zl)}function ri(e,t){return e&&wu(e,t,zl)}function fi(e,t){return r(t,function(t){return sl(e[t])})}function bi(e,t){t=As(t,e);for(var n=0,i=t.length;null!=e&&n<i;)e=e[to(t[n++])];return n&&n==i?e:J}function xi(e,t,n){var i=t(e);return yp(e)?i:u(i,n(e))}function ki(e){return null==e?e===J?nt:Ye:(e=dd(e),Ld&&Ld in e?Ta(e):Ya(e))}function $i(e,t){return e>t}function Si(e,t){return null!=e&&yd.call(e,t)}function Ci(e,t){return null!=e&&t in dd(e)}function Ti(e,t,n){return e>=Kd(t,n)&&e<Yd(t,n)}function Ai(e,t,n){for(var i=n?c:l,s=e[0].length,a=e.length,o=a,r=ad(a),u=1/0,p=[];o--;){var h=e[o];o&&t&&(h=d(h,D(t))),u=Kd(h.length,u),r[o]=!n&&(t||s>=120&&h.length>=120)?new vn(o&&h):J}h=e[0];var f=-1,g=r[0];e:for(;++f<s&&p.length<u;){var m=h[f],v=t?t(m):m;if(m=n||0!==m?m:0,!(g?M(g,v):i(p,v,n))){for(o=a;--o;){var b=r[o];if(!(b?M(b,v):i(e[o],v,n)))continue e}g&&g.push(v),p.push(m)}}return p}function _i(e,t,n,i){return oi(e,function(e,s,a){t(i,n(e),s,a)}),i}function Ii(e,t,i){t=As(t,e),e=Xa(e,t);var s=null==e?e:e[to(So(t))];return null==s?J:n(s,e,i)}function Di(e){return ll(e)&&ki(e)==Ne}function Pi(e){return ll(e)&&ki(e)==at}function Mi(e){return ll(e)&&ki(e)==Ve}function Ei(e,t,n,i,s){return e===t||(null==e||null==t||!rl(e)&&!ll(t)?e!==e&&t!==t:Oi(e,t,n,i,Ei,s))}function Oi(e,t,n,i,s,a){var o=yp(e),r=yp(t),l=Fe,c=Fe;o||(l=Iu(e),l=l==Ne?Ke:l),r||(c=Iu(t),c=c==Ne?Ke:c);var d=l==Ke,u=c==Ke,p=l==c;if(p&&xp(e)){if(!xp(t))return!1;o=!0,d=!1}if(p&&!d)return a||(a=new wn),o||Tp(e)?fa(e,t,n,i,s,a):ga(e,t,l,n,i,s,a);if(!(n&de)){var h=d&&yd.call(e,"__wrapped__"),f=u&&yd.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,m=f?t.value():t;return a||(a=new wn),s(g,m,n,i,a)}}return!!p&&(a||(a=new wn),ma(e,t,n,i,s,a))}function Ri(e){return ll(e)&&Iu(e)==We}function Li(e,t,n,i){var s=n.length,a=s,o=!i;if(null==e)return!a;for(e=dd(e);s--;){var r=n[s];if(o&&r[2]?r[1]!==e[r[0]]:!(r[0]in e))return!1}for(;++s<a;){r=n[s];var l=r[0],c=e[l],d=r[1];if(o&&r[2]){if(c===J&&!(l in e))return!1}else{var u=new wn;if(i)var p=i(c,d,l,e,t,u);if(!(p===J?Ei(d,c,de|ue,i,u):p))return!1}}return!0}function Ni(e){if(!rl(e)||Ua(e))return!1;var t=sl(e)?Cd:Ht;return t.test(no(e))}function Fi(e){return ll(e)&&ki(e)==Qe}function Bi(e){return ll(e)&&Iu(e)==Je}function Ui(e){return ll(e)&&ol(e.length)&&!!Wn[ki(e)]}function Vi(e){return"function"==typeof e?e:null==e?Ec:"object"==typeof e?yp(e)?Gi(e[0],e[1]):Wi(e):Vc(e)}function ji(e){if(!Va(e))return Gd(e);var t=[];for(var n in dd(e))yd.call(e,n)&&"constructor"!=n&&t.push(n);return t}function zi(e){if(!rl(e))return Ga(e);var t=Va(e),n=[];for(var i in e)("constructor"!=i||!t&&yd.call(e,i))&&n.push(i);return n}function Hi(e,t){return e<t}function qi(e,t){var n=-1,i=Kr(e)?ad(e.length):[];return vu(e,function(e,s,a){i[++n]=t(e,s,a)}),i}function Wi(e){var t=Sa(e);return 1==t.length&&t[0][2]?za(t[0][0],t[0][1]):function(n){return n===e||Li(n,e,t)}}function Gi(e,t){return Na(e)&&ja(t)?za(to(e),t):function(n){var i=Ul(n,e);return i===J&&i===t?jl(n,e):Ei(t,i,de|ue)}}function Yi(e,t,n,i,s){e!==t&&yu(t,function(a,o){if(rl(a))s||(s=new wn),Ki(e,t,o,n,Yi,i,s);else{var r=i?i(e[o],a,o+"",e,t,s):J;r===J&&(r=a),Pn(e,o,r)}},Hl)}function Ki(e,t,n,i,s,a,o){var r=e[n],l=t[n],c=o.get(l);if(c)return void Pn(e,n,c);var d=a?a(r,l,n+"",e,t,o):J,u=d===J;if(u){var p=yp(l),h=!p&&xp(l),f=!p&&!h&&Tp(l);d=l,p||h||f?yp(r)?d=r:Xr(r)?d=Vs(r):h?(u=!1,d=Is(l,!0)):f?(u=!1,d=Ls(l,!0)):d=[]:ml(l)||bp(l)?(d=r,bp(r)?d=_l(r):(!rl(r)||i&&sl(r))&&(d=Pa(l))):u=!1}u&&(o.set(l,d),s(d,l,i,a,o),o["delete"](l)),Pn(e,n,d)}function Xi(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ra(t,n)?e[t]:J}function Zi(e,t,n){var i=-1;t=d(t.length?t:[Ec],D(ka()));
var s=qi(e,function(e,n,s){var a=d(t,function(t){return t(e)});return{criteria:a,index:++i,value:e}});return T(s,function(e,t){return Fs(e,t,n)})}function Qi(e,t){return e=dd(e),Ji(e,t,function(t,n){return jl(e,n)})}function Ji(e,t,n){for(var i=-1,s=t.length,a={};++i<s;){var o=t[i],r=bi(e,o);n(r,o)&&cs(a,As(o,e),r)}return a}function es(e){return function(t){return bi(t,e)}}function ts(e,t,n,i){var s=i?w:y,a=-1,o=t.length,r=e;for(e===t&&(t=Vs(t)),n&&(r=d(e,D(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=s(r,u,l,i))>-1;)r!==e&&Ed.call(r,l,1),Ed.call(e,l,1);return e}function ns(e,t){for(var n=e?t.length:0,i=n-1;n--;){var s=t[n];if(n==i||s!==a){var a=s;Ra(s)?Ed.call(e,s,1):ys(e,s)}}return e}function is(e,t){return e+jd(Qd()*(t-e+1))}function ss(e,t,n,i){for(var s=-1,a=Yd(Vd((t-e)/(n||1)),0),o=ad(a);a--;)o[i?a:++s]=e,e+=n;return o}function as(e,t){var n="";if(!e||t<1||t>De)return n;do t%2&&(n+=e),t=jd(t/2),t&&(e+=e);while(t);return n}function os(e,t){return Eu(Ka(e,t,Ec),e+"")}function rs(e){return An(nc(e))}function ls(e,t){var n=nc(e);return eo(n,Vn(t,0,n.length))}function cs(e,t,n,i){if(!rl(e))return e;t=As(t,e);for(var s=-1,a=t.length,o=a-1,r=e;null!=r&&++s<a;){var l=to(t[s]),c=n;if(s!=o){var d=r[l];c=i?i(d,l,r):J,c===J&&(c=rl(d)?d:Ra(t[s+1])?[]:{})}Mn(r,l,c),r=r[l]}return e}function ds(e){return eo(nc(e))}function us(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=ad(s);++i<s;)a[i]=e[i+t];return a}function ps(e,t){var n;return vu(e,function(e,i,s){return n=t(e,i,s),!n}),!!n}function hs(e,t,n){var i=0,s=null==e?i:e.length;if("number"==typeof t&&t===t&&s<=Re){for(;i<s;){var a=i+s>>>1,o=e[a];null!==o&&!yl(o)&&(n?o<=t:o<t)?i=a+1:s=a}return s}return fs(e,t,Ec,n)}function fs(e,t,n,i){t=n(t);for(var s=0,a=null==e?0:e.length,o=t!==t,r=null===t,l=yl(t),c=t===J;s<a;){var d=jd((s+a)/2),u=n(e[d]),p=u!==J,h=null===u,f=u===u,g=yl(u);if(o)var m=i||f;else m=c?f&&(i||p):r?f&&p&&(i||!h):l?f&&p&&!h&&(i||!g):!h&&!g&&(i?u<=t:u<t);m?s=d+1:a=d}return Kd(a,Oe)}function gs(e,t){for(var n=-1,i=e.length,s=0,a=[];++n<i;){var o=e[n],r=t?t(o):o;if(!n||!Yr(r,l)){var l=r;a[s++]=0===o?0:o}}return a}function ms(e){return"number"==typeof e?e:yl(e)?Me:+e}function vs(e){if("string"==typeof e)return e;if(yp(e))return d(e,vs)+"";if(yl(e))return gu?gu.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function bs(e,t,n){var i=-1,s=l,a=e.length,o=!0,r=[],d=r;if(n)o=!1,s=c;else if(a>=te){var u=t?null:Cu(e);if(u)return H(u);o=!1,s=M,d=new vn}else d=t?[]:r;e:for(;++i<a;){var p=e[i],h=t?t(p):p;if(p=n||0!==p?p:0,o&&h===h){for(var f=d.length;f--;)if(d[f]===h)continue e;t&&d.push(h),r.push(p)}else s(d,h,n)||(d!==r&&d.push(h),r.push(p))}return r}function ys(e,t){return t=As(t,e),e=Xa(e,t),null==e||delete e[to(So(t))]}function ws(e,t,n,i){return cs(e,t,n(bi(e,t)),i)}function xs(e,t,n,i){for(var s=e.length,a=i?s:-1;(i?a--:++a<s)&&t(e[a],a,e););return n?us(e,i?0:a,i?a+1:s):us(e,i?a+1:0,i?s:a)}function ks(e,t){var n=e;return n instanceof Z&&(n=n.value()),p(t,function(e,t){return t.func.apply(t.thisArg,u([e],t.args))},n)}function $s(e,t,n){var i=e.length;if(i<2)return i?bs(e[0]):[];for(var s=-1,a=ad(i);++s<i;)for(var o=e[s],r=-1;++r<i;)r!=s&&(a[s]=Xn(a[s]||o,e[r],t,n));return bs(si(a,1),t,n)}function Ss(e,t,n){for(var i=-1,s=e.length,a=t.length,o={};++i<s;){var r=i<a?t[i]:J;n(o,e[i],r)}return o}function Cs(e){return Xr(e)?e:[]}function Ts(e){return"function"==typeof e?e:Ec}function As(e,t){return yp(e)?e:Na(e,t)?[e]:Ou(Dl(e))}function _s(e,t,n){var i=e.length;return n=n===J?i:n,!t&&n>=i?e:us(e,t,n)}function Is(e,t){if(t)return e.slice();var n=e.length,i=Id?Id(n):new e.constructor(n);return e.copy(i),i}function Ds(e){var t=new e.constructor(e.byteLength);return new _d(t).set(new _d(e)),t}function Ps(e,t){var n=t?Ds(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ms(t,n,i){var s=n?i(V(t),re):V(t);return p(s,e,new t.constructor)}function Es(e){var t=new e.constructor(e.source,Vt.exec(e));return t.lastIndex=e.lastIndex,t}function Os(e,n,i){var s=n?i(H(e),re):H(e);return p(s,t,new e.constructor)}function Rs(e){return fu?dd(fu.call(e)):{}}function Ls(e,t){var n=t?Ds(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ns(e,t){if(e!==t){var n=e!==J,i=null===e,s=e===e,a=yl(e),o=t!==J,r=null===t,l=t===t,c=yl(t);if(!r&&!c&&!a&&e>t||a&&o&&l&&!r&&!c||i&&o&&l||!n&&l||!s)return 1;if(!i&&!a&&!c&&e<t||c&&n&&s&&!i&&!a||r&&n&&s||!o&&s||!l)return-1}return 0}function Fs(e,t,n){for(var i=-1,s=e.criteria,a=t.criteria,o=s.length,r=n.length;++i<o;){var l=Ns(s[i],a[i]);if(l){if(i>=r)return l;var c=n[i];return l*("desc"==c?-1:1)}}return e.index-t.index}function Bs(e,t,n,i){for(var s=-1,a=e.length,o=n.length,r=-1,l=t.length,c=Yd(a-o,0),d=ad(l+c),u=!i;++r<l;)d[r]=t[r];for(;++s<o;)(u||s<a)&&(d[n[s]]=e[s]);for(;c--;)d[r++]=e[s++];return d}function Us(e,t,n,i){for(var s=-1,a=e.length,o=-1,r=n.length,l=-1,c=t.length,d=Yd(a-r,0),u=ad(d+c),p=!i;++s<d;)u[s]=e[s];for(var h=s;++l<c;)u[h+l]=t[l];for(;++o<r;)(p||s<a)&&(u[h+n[o]]=e[s++]);return u}function Vs(e,t){var n=-1,i=e.length;for(t||(t=ad(i));++n<i;)t[n]=e[n];return t}function js(e,t,n,i){var s=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var r=t[a],l=i?i(n[r],e[r],r,n,e):J;l===J&&(l=e[r]),s?Nn(n,r,l):Mn(n,r,l)}return n}function zs(e,t){return js(e,Au(e),t)}function Hs(e,t){return js(e,_u(e),t)}function qs(e,t){return function(n,s){var a=yp(n)?i:On,o=t?t():{};return a(n,e,ka(s,2),o)}}function Ws(e){return os(function(t,n){var i=-1,s=n.length,a=s>1?n[s-1]:J,o=s>2?n[2]:J;for(a=e.length>3&&"function"==typeof a?(s--,a):J,o&&La(n[0],n[1],o)&&(a=s<3?J:a,s=1),t=dd(t);++i<s;){var r=n[i];r&&e(t,r,i,a)}return t})}function Gs(e,t){return function(n,i){if(null==n)return n;if(!Kr(n))return e(n,i);for(var s=n.length,a=t?s:-1,o=dd(n);(t?a--:++a<s)&&i(o[a],a,o)!==!1;);return n}}function Ys(e){return function(t,n,i){for(var s=-1,a=dd(t),o=i(t),r=o.length;r--;){var l=o[e?r:++s];if(n(a[l],l,a)===!1)break}return t}}function Ks(e,t,n){function i(){var t=this&&this!==ni&&this instanceof i?a:e;return t.apply(s?n:this,arguments)}var s=t&pe,a=Qs(e);return i}function Xs(e){return function(t){t=Dl(t);var n=F(t)?K(t):J,i=n?n[0]:t.charAt(0),s=n?_s(n,1).join(""):t.slice(1);return i[e]()+s}}function Zs(e){return function(t){return p(_c(lc(t).replace(Fn,"")),e,"")}}function Qs(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=mu(e.prototype),i=e.apply(n,t);return rl(i)?i:n}}function Js(e,t,i){function s(){for(var o=arguments.length,r=ad(o),l=o,c=xa(s);l--;)r[l]=arguments[l];var d=o<3&&r[0]!==c&&r[o-1]!==c?[]:z(r,c);if(o-=d.length,o<i)return da(e,t,na,s.placeholder,J,r,d,J,J,i-o);var u=this&&this!==ni&&this instanceof s?a:e;return n(u,this,r)}var a=Qs(e);return s}function ea(e){return function(t,n,i){var s=dd(t);if(!Kr(t)){var a=ka(n,3);t=zl(t),n=function(e){return a(s[e],e,s)}}var o=e(t,n,i);return o>-1?s[a?t[o]:o]:J}}function ta(e){return va(function(t){var n=t.length,i=n,s=X.prototype.thru;for(e&&t.reverse();i--;){var a=t[i];if("function"!=typeof a)throw new hd(ie);if(s&&!o&&"wrapper"==wa(a))var o=new X([],(!0))}for(i=o?i:n;++i<n;){a=t[i];var r=wa(a),l="wrapper"==r?Tu(a):J;o=l&&Ba(l[0])&&l[1]==(ye|ge|ve|we)&&!l[4].length&&1==l[9]?o[wa(l[0])].apply(o,l[3]):1==a.length&&Ba(a)?o[r]():o.thru(a)}return function(){var e=arguments,i=e[0];if(o&&1==e.length&&yp(i)&&i.length>=te)return o.plant(i).value();for(var s=0,a=n?t[s].apply(this,e):i;++s<n;)a=t[s].call(this,a);return a}})}function na(e,t,n,i,s,a,o,r,l,c){function d(){for(var v=arguments.length,b=ad(v),y=v;y--;)b[y]=arguments[y];if(f)var w=xa(d),x=R(b,w);if(i&&(b=Bs(b,i,s,f)),a&&(b=Us(b,a,o,f)),v-=x,f&&v<c){var k=z(b,w);return da(e,t,na,d.placeholder,n,b,k,r,l,c-v)}var $=p?n:this,S=h?$[e]:e;return v=b.length,r?b=Za(b,r):g&&v>1&&b.reverse(),u&&l<v&&(b.length=l),this&&this!==ni&&this instanceof d&&(S=m||Qs(S)),S.apply($,b)}var u=t&ye,p=t&pe,h=t&he,f=t&(ge|me),g=t&xe,m=h?J:Qs(e);return d}function ia(e,t){return function(n,i){return _i(n,e,t(i),{})}}function sa(e,t){return function(n,i){var s;if(n===J&&i===J)return t;if(n!==J&&(s=n),i!==J){if(s===J)return i;"string"==typeof n||"string"==typeof i?(n=vs(n),i=vs(i)):(n=ms(n),i=ms(i)),s=e(n,i)}return s}}function aa(e){return va(function(t){return t=d(t,D(ka())),os(function(i){var s=this;return e(t,function(e){return n(e,s,i)})})})}function oa(e,t){t=t===J?" ":vs(t);var n=t.length;if(n<2)return n?as(t,e):t;var i=as(t,Vd(e/Y(t)));return F(t)?_s(K(i),0,e).join(""):i.slice(0,e)}function ra(e,t,i,s){function a(){for(var t=-1,l=arguments.length,c=-1,d=s.length,u=ad(d+l),p=this&&this!==ni&&this instanceof a?r:e;++c<d;)u[c]=s[c];for(;l--;)u[c++]=arguments[++t];return n(p,o?i:this,u)}var o=t&pe,r=Qs(e);return a}function la(e){return function(t,n,i){return i&&"number"!=typeof i&&La(t,n,i)&&(n=i=J),t=Sl(t),n===J?(n=t,t=0):n=Sl(n),i=i===J?t<n?1:-1:Sl(i),ss(t,n,i,e)}}function ca(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Al(t),n=Al(n)),e(t,n)}}function da(e,t,n,i,s,a,o,r,l,c){var d=t&ge,u=d?o:J,p=d?J:o,h=d?a:J,f=d?J:a;t|=d?ve:be,t&=~(d?be:ve),t&fe||(t&=~(pe|he));var g=[e,t,s,h,u,f,p,r,l,c],m=n.apply(J,g);return Ba(e)&&Pu(m,g),m.placeholder=i,Qa(m,e,t)}function ua(e){var t=cd[e];return function(e,n){if(e=Al(e),n=Kd(Cl(n),292)){var i=(Dl(e)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+n));return i=(Dl(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function pa(e){return function(t){var n=Iu(t);return n==We?V(t):n==Je?q(t):I(t,e(t))}}function ha(e,t,n,i,s,a,o,r){var l=t&he;if(!l&&"function"!=typeof e)throw new hd(ie);var c=i?i.length:0;if(c||(t&=~(ve|be),i=s=J),o=o===J?o:Yd(Cl(o),0),r=r===J?r:Cl(r),c-=s?s.length:0,t&be){var d=i,u=s;i=s=J}var p=l?J:Tu(e),h=[e,t,n,i,s,d,u,a,o,r];if(p&&qa(h,p),e=h[0],t=h[1],n=h[2],i=h[3],s=h[4],r=h[9]=null==h[9]?l?0:e.length:Yd(h[9]-c,0),!r&&t&(ge|me)&&(t&=~(ge|me)),t&&t!=pe)f=t==ge||t==me?Js(e,t,r):t!=ve&&t!=(pe|ve)||s.length?na.apply(J,h):ra(e,t,n,i);else var f=Ks(e,t,n);var g=p?xu:Pu;return Qa(g(f,h),e,t)}function fa(e,t,n,i,s,a){var o=n&de,r=e.length,l=t.length;if(r!=l&&!(o&&l>r))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var d=-1,u=!0,p=n&ue?new vn:J;for(a.set(e,t),a.set(t,e);++d<r;){var h=e[d],g=t[d];if(i)var m=o?i(g,h,d,t,e,a):i(h,g,d,e,t,a);if(m!==J){if(m)continue;u=!1;break}if(p){if(!f(t,function(e,t){if(!M(p,t)&&(h===e||s(h,e,n,i,a)))return p.push(t)})){u=!1;break}}else if(h!==g&&!s(h,g,n,i,a)){u=!1;break}}return a["delete"](e),a["delete"](t),u}function ga(e,t,n,i,s,a,o){switch(n){case ot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case at:return!(e.byteLength!=t.byteLength||!a(new _d(e),new _d(t)));case Ue:case Ve:case Ge:return Yr(+e,+t);case ze:return e.name==t.name&&e.message==t.message;case Qe:case et:return e==t+"";case We:var r=V;case Je:var l=i&de;if(r||(r=H),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=ue,o.set(e,t);var d=fa(r(e),r(t),i,s,a,o);return o["delete"](e),d;case tt:if(fu)return fu.call(e)==fu.call(t)}return!1}function ma(e,t,n,i,s,a){var o=n&de,r=zl(e),l=r.length,c=zl(t),d=c.length;if(l!=d&&!o)return!1;for(var u=l;u--;){var p=r[u];if(!(o?p in t:yd.call(t,p)))return!1}var h=a.get(e);if(h&&a.get(t))return h==t;var f=!0;a.set(e,t),a.set(t,e);for(var g=o;++u<l;){p=r[u];var m=e[p],v=t[p];if(i)var b=o?i(v,m,p,t,e,a):i(m,v,p,e,t,a);if(!(b===J?m===v||s(m,v,n,i,a):b)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var y=e.constructor,w=t.constructor;y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w)&&(f=!1)}return a["delete"](e),a["delete"](t),f}function va(e){return Eu(Ka(e,J,mo),e+"")}function ba(e){return xi(e,zl,Au)}function ya(e){return xi(e,Hl,_u)}function wa(e){for(var t=e.name+"",n=ru[t],i=yd.call(ru,t)?n.length:0;i--;){var s=n[i],a=s.func;if(null==a||a==e)return s.name}return t}function xa(e){var t=yd.call(S,"placeholder")?S:e;return t.placeholder}function ka(){var e=S.iteratee||Oc;return e=e===Oc?Vi:e,arguments.length?e(arguments[0],arguments[1]):e}function $a(e,t){var n=e.__data__;return Fa(t)?n["string"==typeof t?"string":"hash"]:n.map}function Sa(e){for(var t=zl(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,ja(s)]}return t}function Ca(e,t){var n=N(e,t);return Ni(n)?n:J}function Ta(e){var t=yd.call(e,Ld),n=e[Ld];try{e[Ld]=J;var i=!0}catch(s){}var a=kd.call(e);return i&&(t?e[Ld]=n:delete e[Ld]),a}function Aa(e,t,n){for(var i=-1,s=n.length;++i<s;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Kd(t,e+o);break;case"takeRight":e=Yd(e,t-o)}}return{start:e,end:t}}function _a(e){var t=e.match(Lt);return t?t[1].split(Nt):[]}function Ia(e,t,n){t=As(t,e);for(var i=-1,s=t.length,a=!1;++i<s;){var o=to(t[i]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++i!=s?a:(s=null==e?0:e.length,!!s&&ol(s)&&Ra(o,s)&&(yp(e)||bp(e)))}function Da(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&yd.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Pa(e){return"function"!=typeof e.constructor||Va(e)?{}:mu(Dd(e))}function Ma(e,t,n,i){var s=e.constructor;switch(t){case at:return Ds(e);case Ue:case Ve:return new s((+e));case ot:return Ps(e,i);case rt:case lt:case ct:case dt:case ut:case pt:case ht:case ft:case gt:return Ls(e,i);case We:return Ms(e,i,n);case Ge:case et:return new s(e);case Qe:return Es(e);case Je:return Os(e,i,n);case tt:return Rs(e)}}function Ea(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Rt,"{\n/* [wrapped with "+t+"] */\n")}function Oa(e){return yp(e)||bp(e)||!!(Od&&e&&e[Od])}function Ra(e,t){return t=null==t?De:t,!!t&&("number"==typeof e||Wt.test(e))&&e>-1&&e%1==0&&e<t}function La(e,t,n){if(!rl(n))return!1;var i=typeof t;return!!("number"==i?Kr(n)&&Ra(t,n.length):"string"==i&&t in n)&&Yr(n[t],e)}function Na(e,t){if(yp(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yl(e))||(At.test(e)||!Tt.test(e)||null!=t&&e in dd(t))}function Fa(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Ba(e){var t=wa(e),n=S[t];if("function"!=typeof n||!(t in Z.prototype))return!1;if(e===n)return!0;var i=Tu(n);return!!i&&e===i[0]}function Ua(e){return!!xd&&xd in e}function Va(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||md;return e===n}function ja(e){return e===e&&!rl(e)}function za(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==J||e in dd(n)))}}function Ha(e){var t=Or(e,function(e){return n.size===ae&&n.clear(),e}),n=t.cache;return t}function qa(e,t){var n=e[1],i=t[1],s=n|i,a=s<(pe|he|ye),o=i==ye&&n==ge||i==ye&&n==we&&e[7].length<=t[8]||i==(ye|we)&&t[7].length<=t[8]&&n==ge;if(!a&&!o)return e;i&pe&&(e[2]=t[2],s|=n&pe?0:fe);var r=t[3];if(r){var l=e[3];e[3]=l?Bs(l,r,t[4]):r,e[4]=l?z(e[3],oe):t[4]}return r=t[5],r&&(l=e[5],e[5]=l?Us(l,r,t[6]):r,e[6]=l?z(e[5],oe):t[6]),r=t[7],r&&(e[7]=r),i&ye&&(e[8]=null==e[8]?t[8]:Kd(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function Wa(e,t,n,i,s,a){return rl(e)&&rl(t)&&(a.set(t,e),Yi(e,t,J,Wa,a),a["delete"](t)),e}function Ga(e){var t=[];if(null!=e)for(var n in dd(e))t.push(n);return t}function Ya(e){return kd.call(e)}function Ka(e,t,i){return t=Yd(t===J?e.length-1:t,0),function(){for(var s=arguments,a=-1,o=Yd(s.length-t,0),r=ad(o);++a<o;)r[a]=s[t+a];a=-1;for(var l=ad(t+1);++a<t;)l[a]=s[a];return l[t]=i(r),n(e,this,l)}}function Xa(e,t){return t.length<2?e:bi(e,us(t,0,-1))}function Za(e,t){for(var n=e.length,i=Kd(t.length,n),s=Vs(e);i--;){var a=t[i];e[i]=Ra(a,n)?s[a]:J}return e}function Qa(e,t,n){var i=t+"";return Eu(e,Ea(i,io(_a(i),n)))}function Ja(e){var t=0,n=0;return function(){var i=Xd(),s=Ce-(i-n);if(n=i,s>0){if(++t>=Se)return arguments[0]}else t=0;return e.apply(J,arguments)}}function eo(e,t){var n=-1,i=e.length,s=i-1;for(t=t===J?i:t;++n<t;){var a=is(n,s),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}function to(e){if("string"==typeof e||yl(e))return e;var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function no(e){if(null!=e){try{return bd.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function io(e,t){return s(Le,function(n){var i="_."+n[0];t&n[1]&&!l(e,i)&&e.push(i)}),e.sort()}function so(e){if(e instanceof Z)return e.clone();var t=new X(e.__wrapped__,e.__chain__);return t.__actions__=Vs(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ao(e,t,n){t=(n?La(e,t,n):t===J)?1:Yd(Cl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,o=ad(Vd(i/t));s<i;)o[a++]=us(e,s,s+=t);return o}function oo(e){for(var t=-1,n=null==e?0:e.length,i=0,s=[];++t<n;){var a=e[t];a&&(s[i++]=a)}return s}function ro(){var e=arguments.length;if(!e)return[];for(var t=ad(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return u(yp(n)?Vs(n):[n],si(t,1))}function lo(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:Cl(t),us(e,t<0?0:t,i)):[]}function co(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:Cl(t),t=i-t,us(e,0,t<0?0:t)):[]}function uo(e,t){return e&&e.length?xs(e,ka(t,3),!0,!0):[]}function po(e,t){return e&&e.length?xs(e,ka(t,3),!0):[]}function ho(e,t,n,i){var s=null==e?0:e.length;return s?(n&&"number"!=typeof n&&La(e,t,n)&&(n=0,i=s),ti(e,t,n,i)):[]}function fo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=null==n?0:Cl(n);return s<0&&(s=Yd(i+s,0)),b(e,ka(t,3),s)}function go(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=i-1;return n!==J&&(s=Cl(n),s=n<0?Yd(i+s,0):Kd(s,i-1)),b(e,ka(t,3),s,!0)}function mo(e){var t=null==e?0:e.length;return t?si(e,1):[]}function vo(e){var t=null==e?0:e.length;return t?si(e,Ie):[]}function bo(e,t){var n=null==e?0:e.length;return n?(t=t===J?1:Cl(t),si(e,t)):[]}function yo(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var s=e[t];i[s[0]]=s[1]}return i}function wo(e){return e&&e.length?e[0]:J}function xo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=null==n?0:Cl(n);return s<0&&(s=Yd(i+s,0)),y(e,t,s)}function ko(e){var t=null==e?0:e.length;return t?us(e,0,-1):[]}function $o(e,t){return null==e?"":Wd.call(e,t)}function So(e){var t=null==e?0:e.length;return t?e[t-1]:J}function Co(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var s=i;return n!==J&&(s=Cl(n),s=s<0?Yd(i+s,0):Kd(s,i-1)),t===t?G(e,t,s):b(e,x,s,!0)}function To(e,t){return e&&e.length?Xi(e,Cl(t)):J}function Ao(e,t){return e&&e.length&&t&&t.length?ts(e,t):e}function _o(e,t,n){return e&&e.length&&t&&t.length?ts(e,t,ka(n,2)):e}function Io(e,t,n){return e&&e.length&&t&&t.length?ts(e,t,J,n):e}function Do(e,t){var n=[];if(!e||!e.length)return n;var i=-1,s=[],a=e.length;for(t=ka(t,3);++i<a;){var o=e[i];t(o,i,e)&&(n.push(o),s.push(i))}return ns(e,s),n}function Po(e){return null==e?e:Jd.call(e)}function Mo(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&La(e,t,n)?(t=0,n=i):(t=null==t?0:Cl(t),n=n===J?i:Cl(n)),us(e,t,n)):[]}function Eo(e,t){return hs(e,t)}function Oo(e,t,n){return fs(e,t,ka(n,2))}function Ro(e,t){var n=null==e?0:e.length;if(n){var i=hs(e,t);if(i<n&&Yr(e[i],t))return i}return-1}function Lo(e,t){return hs(e,t,!0)}function No(e,t,n){return fs(e,t,ka(n,2),!0)}function Fo(e,t){var n=null==e?0:e.length;if(n){var i=hs(e,t,!0)-1;if(Yr(e[i],t))return i}return-1}function Bo(e){return e&&e.length?gs(e):[]}function Uo(e,t){return e&&e.length?gs(e,ka(t,2)):[]}function Vo(e){var t=null==e?0:e.length;return t?us(e,1,t):[]}function jo(e,t,n){return e&&e.length?(t=n||t===J?1:Cl(t),us(e,0,t<0?0:t)):[]}function zo(e,t,n){var i=null==e?0:e.length;return i?(t=n||t===J?1:Cl(t),t=i-t,us(e,t<0?0:t,i)):[]}function Ho(e,t){return e&&e.length?xs(e,ka(t,3),!1,!0):[]}function qo(e,t){return e&&e.length?xs(e,ka(t,3)):[]}function Wo(e){return e&&e.length?bs(e):[]}function Go(e,t){return e&&e.length?bs(e,ka(t,2)):[]}function Yo(e,t){return t="function"==typeof t?t:J,e&&e.length?bs(e,J,t):[]}function Ko(e){if(!e||!e.length)return[];var t=0;return e=r(e,function(e){if(Xr(e))return t=Yd(e.length,t),!0}),_(t,function(t){return d(e,$(t))})}function Xo(e,t){if(!e||!e.length)return[];var i=Ko(e);return null==t?i:d(i,function(e){return n(t,J,e)})}function Zo(e,t){return Ss(e||[],t||[],Mn)}function Qo(e,t){return Ss(e||[],t||[],cs)}function Jo(e){var t=S(e);return t.__chain__=!0,t}function er(e,t){return t(e),e}function tr(e,t){return t(e)}function nr(){return Jo(this)}function ir(){return new X(this.value(),this.__chain__)}function sr(){this.__values__===J&&(this.__values__=$l(this.value()));var e=this.__index__>=this.__values__.length,t=e?J:this.__values__[this.__index__++];return{done:e,value:t}}function ar(){return this}function or(e){for(var t,n=this;n instanceof W;){var i=so(n);i.__index__=0,i.__values__=J,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t}function rr(){var e=this.__wrapped__;if(e instanceof Z){var t=e;return this.__actions__.length&&(t=new Z(this)),t=t.reverse(),t.__actions__.push({func:tr,args:[Po],thisArg:J}),new X(t,this.__chain__)}return this.thru(Po)}function lr(){return ks(this.__wrapped__,this.__actions__)}function cr(e,t,n){var i=yp(e)?o:Zn;return n&&La(e,t,n)&&(t=J),i(e,ka(t,3))}function dr(e,t){var n=yp(e)?r:ii;return n(e,ka(t,3))}function ur(e,t){return si(vr(e,t),1)}function pr(e,t){return si(vr(e,t),Ie)}function hr(e,t,n){return n=n===J?1:Cl(n),si(vr(e,t),n)}function fr(e,t){var n=yp(e)?s:vu;return n(e,ka(t,3))}function gr(e,t){var n=yp(e)?a:bu;return n(e,ka(t,3))}function mr(e,t,n,i){e=Kr(e)?e:nc(e),n=n&&!i?Cl(n):0;var s=e.length;return n<0&&(n=Yd(s+n,0)),bl(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&y(e,t,n)>-1}function vr(e,t){var n=yp(e)?d:qi;return n(e,ka(t,3))}function br(e,t,n,i){return null==e?[]:(yp(t)||(t=null==t?[]:[t]),n=i?J:n,yp(n)||(n=null==n?[]:[n]),Zi(e,t,n))}function yr(e,t,n){var i=yp(e)?p:C,s=arguments.length<3;return i(e,ka(t,4),n,s,vu)}function wr(e,t,n){var i=yp(e)?h:C,s=arguments.length<3;return i(e,ka(t,4),n,s,bu)}function xr(e,t){var n=yp(e)?r:ii;return n(e,Rr(ka(t,3)))}function kr(e){var t=yp(e)?An:rs;return t(e)}function $r(e,t,n){t=(n?La(e,t,n):t===J)?1:Cl(t);var i=yp(e)?_n:ls;return i(e,t)}function Sr(e){var t=yp(e)?In:ds;return t(e)}function Cr(e){if(null==e)return 0;if(Kr(e))return bl(e)?Y(e):e.length;var t=Iu(e);return t==We||t==Je?e.size:ji(e).length}function Tr(e,t,n){var i=yp(e)?f:ps;return n&&La(e,t,n)&&(t=J),i(e,ka(t,3))}function Ar(e,t){if("function"!=typeof t)throw new hd(ie);return e=Cl(e),function(){if(--e<1)return t.apply(this,arguments)}}function _r(e,t,n){return t=n?J:t,t=e&&null==t?e.length:t,ha(e,ye,J,J,J,J,t)}function Ir(e,t){var n;if("function"!=typeof t)throw new hd(ie);return e=Cl(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=J),n}}function Dr(e,t,n){t=n?J:t;var i=ha(e,ge,J,J,J,J,J,t);return i.placeholder=Dr.placeholder,i}function Pr(e,t,n){t=n?J:t;var i=ha(e,me,J,J,J,J,J,t);return i.placeholder=Pr.placeholder,i}function Mr(e,t,n){function i(t){var n=p,i=h;return p=h=J,b=t,g=e.apply(i,n)}function s(e){return b=e,m=Mu(r,t),y?i(e):g}function a(e){var n=e-v,i=e-b,s=t-n;return w?Kd(s,f-i):s}function o(e){var n=e-v,i=e-b;return v===J||n>=t||n<0||w&&i>=f}function r(){var e=rp();return o(e)?l(e):void(m=Mu(r,a(e)))}function l(e){return m=J,x&&p?i(e):(p=h=J,g)}function c(){m!==J&&Su(m),b=0,p=v=h=m=J}function d(){return m===J?g:l(rp())}function u(){var e=rp(),n=o(e);if(p=arguments,h=this,v=e,n){if(m===J)return s(v);if(w)return m=Mu(r,t),i(v)}return m===J&&(m=Mu(r,t)),g}var p,h,f,g,m,v,b=0,y=!1,w=!1,x=!0;if("function"!=typeof e)throw new hd(ie);return t=Al(t)||0,rl(n)&&(y=!!n.leading,w="maxWait"in n,f=w?Yd(Al(n.maxWait)||0,t):f,x="trailing"in n?!!n.trailing:x),u.cancel=c,u.flush=d,u}function Er(e){return ha(e,xe)}function Or(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new hd(ie);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],a=n.cache;if(a.has(s))return a.get(s);var o=e.apply(this,i);return n.cache=a.set(s,o)||a,o};return n.cache=new(Or.Cache||un),n}function Rr(e){if("function"!=typeof e)throw new hd(ie);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Lr(e){return Ir(2,e)}function Nr(e,t){if("function"!=typeof e)throw new hd(ie);return t=t===J?t:Cl(t),os(e,t)}function Fr(e,t){if("function"!=typeof e)throw new hd(ie);return t=t===J?0:Yd(Cl(t),0),os(function(i){var s=i[t],a=_s(i,0,t);return s&&u(a,s),n(e,this,a)})}function Br(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new hd(ie);return rl(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),Mr(e,t,{leading:i,maxWait:t,trailing:s})}function Ur(e){return _r(e,1)}function Vr(e,t){return hp(Ts(t),e)}function jr(){if(!arguments.length)return[];var e=arguments[0];return yp(e)?e:[e]}function zr(e){return jn(e,ce)}function Hr(e,t){return t="function"==typeof t?t:J,jn(e,ce,t)}function qr(e){return jn(e,re|ce)}function Wr(e,t){return t="function"==typeof t?t:J,jn(e,re|ce,t)}function Gr(e,t){return null==t||Yn(e,t,zl(t))}function Yr(e,t){return e===t||e!==e&&t!==t}function Kr(e){return null!=e&&ol(e.length)&&!sl(e)}function Xr(e){return ll(e)&&Kr(e)}function Zr(e){return e===!0||e===!1||ll(e)&&ki(e)==Ue}function Qr(e){return ll(e)&&1===e.nodeType&&!ml(e)}function Jr(e){if(null==e)return!0;if(Kr(e)&&(yp(e)||"string"==typeof e||"function"==typeof e.splice||xp(e)||Tp(e)||bp(e)))return!e.length;var t=Iu(e);if(t==We||t==Je)return!e.size;if(Va(e))return!ji(e).length;for(var n in e)if(yd.call(e,n))return!1;return!0}function el(e,t){return Ei(e,t)}function tl(e,t,n){n="function"==typeof n?n:J;var i=n?n(e,t):J;return i===J?Ei(e,t,J,n):!!i}function nl(e){if(!ll(e))return!1;var t=ki(e);return t==ze||t==je||"string"==typeof e.message&&"string"==typeof e.name&&!ml(e)}function il(e){return"number"==typeof e&&qd(e)}function sl(e){if(!rl(e))return!1;var t=ki(e);return t==He||t==qe||t==Be||t==Ze}function al(e){return"number"==typeof e&&e==Cl(e)}function ol(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=De}function rl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ll(e){return null!=e&&"object"==typeof e}function cl(e,t){return e===t||Li(e,t,Sa(t))}function dl(e,t,n){return n="function"==typeof n?n:J,Li(e,t,Sa(t),n)}function ul(e){return gl(e)&&e!=+e}function pl(e){if(Du(e))throw new rd(ne);return Ni(e)}function hl(e){return null===e}function fl(e){return null==e}function gl(e){return"number"==typeof e||ll(e)&&ki(e)==Ge}function ml(e){if(!ll(e)||ki(e)!=Ke)return!1;var t=Dd(e);if(null===t)return!0;var n=yd.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&bd.call(n)==$d}function vl(e){return al(e)&&e>=-De&&e<=De}function bl(e){return"string"==typeof e||!yp(e)&&ll(e)&&ki(e)==et}function yl(e){return"symbol"==typeof e||ll(e)&&ki(e)==tt}function wl(e){return e===J}function xl(e){return ll(e)&&Iu(e)==it}function kl(e){return ll(e)&&ki(e)==st}function $l(e){if(!e)return[];if(Kr(e))return bl(e)?K(e):Vs(e);if(Rd&&e[Rd])return U(e[Rd]());var t=Iu(e),n=t==We?V:t==Je?H:nc;return n(e)}function Sl(e){if(!e)return 0===e?e:0;if(e=Al(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*Pe}return e===e?e:0}function Cl(e){var t=Sl(e),n=t%1;return t===t?n?t-n:t:0}function Tl(e){return e?Vn(Cl(e),0,Ee):0}function Al(e){if("number"==typeof e)return e;if(yl(e))return Me;if(rl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Mt,"");var n=zt.test(e);return n||qt.test(e)?Jn(e.slice(2),n?2:8):jt.test(e)?Me:+e}function _l(e){return js(e,Hl(e))}function Il(e){return Vn(Cl(e),-De,De)}function Dl(e){return null==e?"":vs(e)}function Pl(e,t){var n=mu(e);return null==t?n:Rn(n,t)}function Ml(e,t){return v(e,ka(t,3),oi)}function El(e,t){return v(e,ka(t,3),ri)}function Ol(e,t){return null==e?e:yu(e,ka(t,3),Hl)}function Rl(e,t){return null==e?e:wu(e,ka(t,3),Hl)}function Ll(e,t){return e&&oi(e,ka(t,3))}function Nl(e,t){return e&&ri(e,ka(t,3))}function Fl(e){return null==e?[]:fi(e,zl(e))}function Bl(e){return null==e?[]:fi(e,Hl(e))}function Ul(e,t,n){var i=null==e?J:bi(e,t);return i===J?n:i}function Vl(e,t){return null!=e&&Ia(e,t,Si)}function jl(e,t){return null!=e&&Ia(e,t,Ci)}function zl(e){return Kr(e)?Tn(e):ji(e)}function Hl(e){return Kr(e)?Tn(e,!0):zi(e)}function ql(e,t){var n={};return t=ka(t,3),oi(e,function(e,i,s){Nn(n,t(e,i,s),e)}),n}function Wl(e,t){var n={};return t=ka(t,3),oi(e,function(e,i,s){Nn(n,i,t(e,i,s))}),n}function Gl(e,t){return Yl(e,Rr(ka(t)))}function Yl(e,t){if(null==e)return{};var n=d(ya(e),function(e){return[e]});return t=ka(t),Ji(e,n,function(e,n){return t(e,n[0])})}function Kl(e,t,n){t=As(t,e);var i=-1,s=t.length;for(s||(s=1,e=J);++i<s;){var a=null==e?J:e[to(t[i])];a===J&&(i=s,a=n),e=sl(a)?a.call(e):a}return e}function Xl(e,t,n){return null==e?e:cs(e,t,n)}function Zl(e,t,n,i){return i="function"==typeof i?i:J,null==e?e:cs(e,t,n,i)}function Ql(e,t,n){var i=yp(e),a=i||xp(e)||Tp(e);if(t=ka(t,4),null==n){var o=e&&e.constructor;n=a?i?new o:[]:rl(e)&&sl(o)?mu(Dd(e)):{}}return(a?s:oi)(e,function(e,i,s){return t(n,e,i,s)}),n}function Jl(e,t){return null==e||ys(e,t)}function ec(e,t,n){return null==e?e:ws(e,t,Ts(n))}function tc(e,t,n,i){return i="function"==typeof i?i:J,null==e?e:ws(e,t,Ts(n),i)}function nc(e){return null==e?[]:P(e,zl(e))}function ic(e){return null==e?[]:P(e,Hl(e))}function sc(e,t,n){return n===J&&(n=t,t=J),n!==J&&(n=Al(n),n=n===n?n:0),t!==J&&(t=Al(t),t=t===t?t:0),Vn(Al(e),t,n)}function ac(e,t,n){return t=Sl(t),n===J?(n=t,t=0):n=Sl(n),e=Al(e),Ti(e,t,n)}function oc(e,t,n){if(n&&"boolean"!=typeof n&&La(e,t,n)&&(t=n=J),n===J&&("boolean"==typeof t?(n=t,t=J):"boolean"==typeof e&&(n=e,e=J)),e===J&&t===J?(e=0,t=1):(e=Sl(e),t===J?(t=e,e=0):t=Sl(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var s=Qd();return Kd(e+s*(t-e+Qn("1e-"+((s+"").length-1))),t)}return is(e,t)}function rc(e){return Qp(Dl(e).toLowerCase())}function lc(e){return e=Dl(e),e&&e.replace(Gt,gi).replace(Bn,"")}function cc(e,t,n){e=Dl(e),t=vs(t);var i=e.length;n=n===J?i:Vn(Cl(n),0,i);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function dc(e){return e=Dl(e),e&&kt.test(e)?e.replace(wt,mi):e}function uc(e){return e=Dl(e),e&&Pt.test(e)?e.replace(Dt,"\\$&"):e}function pc(e,t,n){e=Dl(e),t=Cl(t);var i=t?Y(e):0;if(!t||i>=t)return e;var s=(t-i)/2;return oa(jd(s),n)+e+oa(Vd(s),n)}function hc(e,t,n){e=Dl(e),t=Cl(t);var i=t?Y(e):0;return t&&i<t?e+oa(t-i,n):e}function fc(e,t,n){e=Dl(e),t=Cl(t);var i=t?Y(e):0;return t&&i<t?oa(t-i,n)+e:e}function gc(e,t,n){return n||null==t?t=0:t&&(t=+t),Zd(Dl(e).replace(Et,""),t||0)}function mc(e,t,n){return t=(n?La(e,t,n):t===J)?1:Cl(t),as(Dl(e),t)}function vc(){var e=arguments,t=Dl(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function bc(e,t,n){return n&&"number"!=typeof n&&La(e,t,n)&&(t=n=J),(n=n===J?Ee:n>>>0)?(e=Dl(e),e&&("string"==typeof t||null!=t&&!Sp(t))&&(t=vs(t),!t&&F(e))?_s(K(e),0,n):e.split(t,n)):[]}function yc(e,t,n){return e=Dl(e),n=Vn(Cl(n),0,e.length),t=vs(t),e.slice(n,n+t.length)==t}function wc(e,t,n){var i=S.templateSettings;n&&La(e,t,n)&&(t=J),e=Dl(e),t=Pp({},t,i,Dn);var s,a,o=Pp({},t.imports,i.imports,Dn),r=zl(o),l=P(o,r),c=0,d=t.interpolate||Yt,u="__p += '",p=ud((t.escape||Yt).source+"|"+d.source+"|"+(d===Ct?Ut:Yt).source+"|"+(t.evaluate||Yt).source+"|$","g"),h="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++qn+"]")+"\n";e.replace(p,function(t,n,i,o,r,l){return i||(i=o),u+=e.slice(c,l).replace(Kt,L),n&&(s=!0,u+="' +\n__e("+n+") +\n'"),r&&(a=!0,u+="';\n"+r+";\n__p += '"),i&&(u+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),u+="';\n";var f=t.variable;f||(u="with (obj) {\n"+u+"\n}\n"),u=(a?u.replace(mt,""):u).replace(vt,"$1").replace(bt,"$1;"),
u="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}";var g=Jp(function(){return ld(r,h+"return "+u).apply(J,l)});if(g.source=u,nl(g))throw g;return g}function xc(e){return Dl(e).toLowerCase()}function kc(e){return Dl(e).toUpperCase()}function $c(e,t,n){if(e=Dl(e),e&&(n||t===J))return e.replace(Mt,"");if(!e||!(t=vs(t)))return e;var i=K(e),s=K(t),a=E(i,s),o=O(i,s)+1;return _s(i,a,o).join("")}function Sc(e,t,n){if(e=Dl(e),e&&(n||t===J))return e.replace(Ot,"");if(!e||!(t=vs(t)))return e;var i=K(e),s=O(i,K(t))+1;return _s(i,0,s).join("")}function Cc(e,t,n){if(e=Dl(e),e&&(n||t===J))return e.replace(Et,"");if(!e||!(t=vs(t)))return e;var i=K(e),s=E(i,K(t));return _s(i,s).join("")}function Tc(e,t){var n=ke,i=$e;if(rl(t)){var s="separator"in t?t.separator:s;n="length"in t?Cl(t.length):n,i="omission"in t?vs(t.omission):i}e=Dl(e);var a=e.length;if(F(e)){var o=K(e);a=o.length}if(n>=a)return e;var r=n-Y(i);if(r<1)return i;var l=o?_s(o,0,r).join(""):e.slice(0,r);if(s===J)return l+i;if(o&&(r+=l.length-r),Sp(s)){if(e.slice(r).search(s)){var c,d=l;for(s.global||(s=ud(s.source,Dl(Vt.exec(s))+"g")),s.lastIndex=0;c=s.exec(d);)var u=c.index;l=l.slice(0,u===J?r:u)}}else if(e.indexOf(vs(s),r)!=r){var p=l.lastIndexOf(s);p>-1&&(l=l.slice(0,p))}return l+i}function Ac(e){return e=Dl(e),e&&xt.test(e)?e.replace(yt,vi):e}function _c(e,t,n){return e=Dl(e),t=n?J:t,t===J?B(e)?Q(e):m(e):e.match(t)||[]}function Ic(e){var t=null==e?0:e.length,i=ka();return e=t?d(e,function(e){if("function"!=typeof e[1])throw new hd(ie);return[i(e[0]),e[1]]}):[],os(function(i){for(var s=-1;++s<t;){var a=e[s];if(n(a[0],this,i))return n(a[1],this,i)}})}function Dc(e){return zn(jn(e,re))}function Pc(e){return function(){return e}}function Mc(e,t){return null==e||e!==e?t:e}function Ec(e){return e}function Oc(e){return Vi("function"==typeof e?e:jn(e,re))}function Rc(e){return Wi(jn(e,re))}function Lc(e,t){return Gi(e,jn(t,re))}function Nc(e,t,n){var i=zl(t),a=fi(t,i);null!=n||rl(t)&&(a.length||!i.length)||(n=t,t=e,e=this,a=fi(t,zl(t)));var o=!(rl(n)&&"chain"in n&&!n.chain),r=sl(e);return s(a,function(n){var i=t[n];e[n]=i,r&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),s=n.__actions__=Vs(this.__actions__);return s.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,u([this.value()],arguments))})}),e}function Fc(){return ni._===this&&(ni._=Sd),this}function Bc(){}function Uc(e){return e=Cl(e),os(function(t){return Xi(t,e)})}function Vc(e){return Na(e)?$(to(e)):es(e)}function jc(e){return function(t){return null==e?J:bi(e,t)}}function zc(){return[]}function Hc(){return!1}function qc(){return{}}function Wc(){return""}function Gc(){return!0}function Yc(e,t){if(e=Cl(e),e<1||e>De)return[];var n=Ee,i=Kd(e,Ee);t=ka(t),e-=Ee;for(var s=_(i,t);++n<e;)t(n);return s}function Kc(e){return yp(e)?d(e,to):yl(e)?[e]:Vs(Ou(Dl(e)))}function Xc(e){var t=++wd;return Dl(e)+t}function Zc(e){return e&&e.length?ei(e,Ec,$i):J}function Qc(e,t){return e&&e.length?ei(e,ka(t,2),$i):J}function Jc(e){return k(e,Ec)}function ed(e,t){return k(e,ka(t,2))}function td(e){return e&&e.length?ei(e,Ec,Hi):J}function nd(e,t){return e&&e.length?ei(e,ka(t,2),Hi):J}function id(e){return e&&e.length?A(e,Ec):0}function sd(e,t){return e&&e.length?A(e,ka(t,2)):0}g=null==g?ni:yi.defaults(ni.Object(),g,yi.pick(ni,Hn));var ad=g.Array,od=g.Date,rd=g.Error,ld=g.Function,cd=g.Math,dd=g.Object,ud=g.RegExp,pd=g.String,hd=g.TypeError,fd=ad.prototype,gd=ld.prototype,md=dd.prototype,vd=g["__core-js_shared__"],bd=gd.toString,yd=md.hasOwnProperty,wd=0,xd=function(){var e=/[^.]+$/.exec(vd&&vd.keys&&vd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),kd=md.toString,$d=bd.call(dd),Sd=ni._,Cd=ud("^"+bd.call(yd).replace(Dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Td=ai?g.Buffer:J,Ad=g.Symbol,_d=g.Uint8Array,Id=Td?Td.allocUnsafe:J,Dd=j(dd.getPrototypeOf,dd),Pd=dd.create,Md=md.propertyIsEnumerable,Ed=fd.splice,Od=Ad?Ad.isConcatSpreadable:J,Rd=Ad?Ad.iterator:J,Ld=Ad?Ad.toStringTag:J,Nd=function(){try{var e=Ca(dd,"defineProperty");return e({},"",{}),e}catch(t){}}(),Fd=g.clearTimeout!==ni.clearTimeout&&g.clearTimeout,Bd=od&&od.now!==ni.Date.now&&od.now,Ud=g.setTimeout!==ni.setTimeout&&g.setTimeout,Vd=cd.ceil,jd=cd.floor,zd=dd.getOwnPropertySymbols,Hd=Td?Td.isBuffer:J,qd=g.isFinite,Wd=fd.join,Gd=j(dd.keys,dd),Yd=cd.max,Kd=cd.min,Xd=od.now,Zd=g.parseInt,Qd=cd.random,Jd=fd.reverse,eu=Ca(g,"DataView"),tu=Ca(g,"Map"),nu=Ca(g,"Promise"),iu=Ca(g,"Set"),su=Ca(g,"WeakMap"),au=Ca(dd,"create"),ou=su&&new su,ru={},lu=no(eu),cu=no(tu),du=no(nu),uu=no(iu),pu=no(su),hu=Ad?Ad.prototype:J,fu=hu?hu.valueOf:J,gu=hu?hu.toString:J,mu=function(){function e(){}return function(t){if(!rl(t))return{};if(Pd)return Pd(t);e.prototype=t;var n=new e;return e.prototype=J,n}}();S.templateSettings={escape:$t,evaluate:St,interpolate:Ct,variable:"",imports:{_:S}},S.prototype=W.prototype,S.prototype.constructor=S,X.prototype=mu(W.prototype),X.prototype.constructor=X,Z.prototype=mu(W.prototype),Z.prototype.constructor=Z,Qt.prototype.clear=Jt,Qt.prototype["delete"]=en,Qt.prototype.get=tn,Qt.prototype.has=nn,Qt.prototype.set=sn,an.prototype.clear=on,an.prototype["delete"]=rn,an.prototype.get=ln,an.prototype.has=cn,an.prototype.set=dn,un.prototype.clear=pn,un.prototype["delete"]=hn,un.prototype.get=fn,un.prototype.has=gn,un.prototype.set=mn,vn.prototype.add=vn.prototype.push=bn,vn.prototype.has=yn,wn.prototype.clear=xn,wn.prototype["delete"]=kn,wn.prototype.get=$n,wn.prototype.has=Sn,wn.prototype.set=Cn;var vu=Gs(oi),bu=Gs(ri,!0),yu=Ys(),wu=Ys(!0),xu=ou?function(e,t){return ou.set(e,t),e}:Ec,ku=Nd?function(e,t){return Nd(e,"toString",{configurable:!0,enumerable:!1,value:Pc(t),writable:!0})}:Ec,$u=os,Su=Fd||function(e){return ni.clearTimeout(e)},Cu=iu&&1/H(new iu([,-0]))[1]==Ie?function(e){return new iu(e)}:Bc,Tu=ou?function(e){return ou.get(e)}:Bc,Au=zd?j(zd,dd):zc,_u=zd?function(e){for(var t=[];e;)u(t,Au(e)),e=Dd(e);return t}:zc,Iu=ki;(eu&&Iu(new eu(new ArrayBuffer(1)))!=ot||tu&&Iu(new tu)!=We||nu&&Iu(nu.resolve())!=Xe||iu&&Iu(new iu)!=Je||su&&Iu(new su)!=it)&&(Iu=function(e){var t=ki(e),n=t==Ke?e.constructor:J,i=n?no(n):"";if(i)switch(i){case lu:return ot;case cu:return We;case du:return Xe;case uu:return Je;case pu:return it}return t});var Du=vd?sl:Hc,Pu=Ja(xu),Mu=Ud||function(e,t){return ni.setTimeout(e,t)},Eu=Ja(ku),Ou=Ha(function(e){var t=[];return _t.test(e)&&t.push(""),e.replace(It,function(e,n,i,s){t.push(i?s.replace(Bt,"$1"):n||e)}),t}),Ru=os(function(e,t){return Xr(e)?Xn(e,si(t,1,Xr,!0)):[]}),Lu=os(function(e,t){var n=So(t);return Xr(n)&&(n=J),Xr(e)?Xn(e,si(t,1,Xr,!0),ka(n,2)):[]}),Nu=os(function(e,t){var n=So(t);return Xr(n)&&(n=J),Xr(e)?Xn(e,si(t,1,Xr,!0),J,n):[]}),Fu=os(function(e){var t=d(e,Cs);return t.length&&t[0]===e[0]?Ai(t):[]}),Bu=os(function(e){var t=So(e),n=d(e,Cs);return t===So(n)?t=J:n.pop(),n.length&&n[0]===e[0]?Ai(n,ka(t,2)):[]}),Uu=os(function(e){var t=So(e),n=d(e,Cs);return t="function"==typeof t?t:J,t&&n.pop(),n.length&&n[0]===e[0]?Ai(n,J,t):[]}),Vu=os(Ao),ju=va(function(e,t){var n=null==e?0:e.length,i=Un(e,t);return ns(e,d(t,function(e){return Ra(e,n)?+e:e}).sort(Ns)),i}),zu=os(function(e){return bs(si(e,1,Xr,!0))}),Hu=os(function(e){var t=So(e);return Xr(t)&&(t=J),bs(si(e,1,Xr,!0),ka(t,2))}),qu=os(function(e){var t=So(e);return t="function"==typeof t?t:J,bs(si(e,1,Xr,!0),J,t)}),Wu=os(function(e,t){return Xr(e)?Xn(e,t):[]}),Gu=os(function(e){return $s(r(e,Xr))}),Yu=os(function(e){var t=So(e);return Xr(t)&&(t=J),$s(r(e,Xr),ka(t,2))}),Ku=os(function(e){var t=So(e);return t="function"==typeof t?t:J,$s(r(e,Xr),J,t)}),Xu=os(Ko),Zu=os(function(e){var t=e.length,n=t>1?e[t-1]:J;return n="function"==typeof n?(e.pop(),n):J,Xo(e,n)}),Qu=va(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(t){return Un(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Z&&Ra(n)?(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:tr,args:[s],thisArg:J}),new X(i,this.__chain__).thru(function(e){return t&&!e.length&&e.push(J),e})):this.thru(s)}),Ju=qs(function(e,t,n){yd.call(e,n)?++e[n]:Nn(e,n,1)}),ep=ea(fo),tp=ea(go),np=qs(function(e,t,n){yd.call(e,n)?e[n].push(t):Nn(e,n,[t])}),ip=os(function(e,t,i){var s=-1,a="function"==typeof t,o=Kr(e)?ad(e.length):[];return vu(e,function(e){o[++s]=a?n(t,e,i):Ii(e,t,i)}),o}),sp=qs(function(e,t,n){Nn(e,n,t)}),ap=qs(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),op=os(function(e,t){if(null==e)return[];var n=t.length;return n>1&&La(e,t[0],t[1])?t=[]:n>2&&La(t[0],t[1],t[2])&&(t=[t[0]]),Zi(e,si(t,1),[])}),rp=Bd||function(){return ni.Date.now()},lp=os(function(e,t,n){var i=pe;if(n.length){var s=z(n,xa(lp));i|=ve}return ha(e,i,t,n,s)}),cp=os(function(e,t,n){var i=pe|he;if(n.length){var s=z(n,xa(cp));i|=ve}return ha(t,i,e,n,s)}),dp=os(function(e,t){return Kn(e,1,t)}),up=os(function(e,t,n){return Kn(e,Al(t)||0,n)});Or.Cache=un;var pp=$u(function(e,t){t=1==t.length&&yp(t[0])?d(t[0],D(ka())):d(si(t,1),D(ka()));var i=t.length;return os(function(s){for(var a=-1,o=Kd(s.length,i);++a<o;)s[a]=t[a].call(this,s[a]);return n(e,this,s)})}),hp=os(function(e,t){var n=z(t,xa(hp));return ha(e,ve,J,t,n)}),fp=os(function(e,t){var n=z(t,xa(fp));return ha(e,be,J,t,n)}),gp=va(function(e,t){return ha(e,we,J,J,J,t)}),mp=ca($i),vp=ca(function(e,t){return e>=t}),bp=Di(function(){return arguments}())?Di:function(e){return ll(e)&&yd.call(e,"callee")&&!Md.call(e,"callee")},yp=ad.isArray,wp=li?D(li):Pi,xp=Hd||Hc,kp=ci?D(ci):Mi,$p=di?D(di):Ri,Sp=ui?D(ui):Fi,Cp=pi?D(pi):Bi,Tp=hi?D(hi):Ui,Ap=ca(Hi),_p=ca(function(e,t){return e<=t}),Ip=Ws(function(e,t){if(Va(t)||Kr(t))return void js(t,zl(t),e);for(var n in t)yd.call(t,n)&&Mn(e,n,t[n])}),Dp=Ws(function(e,t){js(t,Hl(t),e)}),Pp=Ws(function(e,t,n,i){js(t,Hl(t),e,i)}),Mp=Ws(function(e,t,n,i){js(t,zl(t),e,i)}),Ep=va(Un),Op=os(function(e){return e.push(J,Dn),n(Pp,J,e)}),Rp=os(function(e){return e.push(J,Wa),n(Up,J,e)}),Lp=ia(function(e,t,n){e[t]=n},Pc(Ec)),Np=ia(function(e,t,n){yd.call(e,t)?e[t].push(n):e[t]=[n]},ka),Fp=os(Ii),Bp=Ws(function(e,t,n){Yi(e,t,n)}),Up=Ws(function(e,t,n,i){Yi(e,t,n,i)}),Vp=va(function(e,t){var n={};if(null==e)return n;var i=!1;t=d(t,function(t){return t=As(t,e),i||(i=t.length>1),t}),js(e,ya(e),n),i&&(n=jn(n,re|le|ce));for(var s=t.length;s--;)ys(n,t[s]);return n}),jp=va(function(e,t){return null==e?{}:Qi(e,t)}),zp=pa(zl),Hp=pa(Hl),qp=Zs(function(e,t,n){return t=t.toLowerCase(),e+(n?rc(t):t)}),Wp=Zs(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gp=Zs(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Yp=Xs("toLowerCase"),Kp=Zs(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xp=Zs(function(e,t,n){return e+(n?" ":"")+Qp(t)}),Zp=Zs(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Qp=Xs("toUpperCase"),Jp=os(function(e,t){try{return n(e,J,t)}catch(i){return nl(i)?i:new rd(i)}}),eh=va(function(e,t){return s(t,function(t){t=to(t),Nn(e,t,lp(e[t],e))}),e}),th=ta(),nh=ta(!0),ih=os(function(e,t){return function(n){return Ii(n,e,t)}}),sh=os(function(e,t){return function(n){return Ii(e,n,t)}}),ah=aa(d),oh=aa(o),rh=aa(f),lh=la(),ch=la(!0),dh=sa(function(e,t){return e+t},0),uh=ua("ceil"),ph=sa(function(e,t){return e/t},1),hh=ua("floor"),fh=sa(function(e,t){return e*t},1),gh=ua("round"),mh=sa(function(e,t){return e-t},0);return S.after=Ar,S.ary=_r,S.assign=Ip,S.assignIn=Dp,S.assignInWith=Pp,S.assignWith=Mp,S.at=Ep,S.before=Ir,S.bind=lp,S.bindAll=eh,S.bindKey=cp,S.castArray=jr,S.chain=Jo,S.chunk=ao,S.compact=oo,S.concat=ro,S.cond=Ic,S.conforms=Dc,S.constant=Pc,S.countBy=Ju,S.create=Pl,S.curry=Dr,S.curryRight=Pr,S.debounce=Mr,S.defaults=Op,S.defaultsDeep=Rp,S.defer=dp,S.delay=up,S.difference=Ru,S.differenceBy=Lu,S.differenceWith=Nu,S.drop=lo,S.dropRight=co,S.dropRightWhile=uo,S.dropWhile=po,S.fill=ho,S.filter=dr,S.flatMap=ur,S.flatMapDeep=pr,S.flatMapDepth=hr,S.flatten=mo,S.flattenDeep=vo,S.flattenDepth=bo,S.flip=Er,S.flow=th,S.flowRight=nh,S.fromPairs=yo,S.functions=Fl,S.functionsIn=Bl,S.groupBy=np,S.initial=ko,S.intersection=Fu,S.intersectionBy=Bu,S.intersectionWith=Uu,S.invert=Lp,S.invertBy=Np,S.invokeMap=ip,S.iteratee=Oc,S.keyBy=sp,S.keys=zl,S.keysIn=Hl,S.map=vr,S.mapKeys=ql,S.mapValues=Wl,S.matches=Rc,S.matchesProperty=Lc,S.memoize=Or,S.merge=Bp,S.mergeWith=Up,S.method=ih,S.methodOf=sh,S.mixin=Nc,S.negate=Rr,S.nthArg=Uc,S.omit=Vp,S.omitBy=Gl,S.once=Lr,S.orderBy=br,S.over=ah,S.overArgs=pp,S.overEvery=oh,S.overSome=rh,S.partial=hp,S.partialRight=fp,S.partition=ap,S.pick=jp,S.pickBy=Yl,S.property=Vc,S.propertyOf=jc,S.pull=Vu,S.pullAll=Ao,S.pullAllBy=_o,S.pullAllWith=Io,S.pullAt=ju,S.range=lh,S.rangeRight=ch,S.rearg=gp,S.reject=xr,S.remove=Do,S.rest=Nr,S.reverse=Po,S.sampleSize=$r,S.set=Xl,S.setWith=Zl,S.shuffle=Sr,S.slice=Mo,S.sortBy=op,S.sortedUniq=Bo,S.sortedUniqBy=Uo,S.split=bc,S.spread=Fr,S.tail=Vo,S.take=jo,S.takeRight=zo,S.takeRightWhile=Ho,S.takeWhile=qo,S.tap=er,S.throttle=Br,S.thru=tr,S.toArray=$l,S.toPairs=zp,S.toPairsIn=Hp,S.toPath=Kc,S.toPlainObject=_l,S.transform=Ql,S.unary=Ur,S.union=zu,S.unionBy=Hu,S.unionWith=qu,S.uniq=Wo,S.uniqBy=Go,S.uniqWith=Yo,S.unset=Jl,S.unzip=Ko,S.unzipWith=Xo,S.update=ec,S.updateWith=tc,S.values=nc,S.valuesIn=ic,S.without=Wu,S.words=_c,S.wrap=Vr,S.xor=Gu,S.xorBy=Yu,S.xorWith=Ku,S.zip=Xu,S.zipObject=Zo,S.zipObjectDeep=Qo,S.zipWith=Zu,S.entries=zp,S.entriesIn=Hp,S.extend=Dp,S.extendWith=Pp,Nc(S,S),S.add=dh,S.attempt=Jp,S.camelCase=qp,S.capitalize=rc,S.ceil=uh,S.clamp=sc,S.clone=zr,S.cloneDeep=qr,S.cloneDeepWith=Wr,S.cloneWith=Hr,S.conformsTo=Gr,S.deburr=lc,S.defaultTo=Mc,S.divide=ph,S.endsWith=cc,S.eq=Yr,S.escape=dc,S.escapeRegExp=uc,S.every=cr,S.find=ep,S.findIndex=fo,S.findKey=Ml,S.findLast=tp,S.findLastIndex=go,S.findLastKey=El,S.floor=hh,S.forEach=fr,S.forEachRight=gr,S.forIn=Ol,S.forInRight=Rl,S.forOwn=Ll,S.forOwnRight=Nl,S.get=Ul,S.gt=mp,S.gte=vp,S.has=Vl,S.hasIn=jl,S.head=wo,S.identity=Ec,S.includes=mr,S.indexOf=xo,S.inRange=ac,S.invoke=Fp,S.isArguments=bp,S.isArray=yp,S.isArrayBuffer=wp,S.isArrayLike=Kr,S.isArrayLikeObject=Xr,S.isBoolean=Zr,S.isBuffer=xp,S.isDate=kp,S.isElement=Qr,S.isEmpty=Jr,S.isEqual=el,S.isEqualWith=tl,S.isError=nl,S.isFinite=il,S.isFunction=sl,S.isInteger=al,S.isLength=ol,S.isMap=$p,S.isMatch=cl,S.isMatchWith=dl,S.isNaN=ul,S.isNative=pl,S.isNil=fl,S.isNull=hl,S.isNumber=gl,S.isObject=rl,S.isObjectLike=ll,S.isPlainObject=ml,S.isRegExp=Sp,S.isSafeInteger=vl,S.isSet=Cp,S.isString=bl,S.isSymbol=yl,S.isTypedArray=Tp,S.isUndefined=wl,S.isWeakMap=xl,S.isWeakSet=kl,S.join=$o,S.kebabCase=Wp,S.last=So,S.lastIndexOf=Co,S.lowerCase=Gp,S.lowerFirst=Yp,S.lt=Ap,S.lte=_p,S.max=Zc,S.maxBy=Qc,S.mean=Jc,S.meanBy=ed,S.min=td,S.minBy=nd,S.stubArray=zc,S.stubFalse=Hc,S.stubObject=qc,S.stubString=Wc,S.stubTrue=Gc,S.multiply=fh,S.nth=To,S.noConflict=Fc,S.noop=Bc,S.now=rp,S.pad=pc,S.padEnd=hc,S.padStart=fc,S.parseInt=gc,S.random=oc,S.reduce=yr,S.reduceRight=wr,S.repeat=mc,S.replace=vc,S.result=Kl,S.round=gh,S.runInContext=wi,S.sample=kr,S.size=Cr,S.snakeCase=Kp,S.some=Tr,S.sortedIndex=Eo,S.sortedIndexBy=Oo,S.sortedIndexOf=Ro,S.sortedLastIndex=Lo,S.sortedLastIndexBy=No,S.sortedLastIndexOf=Fo,S.startCase=Xp,S.startsWith=yc,S.subtract=mh,S.sum=id,S.sumBy=sd,S.template=wc,S.times=Yc,S.toFinite=Sl,S.toInteger=Cl,S.toLength=Tl,S.toLower=xc,S.toNumber=Al,S.toSafeInteger=Il,S.toString=Dl,S.toUpper=kc,S.trim=$c,S.trimEnd=Sc,S.trimStart=Cc,S.truncate=Tc,S.unescape=Ac,S.uniqueId=Xc,S.upperCase=Zp,S.upperFirst=Qp,S.each=fr,S.eachRight=gr,S.first=wo,Nc(S,function(){var e={};return oi(S,function(t,n){yd.call(S.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),S.VERSION=ee,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){S[e].placeholder=S}),s(["drop","take"],function(e,t){Z.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new Z(this);n=n===J?1:Yd(Cl(n),0);var s=this.clone();return i?s.__takeCount__=Kd(n,s.__takeCount__):s.__views__.push({size:Kd(n,Ee),type:e+(s.__dir__<0?"Right":"")}),s},Z.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),s(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==Te||n==_e;Z.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ka(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),s(["head","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[n](1)}}),Z.prototype.compact=function(){return this.filter(Ec)},Z.prototype.find=function(e){return this.filter(e).head()},Z.prototype.findLast=function(e){return this.reverse().find(e)},Z.prototype.invokeMap=os(function(e,t){return"function"==typeof e?new Z(this):this.map(function(n){return Ii(n,e,t)})}),Z.prototype.reject=function(e){return this.filter(Rr(ka(e)))},Z.prototype.slice=function(e,t){e=Cl(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==J&&(t=Cl(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Z.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Z.prototype.toArray=function(){return this.take(Ee)},oi(Z.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=S[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);s&&(S.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,r=t instanceof Z,l=o[0],c=r||yp(t),d=function(e){var t=s.apply(S,u([e],o));return i&&p?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(r=c=!1);var p=this.__chain__,h=!!this.__actions__.length,f=a&&!p,g=r&&!h;if(!a&&c){t=g?t:new Z(this);var m=e.apply(t,o);return m.__actions__.push({func:tr,args:[d],thisArg:J}),new X(m,p)}return f&&g?e.apply(this,o):(m=this.thru(d),f?i?m.value()[0]:m.value():m)})}),s(["pop","push","shift","sort","splice","unshift"],function(e){var t=fd[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);S.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var s=this.value();return t.apply(yp(s)?s:[],e)}return this[n](function(n){return t.apply(yp(n)?n:[],e)})}}),oi(Z.prototype,function(e,t){var n=S[t];if(n){var i=n.name+"",s=ru[i]||(ru[i]=[]);s.push({name:t,func:n})}}),ru[na(J,he).name]=[{name:"wrapper",func:J}],Z.prototype.clone=Ft,Z.prototype.reverse=Xt,Z.prototype.value=Zt,S.prototype.at=Qu,S.prototype.chain=nr,S.prototype.commit=ir,S.prototype.next=sr,S.prototype.plant=or,S.prototype.reverse=rr,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=lr,S.prototype.first=S.prototype.head,Rd&&(S.prototype[Rd]=ar),S},yi=bi();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ni._=yi,define(function(){return yi})):si?((si.exports=yi)._=yi,ii._=yi):ni._=yi}.call(this),app.factory("RestaurantVotes",["$http","$q",function(e,t){return{getAll:function(t){return e({method:"GET",url:"/client-api/comment/commentForRestaurant",params:{restaurantId:t}})},getLastetCommentableOrder:function(e){var n=this,i=t.defer();return 0===Object.keys(n.commentData).length?n.getAll(e).then(function(e){n.commentData=e,i.resolve(n.commentData.canWriteComment)}):i.resolve(n.commentData.canWriteComment),i.promise}}}]),app.factory("VoteService",["$q","$http",function(e,t,n){return{saveMainVote:function(e,n){var i=[];return angular.forEach(e.items,function(e){i.push(e.food.foodId)}),t({method:"POST",data:{orderId:e.orderId,reviewData:n,foods:i},url:"/client-api/comment/addComment"})}}}]),angular.module("app").factory("AuthService",["$http","$sanitize","$location","SessionService",function(e,t,n,i){var s=function(){i.set("authenticated",!0)},a=function(){i.unset("authenticated")},o=function(e){return{email:t(e.email),password:t(e.password)}};return{login:function(t){t&&(t=o(t));var i=e.post("/api/auth/login",t);return i.success(function(e,t,i,a){e.error?loginErrorMsg(e.message):(s(),loginSuccessMsg(e.message),n.path("/home"))}),i.error(function(e){}),i},logout:function(){var t=e.get("/api/auth/logout");return t.success(function(){a(),n.path("/login")}),t},isLoggedIn:function(){return i.get("authenticated")}}}]),app.service("Basket",["Users","ResponsiveService","toaster","$timeout","$q","basketLocalStorage","$state","BasketValidator","$http","BasketModel","$rootScope",function(e,t,n,i,s,a,o,r,l,c,d){this.initBasket=function(e,t){return l({url:"/client-api/order/basket?restaurant="+e.id,method:"GET"}).then(function(n){return c.build(n.data.result,t,e)})},this.saveBasketData=function(e){return l({method:"PUT",url:"/client-api/order/basket",data:e}).then(function(e){return e.data.status===!0?e.data.result:(n.pop("error","",e.data.message_fa),!1)},function(e){n.pop("error","","    !")})},this.clear=function(){localStorage.removeItem("basket"),d.$broadcast("headerReload",{data:{city:null,slug:null,totalCount:0}})},this.calculatePriceOfEntry=function(e,t){return c.calculatePriceOfEntry(e,t)},this.selectOptions=function(e,t){return c.selectOptions(e,t)},this.changeDeliveryZoneId=function(e){var t=s.defer(),n=this;return a.loadOrder().then(function(i){i.deliveryZoneId=parseInt(e.deliveryZoneId),i.deliveryZonePrice=parseInt(e.deliveryZonePrice),a.saveOrder(i).then(function(e){n.basket=e,t.resolve(n.basket)})}),t.promise},this.basketChanged=function(e,t){this.createHCSticky(),t!==!0&&0===e.totalCount&&this.saveBasketData(e)},this.createHCSticky=function(){t.isDesktop()!==!1&&i(function(){$("#basket-fix").hcSticky({top:70,bottomEnd:160,wrapperClassName:"sidebar-sticky",offResolutions:[-992],responsive:!0})})}}]),app.factory("BasketValidator",[function(){return{validateRestaurantIsOpen:function(e){return!0},validateFood:function(e){return!0},validate:function(e,t){return!!this.validateRestaurantIsOpen(e)&&!!this.validateFood(t)}}}]),app.service("ClientGateway",["$location","$http","$rootScope","toaster","$state",function(e,t,n,i,s){var a=!1;n.$watch(function(){return t.pendingRequests.length>0},function(e){e&&a?$(".loading-burger-holder").show():(a=!1,$(".loading-burger-holder").hide()),e&&a&&$(".navbar-collapse").attr("aria-expanded","true")&&$(".navbar-collapse").removeClass("in")}),n.$on("$stateChangeStart",function(e,t,n){a=!0}),this.post=function(e,i,s,a,o){i="/client-api"+i;var r={method:"POST",url:i,data:e};o===!0&&(r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},url:i,data:e});var l=this;t(r).then(function(e){1==e.data.status?l.showNotification("success",e.data.message_fa):l.showNotification("error",e.data.message_fa),l["goto"](e.data.go_to),s&&"function"==typeof s?s(e):1==e.data.status?n.$broadcast("Security:postSuccess",e.data):n.$broadcast("Security:postFailed",e.data)},function(e){l.showNotification("warning",e.statusText),a&&"function"==typeof a?a(e):n.$broadcast("Security:postFailed",e.data),l["goto"](e.data.go_to)})},this.getWithTimeout=function(e,i,s,a,o,r){i="/client-api"+i;var l={method:"GET",url:i,params:e,timeout:a};o===!0&&(l={method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},url:i,params:e});var c=this;t(l).then(function(e){1==e.data.status?c.showNotification("success",e.data.message_fa):c.showNotification("error",e.data.message_fa),c["goto"](e.data.go_to),s&&"function"==typeof s?s(e):1==e.data.status?n.$broadcast("Security:getSuccess",e.data):n.$broadcast("Security:getFailed",e.data)},function(e){r&&"function"==typeof r?r(e):n.$broadcast("Security:getFailed",e.data),c["goto"](e.data.go_to)})},this.get=function(e,i,s,a,o){i="/client-api"+i;var r={method:"GET",url:i,params:e};o===!0&&(r={method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},url:i,params:e});var l=this;t(r).then(function(e){1==e.data.status?l.showNotification("success",e.data.message_fa):l.showNotification("error",e.data.message_fa),l["goto"](e.data.go_to),s&&"function"==typeof s?s(e):1==e.data.status?n.$broadcast("Security:getSuccess",e.data):n.$broadcast("Security:getFailed",e.data)},function(e){a&&"function"==typeof a?a(e):n.$broadcast("Security:getFailed",e.data),l["goto"](e.data.go_to)})},this.put=function(e,i,s,a,o){i="/client-api"+i;var r={method:"PUT",url:i,data:e};o===!0&&(r={method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},url:i,data:e});var l=this;t(r).then(function(e){1==e.data.status?l.showNotification("success",e.data.message_fa):l.showNotification("error",e.data.message_fa),s&&"function"==typeof s?s(e):1==e.data.status?n.$broadcast("Security:putSuccess",e.data):n.$broadcast("Security:putFailed",e.data),l["goto"](e.data.go_to)},function(e){l.showNotification("warning",e.statusText),a&&"function"==typeof a?a(e):n.$broadcast("Security:putFailed",e.data),l["goto"](e.data.go_to)})},this["delete"]=function(e,i,s,a,o){i="/client-api"+i;var r={method:"DELETE",url:i,data:e};o===!0&&(r={method:"DELETE",headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},url:i,data:e});var l=this;t(r).then(function(e){1==e.data.status?l.showNotification("success",e.data.message_fa):l.showNotification("error",e.data.message_fa),s&&"function"==typeof s?s(e):1==e.data.status?n.$broadcast("Security:deleteSuccess",e.data):n.$broadcast("Security:deleteFailed",e.data),l["goto"](e.data.go_to)},function(e){l.showNotification("warning",e.statusText),a&&"function"==typeof a?a(e):n.$broadcast("Security:deleteFailed",e.data),l["goto"](e.data.go_to)})},this["goto"]=function(){if(arguments&&"undefined"!=typeof arguments&&"undefined"!=typeof arguments[0]&&null!=arguments[0]){var arguments=arguments[0];if(2==arguments.length)return s.go(arguments[0],arguments[1]);if(arguments.length>3)return s.go(arguments)}},"undefined"!=typeof message_fa&&message_fa.length>2&&i.pop("warning",message_fa),this.showNotification=function(e,t){t&&("error"==e&&(t=o(t)),i.pop(e,"",t))};var o=function(e){if(!e instanceof Array)return e;var t,n,i="";for(t in e)for(n in e[t])i+=e[t][n];return i}}]),app.service("commentStatus",function(){var e={};return e.colors={green:"#32c343",orange:"#ffc200",red:"#ef4556","default":"#a0a0a0"},e.classList={green:"green",orange:"orange",red:"red","default":"default"},e}),app.factory("getVoteService",["$timeout",function(e){return{setQuallityVote:function(e){return console.log(e,"voteService"),rateFromDirective=e,e},getQuallityVote:function(){return rateFromDirective}}}]),app.service("mapGeoLocation",["ClientGateway",function(e){this.getUserGeoLocation=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(_this.userLocationCallBack)},this.init=function(e){_this.map=e;var t=document.createElement("div");t.style.right="10px",t.style.bottom="85px";var n=document.createElement("div");n.style.backgroundColor="#FFF",n.style.borderStyle="solid",n.style.borderWidth="3px",n.style.borderColor="white",n.style.height="28px",n.style.width="28px",n.style.marginTop="5px",n.style.cursor="pointer",n.style.textAlign="center",n.style.position="relative",n.style.right="10px",n.style.top="8px",n.title="         ",t.appendChild(n);var i=document.createElement("div");i.style.backgroundImage="url('https://maps.gstatic.com/tactile/mylocation/mylocation-sprite-1x.png')",i.style.backgroundPosition="0 0",i.style.height="18px",i.style.width="18px",i.style.position="absolute",i.style.top="2px",i.style.left="2px",n.appendChild(i),n.addEventListener("click",function(){_this.getUserGeoLocation()}),e.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(t)},this.userLocationCallBack=function(e){_this.map.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})}}]),app.factory("ModalService",["$uibModal",function(e){return{defaultProperties:{animation:!0,size:"lg"},makeProperties:function(e){return angular.merge(this.defaultProperties,e)},openModal:function(t,n,i){var t=this.makeProperties(t);return t.resolve={data:n},t.scope=i,e.open(t)}}}]),app.factory("OrderService",["$http",function(e){return{getInfoById:function(t){return e({method:"GET",url:"/client-api/order/info",params:{orderId:t}})},getOrderToReview:function(t){return e({method:"GET",url:"/client-api/order/toReview",params:{orderId:t}})}}}]),app.factory("Regions",["ClientGateway","$localStorage",function(e,t){return{latestLocation:function(){},getLastPointInRegion:function(e){},setLastPointInRegion:function(){}}}]),app.service("ResponsiveService",["$rootScope","$timeout","$window",function(e,t,n){var i=this;this.initialize=function(){this.setDeviceWidth(),this.setDeviceHeight()},this.setDeviceWidth=function(){this.deviceWidth=n.innerWidth},this.setDeviceHeight=function(){this.deviceHeight=n.innerHeight},this.isMobile=function(){return this.deviceWidth<480},this.isTablet=function(){return this.deviceWidth>=480&&this.deviceWidth<=768},this.isTabletAndMobile=function(){return this.deviceWidth<769},this.isDesktop=function(){return this.deviceWidth>768},this.isSmallerThanMD=function(){return this.deviceWidth<992},n.addEventListener("resize",function(e){i.initialize()}),this.os=navigator.platform;var s={},a="";s.isOpera=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,s.isFirefox="undefined"!=typeof InstallTrigger,s.isSafari=/constructor/i.test(window.HTMLElement)||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||"undefined"!=typeof safari&&safari.pushNotification),s.isIE=!!document.documentMode,s.isEdge=!s.isIE&&!!window.StyleMedia,s.isChrome=!!window.chrome&&!!window.chrome.webstore,this.getBrowserInfo=function(){return s.isOpera&&(a="opera"),s.isFirefox&&(a="firefox"),s.isSafari&&(a="safari"),s.isIE&&(a="ie"),s.isEdge&&(a="edge"),s.isChrome&&(a="chrome"),a},this.BrowserInfo=this.getBrowserInfo()}]),app.service("RestaurantList",["$http","$rootScope","$q",function(e,t,n){this.restaurantTypes={},this.foodTypes={},this.requests=[];var i=function(){return e({method:"GET",cache:!0,url:"/client-api/tag/restaurant-list-tag"})};this.getChainRestaurantInfo=function(t){var i=n.defer(),s=a(t);return e({method:"GET",cache:!0,url:"/client-api/chain-restaurant/info?"+s}).then(function(e){e.data.result?(this.chainRestaurant=e.data.result,i.resolve({chainRestaurant:this.chainRestaurant})):i.reject()}).then(function(e){i.reject()}),i.promise};var s=function(e){var t={};return angular.forEach(e,function(e,n){t[e.id]=e}),t},a=function(e){var t=[];return angular.forEach(e,function(e,n){if(e!==!1&&""!==e&&void 0!==e)if(angular.isArray(e))for(var i=0;i<e.length;i++)t.push(n+"["+i+"]="+e[i]);else t.push(n+"="+(e===!0?1:e))}),t.join("&")},o=function(e,t){return t.splice(r(e,t)+1,0,e),t},r=function(e,t,n,i){n=n||0,i=i||t.length;var s=parseInt(n+(i-n)/2,10);return void 0===t[s]||t[s].count===e.count?s:i-n<=1?t[s].count<e.count?s-1:s:t[s].count>e.count?r(e,t,s,i):r(e,t,n,s)};this.constructRestaurantType=function(e,t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var s=_.findKey(e,{key:parseInt(i)});s?t[i].count=e[s].doc_count:t[i].count=0,o(_.cloneDeep(t[i]),n)}return n},this.constructFoodTypes=function(e,t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var s=_.findKey(e,{key:parseInt(i)});s?t[i].count=e[s].doc_count:t[i].count=0,o(_.cloneDeep(t[i]),n)}return n};var l=function(e,t){for(var n=e.split("-"),i=0;i<t.length;i++)t[i].id.toString()===n[1]&&(t[i].checked=!0);return t};
return this.checkedByName=function(e,t){if(void 0!==t&&void 0!==e){angular.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++)t=l(e[n],t)}},this.readyTags=function(e){if(void 0===e)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n].split("-")[1]);return t},this.cancelAllRequest=function(){for(var e=0;e<this.requests.length;e++)this.requests[e].resolve();this.requests=[]},this.searchBySpecs=function(t,n){this.cancelAllRequest(),this.requests.push(n);var i=a(t);return e({method:"GET",cache:!1,url:"/client-api/restaurant/search?"+i,timeout:n.promise})},this.getRestaurantAndFoodTypes=function(){var e=n.defer();return _.isEmpty(this.restaurantTypes)===!0||_.isEmpty(this.foodTypes)?(i().then(function(t){t.data.status===!0?(this.restaurantTypes=s(t.data.result.restaurantType),this.foodTypes=s(t.data.result.foodType),e.resolve({restaurantTypes:this.restaurantTypes,foodTypes:this.foodTypes})):e.reject()}).then(function(t){e.reject()}),e.promise):(e.resolve({restaurantTypes:this.restaurantTypes,foodTypes:this.foodTypes}),e.promise)},this}]),app.factory("restaurantModalService",function(){var e=!1,t=!1;return{changeValue:function(t){e=t},changeRestaurantModal:function(e){t=e}}}),app.service("RestaurantSeoDataBuilder",["$rootScope","$location","GoogleStructuredDataModel",function(e,t,n){this.updateRestaurantListData=function(t){var n=Object.keys(t.foodTypes).length>0?S(t.foodTypes):"",s=Object.keys(t.restaurantTypes).length>0?S(t.restaurantTypes):"";delete t.restaurantTypes,delete t.foodTypes,e.title=Object.keys(t).length>0?i(t):a(),e.description=n.length>0?l(t.cityName,n,t.chainRestaurantName):p(),e.keywords=Object.keys(t).length>0&&s.length>0?h(t,s):g(),e.url=$(),e.image="https://chilivery.com/app/user/assets/img/base/LogoForHome_shadow.png"},this.updateSingleRestaurantData=function(t){var n=C(t);e.structuredData=n.data;var i=S(t.foodTypes),o=S(t.restaurantTypes);delete t.restaurantTypes,delete t.foodTypes,e.title=Object.keys(t).length>0?s(t):a(),e.description=t.restaurantName&&i.length>0&&t.restaurantBaseType?c(t.restaurantName,i,t.restaurantBaseType.tagName):p(),e.keywords=Object.keys(t).length>0&&i.length>0&&o.length>0?f(t,i,o):g(),e.url=$(),e.image=t.profile},this.updateSingleRestaurantComment=function(t){var n=C(t);e.structuredData=n.data;var i=S(t.foodTypes),s=S(t.restaurantTypes);delete t.restaurantTypes,delete t.foodTypes,e.title=Object.keys(t).length>0?o(t):a(),e.description=t.restaurantName?u(t.restaurantName):p(),e.keywords=Object.keys(t).length>0&&i.length>0&&s.length>0?f(t,i,s):g(),e.url=$(),e.image=t.profile},this.updateSingleRestaurantInfo=function(t){var n=C(t);e.structuredData=n.data;var i=S(t.foodTypes),s=S(t.restaurantTypes);delete t.restaurantTypes,delete t.foodTypes,e.title=Object.keys(t).length>0?r(t):a(),e.description=t.restaurantName?d(t.restaurantName):p(),e.keywords=Object.keys(t).length>0&&i.length>0&&s.length>0?f(t,i,s):g(),e.url=$(),e.image=t.profile};var i=function(e){var t="  ";return"undefined"==typeof e.query&&"undefined"==typeof e.foodTag&&"undefined"==typeof e.restaurantTag&&(t+="   "),"undefined"!=typeof e.query&&(t=y(t,e.query)),"undefined"!=typeof e.foodTag&&(t=k(t,e.foodTag)),"undefined"!=typeof e.restaurantTag&&(t=x(t,e.restaurantTag)),e.isDiscounted&&(t=b(t)),"undefined"!=typeof e.neighbourhoodName&&(t=w(t,e.neighbourhoodName)),"undefined"!=typeof e.chainRestaurantName&&(t=v(t,e.chainRestaurantName)),"undefined"!=typeof e.cityName&&(t=m(t,e.cityName)),t+"| "},s=function(e){return e.restaurantBaseType?"  "+(""==e.restaurantBaseType.tagName?" ":"")+" "+e.restaurantBaseType.tagName+" "+e.restaurantName+"   "+e.neighbourhoodName.replace("-"," ")+"   "+e.cityName+" | ":"    "+e.restaurantName+"   "+e.neighbourhoodName.replace("-"," ")+"   "+e.cityName+" | "},a=function(){return"           "},o=function(e){return"    "+e.restaurantName+"   "+e.neighbourhoodName.replace("-"," ")+"   "+e.cityName+" | "},r=function(e){return" "+e.restaurantName+"   "+e.neighbourhoodName.replace("-"," ")+"   "+e.cityName+" | "},l=function(e,t,n){return"  "+t+"    "+(e?e:"")+(n?"  "+n:"")},c=function(e,t,n){return"  "+(""==n?" ":"")+t+"   "+e},d=function(e){return" "+e},u=function(e){return"    "+e},p=function(){return"                    ."},h=function(e,t){return"     "+(e.cityName?e.cityName:"")+"      "+(e.cityName?" "+e.cityName:"")+(e.chainRestaurantName?"     "+e.chainRestaurantName:"")+" "+(e.neighbourhoodName?"  "+e.neighbourhoodName.replace("-"," ")+" ":"")+"   "+(e.chainRestaurantName?"  "+e.chainRestaurantName:"")+(e.cityName?e.cityName:"")+(e.neighbourhoodName?" / "+e.neighbourhoodName.replace("-"," "):"")+" "+t+"  chilivery"},f=function(e,t,n){return" "+(e.restaurantBaseType&&e.restaurantBaseType.tagName?e.restaurantBaseType.tagName:"")+" "+(e.restaurantName?e.restaurantName:"")+" "+(e.restaurantBaseType&&e.restaurantBaseType.tagName?e.restaurantBaseType.tagName:"")+"  "+(e.cityName?e.cityName:"")+" "+n+"    "+t+"     chilivery "+(e.restaurantSlug?e.restaurantSlug.replace("-"," "):"")},g=function(){return"                    .        ."},m=function(e,t){return e+" "+t+" "},v=function(e,t){return e+"     "+t+" "},b=function(e){return e+"  "},y=function(e,t){return e+t+" "},w=function(e,t){return e+"  "+t.replace("-"," ")+" "},x=function(e,t){return e+"   "+t+" "},k=function(e,t){return e+t+" "},$=function(){return t.host()+t.path()},S=function(e){var t="";return angular.forEach(e,function(e){t+=(e.tagName?e.tagName:e.name)+" "}),t.substr(0,t.length-2)},C=function(e){var t=n.build();return t.setAttribe("@type","Restaurant"),t.setAttribe("image",e.profile),t.setAttribe("name",e.restaurantName),t.setAttribe("telephone",e.phone),t.setPriceRange(e.financialLevel.financeLevel),t.setAddress(e.address),t.setGeo(e.point),t.setAggregateRating(e.rateAverage,e.commentCount),t.setOpeningHours(e.openingHoursSchema),t.setServesCuisine(e.foodTypes),t};return this}]),app.factory("RestaurantsList",["$rootScope","ClientGateway","$q","$http","UserLocation","$state",function(e,t,n,i,s,a){return{initialized:!1,loading:!1,timeoutPromises:[],allRestaurants:[],list:[],restaurantTypes:[],foodTypes:[],restaurantsCount:0,startLoading:function(){this.loading=!0},stopLoading:function(){this.loading=!1},initialize:function(){},reset:function(e){this.list=this.allRestaurants;var t=this;e&&this.searchRestaurantByName("").then(function(){t.stopLoading()})},empty:function(){this.list=[]},cancelRequests:function(){angular.forEach(this.timeoutPromises,function(e){e.resolve()}),this.timeoutPromises=[]},searchRestaurantByName:function(e){this.cancelRequests();var i=n.defer(),s=this,o=n.defer();return this.timeoutPromises.push(o),t.getWithTimeout({keyword:e,path:window.location.pathname,state:a.current.name},"/restaurant/search",function(e){s.setResultData(e.data.result),i.resolve()},n.defer()),i.promise},getNeighborhoodInfo:function(e,t,a,o){var o=o!==!1,r=this,l=n.defer(),c=n.defer();return this.timeoutPromises.push(c),i({method:"GET",cache:!0,url:"/client-api/restaurant/findNeighborhood",params:e,timeout:c.promise}).then(function(e){if("undefined"==typeof e.data.result)l.reject();else{r.restaurantsCount=e.data.result.restaurantCount[0][1];var n=e.data.result.regionInfo,i=[n.cityName,n.regionName,n.regionId,n.regionSlug,t,a,n.cityId,n.citySlug];!r.initialized&&o?(s.setUserLocation(i,"list",!1),r.initialized=!0):s.setUserLocation(i,"list"),newRegionData=i,l.resolve(n)}}),l.promise},searchRestaurantsByCity:function(e){this.cancelRequests();var t=n.defer(),s=this,a=n.defer();return this.timeoutPromises.push(a),i({method:"GET",cache:!0,url:"/client-api/restaurant",params:{city:e},timeout:a.promise}).then(function(e){0==e.data.status&&t.reject(e.data);var n=e.data.result;s.list=e.data.result.restaurants,s.allRestaurants=e.data.result.restaurants,"undefined"!=typeof n.restaurants&&(s.setResultData(e.data.result),t.resolve(n))}),t.promise},searchRestaurantsByNeighborhood:function(e){this.cancelRequests();var t=n.defer(),s=this,a=n.defer();return this.timeoutPromises.push(a),i({method:"GET",cache:!0,url:"/client-api/restaurant",params:e,timeout:a.promise}).then(function(e){var n=e.data.result;s.list=e.data.result.restaurants,s.allRestaurants=e.data.result.restaurants,"undefined"!=typeof n.restaurants?(s.setResultData(e.data.result),t.resolve()):(s.emptyData(),t.resolve())}),t.promise},searchRestaurantsByPoint:function(e,t,a,o){var o=o!==!1;this.cancelRequests();var r=n.defer(),l=this,c=n.defer();return this.timeoutPromises.push(c),i({method:"GET",cache:!0,url:"/client-api/restaurant/byPoint",params:e,timeout:c.promise}).then(function(e){if("undefined"==typeof e.data.result||0==e.data.status)r.reject();else{l.restaurantsCount=e.data.result.restaurantCount[0][1];var n=e.data.result.regionInfo,i=[n.cityName,n.regionName,n.regionId,n.regionSlug,t,a,n.cityId,n.citySlug];!l.initialized&&o?(s.setUserLocation(i,"list",!1),l.initialized=!0):s.setUserLocation(i,"list");var c=e.data.result;l.list=e.data.result.restaurants,l.allRestaurants=e.data.result.restaurants,"undefined"!=typeof c.restaurants?(l.setResultData(e.data.result),r.resolve(n)):(l.emptyData(),r.resolve(n)),r.resolve(n)}}),r.promise},setResultData:function(e){this.list=e.restaurants,this.allRestaurants=e.restaurants,this.foodTypes=e.allFoodTypes,this.restaurantTypes=e.allRestaurantTypes},emptyData:function(){this.list=[],this.allRestaurants=[]},getDiscounted:function(){var e=this,t=s.getUserCity(),a=n.defer();return i({method:"GET",url:"/client-api/restaurant/discounted-restaurants-all",params:{cityId:t},cache:!0}).then(function(t){var n=t.data.result;e.list=t.data.result.restaurants,e.allRestaurants=t.data.result.restaurants,"undefined"!=typeof n.restaurants?(e.setResultData(t.data.result),a.resolve(n)):(e.emptyData(),a.resolve())}),a.promise}}}]),app.service("slickConfig",function(){var e={};return e.discountedRestaurants={autoplay:!0,draggable:!0,slidesToShow:8,slidesToScroll:8,rtl:!0,dots:!0,infinite:!0,autoplaySpeed:6e3,centerPadding:100,responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6,dots:!0}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]},e.chosenRestaurants={autoplay:!0,draggable:!0,slidesToShow:8,slidesToScroll:8,rtl:!0,dots:!0,infinite:!0,autoplaySpeed:6e3,centerPadding:100,responsive:[{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6,dots:!0}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]},e.specialRestaurants={autoplay:!0,draggable:!0,slidesToShow:4,slidesToScroll:1,rtl:!0,dots:!0,infinite:!0,centerMode:!0,autoplaySpeed:6e3,responsive:[{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4,dots:!0}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3,dots:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,dots:!1}}]},e}),app.service("smoothScroll",function(){this.scrollTo=function(e){function t(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}function n(e){for(var t=document.getElementById(e),n=t.offsetTop,i=t;i.offsetParent&&i.offsetParent!=document.body;)i=i.offsetParent,n+=i.offsetTop;return n}var i=t(),s=n(e),a=s>i?s-i:i-s;if(a<100)return void scrollTo(-10,s);var o=Math.round(a/100);o>=5&&(o=5);var r=Math.round(a/25),l=s>i?i+r:i-r,c=0;if(s>i)for(var d=i;d<s;d+=r)setTimeout("window.scrollTo(-10, "+l+")",c*o),l+=r,l>s&&(l=s),c++;else for(var d=i;d>s;d-=r)setTimeout("window.scrollTo(-10, "+l+")",c*o),l-=r,l<s&&(l=s),c++}}),app.factory("UserLocationHistory",["$rootScope",function(){}]),app.service("webengageService",[function(){this.track=function(e,t){if("undefined"!=typeof webengage)try{webengage.track(e,t)}catch(n){}}}]),app.directive("checkHoverInput",[function(){return{link:function(e,t,n){var i=angular.element(t);i.on("focus",function(){var e=i.parent();e.addClass("md-focused")}),i.on("blur",function(){var e=i.parent();e.removeClass("md-focused")})},scope:{},restrict:"A"}}]),app.directive("codeValidation",function(){return{require:"ngModel",link:function(e,t,n,i){function s(e){if("undefined"!=typeof e){var t=r(e),n="^[0-9]{4}$",s=new RegExp(n);a=t,s.test(t)?i.$setValidity("codeValidation",!0):i.$setValidity("codeValidation",!1)}return a}i.$parsers.unshift(s);var a,o=function(e){if(e){for(var t=["","","","","","","","","",""],n=["","","","","","","","","",""],i=0,s=t.length;i<s;i++)e=e.replace(new RegExp(t[i],"g"),n[i]);return e}},r=function(e){if(e){e=o(e);for(var t=[//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi],n=0;n<10;n++)e=e.replace(t[n],n)}return e}}}}),app.directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,n,i){i.$validators.compareTo=function(t){var n=t==e.otherModelValue;return i.$setValidity("compareTo",n),n},e.$watch("otherModelValue",function(){i.$validate()})}}}),app.directive("imgLazySrc",["$window","$document",function(e,t){function n(e){function t(t,n){if(!e.is(":visible"))return!1;null===l&&(l=e.height());var i=e.offset().top,s=i+l;return i<=n&&i>=t||s<=n&&s>=t||i<=t&&s>=n}function n(){r=!0,s()}function i(e){o=e,r&&s()}function s(){e[0].src=o}var a="app/user/assets/img/base/res_logo_placeholder.jpg";e[0].src=a;var o=null,r=!1,l=null;return{isVisible:t,render:n,setSource:i}}function i(e,t,i){var a=new n(t);s.addImage(a),i.$observe("imgLazySrc",function(e){a.setSource(e)}),e.$on("$destroy",function(){s.removeImage(a)})}var s=function(){function n(e){u.push(e),p||r(),y||l()}function i(e){for(var t=0;t<u.length;t++)if(u[t]===e){u.splice(t,1);break}u.length||(o(),c())}function s(){if(!p){var e=g.height();e!==m&&(m=e,r())}}function a(){for(var e=[],t=[],n=f.height(),i=f.scrollTop(),s=i,a=s+n,r=0;r<u.length;r++){var l=u[r];l.isVisible(s,a)?e.push(l):t.push(l)}for(var r=0;r<e.length;r++)e[r].render();u=t,o(),u.length||c()}function o(){clearTimeout(p),p=null}function r(){p=setTimeout(a,h)}function l(){y=!0,f.on("resize.imgLazySrc",d),f.on("scroll.imgLazySrc",d),v=setInterval(s,b)}function c(){y=!1,f.off("resize.imgLazySrc"),f.off("scroll.imgLazySrc"),clearInterval(v)}function d(){p||r()}var u=[],p=null,h=100,f=$(e),g=t,m=g.height(),v=null,b=2e3,y=!1;return{addImage:n,removeImage:i}}();return{link:i,restrict:"A"}}]),app.directive("internalLoading",function(){return{templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/internal-loading.html"}}),app.directive("keepScrollPosition",["$rootScope","$state","$window","$anchorScroll","$location","$timeout","ResponsiveService",function(e,t,n,i,s,a,o){return{scope:{},template:"",link:function(e,t,n){var i=o.isMobile(),s=o.isTablet(),a=(o.isDesktop(),{comment:"app.restaurantnew.show.comment",menu:"app.restaurantnew.show.menu",info:"app.restaurantnew.show.info"});funcs={},funcs.scrollToElement=function(){$("body,html").animate({scrollTop:$(t[0]).offset().top-50},1e3)},e.$on("$stateChangeSuccess",function(e,t,n,o,r,l){if(i||s)switch(o.name){case a.comment:funcs.scrollToElement();break;case a.menu:funcs.scrollToElement();break;case a.info:funcs.scrollToElement()}})}}}]),app.directive("loaderWithoutText",["$timeout",function(e){return{templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/loaderWithoutText.html"}}]),app.directive("marqueeEffect",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){e(function(){var e=i.$$element,t=e.parent(),n=t.width(),s=e.find(".name");s.css("width",n),t.mouseenter(function(){e.css({width:"auto"});var t=e.width(),i=0;t>n&&(i=t-n+10,e.css({"-webkit-transform":"translateX("+i+"px)","-moz-transform":"translateX("+i+"px)","-ms-transform":"translateX("+i+"px)","-o-transform":"translateX("+i+"px)",transform:"translateX("+i+"px)",transition:"transform 3s linear"},300))}),t.mouseleave(function(){e.css({width:n,transform:"translateX(0)",transition:"transform 0.5s linear"})})},0)}}}]),app.directive("mobileValidation",function(){return{require:"ngModel",link:function(e,t,n,i){function s(e){if("undefined"!=typeof e){var t=r(e),n="^09[0-9]{9}$",s=new RegExp(n);a=t,s.test(t)?i.$setValidity("mobileValidation",!0):i.$setValidity("mobileValidation",!1)}return a}i.$parsers.unshift(s);var a,o=function(e){if(e){for(var t=["","","","","","","","","",""],n=["","","","","","","","","",""],i=0,s=t.length;i<s;i++)e=e.replace(new RegExp(t[i],"g"),n[i]);return e}},r=function(e){if(e){e=o(e);for(var t=[//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi],n=0;n<10;n++)e=e.replace(t[n],n)}return e}}}}),app.directive("neighborhoodMap",function(){return{restrict:"E",scope:{point:"=",count:"=",region:"=",loading:"="},controller:["$scope","$rootScope","UserLocation",function(e,t,n){function i(){return e.point.lat+","+e.point["long"]}function s(){var t=r.getCenter();e.point.lat=t.lat(),e.point["long"]=t.lng()}function a(){return{latitude:e.point.lat,longitude:e.point["long"],center:i()}}e.userLocation=n;var o=!1,r=null,l=null,c=null;e.neghborhoodModalMap=!1,e.$on("UserLocation::Updated",function(e,t){if("select"==t.source){var n=new google.maps.LatLng(t.userLocationData.regionPoint.lat,t.userLocationData.regionPoint["long"]);r.panTo(n)}}),e.openModal=function(){var t=new google.maps.LatLng(e.point.lat,e.point["long"]);l=new google.maps.Map(document.getElementById("modal-map-zoom"),{center:t,minZoom:8,maxZoom:20,zoom:16,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},mapTypeId:google.maps.MapTypeId.ROADMAP}),$("<div/>").addClass("centerMarker").appendTo(l.getDiv()),google.maps.event.addListener(l,"idle",function(){c=l.getCenter()}),google.maps.event.addListener(l,"dragstart",function(){this.set("dragging",!0)}),e.neghborhoodModalMap=!0},e.closeMap=function(){e.neghborhoodModalMap=!1},e.selectPointMap=function(){e.neghborhoodModalMap=!1,e.point.lat=c.lat(),e.point["long"]=c.lng(),r.panTo(new google.maps.LatLng(e.point.lat,e.point["long"])),t.$broadcast("NeighborhoodMap::MovementFinished",a())},e.$watch("point",function(n){if(n&&n.lat&&n["long"]){var i=new google.maps.LatLng(e.point.lat,e.point["long"]);r=new google.maps.Map(document.getElementById("map-c"),{center:i,minZoom:8,maxZoom:20,zoom:16,disableDoubleClickZoom:!0,fullscreenControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,rotateControl:!1}),$("<div/>").addClass("centerMarker").appendTo(r.getDiv()),google.maps.event.addListener(r,"idle",function(){o?(e.$apply(function(){s()}),t.$broadcast("NeighborhoodMap::MovementFinished",a())):(o=!0,t.$broadcast("NeighborhoodMap::Initialized",a()))}),google.maps.event.addListener(r,"dragstart",function(){t.$broadcast("NeighborhoodMap::StartedMoving"),this.set("dragging",!0)})}})}],templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/neighborhood-map.html"}}),app.directive("numbersOnly",function(){return{require:"ngModel",link:function(e,t,n,i){function s(e){if("undefined"!=typeof e){var t=r(e),n="^[0-9]*$",s=new RegExp(n);a=t,s.test(t)?i.$setValidity("mobileValidation",!0):i.$setValidity("mobileValidation",!1)}return a}i.$parsers.unshift(s);var a,o=function(e){if(e){for(var t=["","","","","","","","","",""],n=["","","","","","","","","",""],i=0,s=t.length;i<s;i++)e=e.replace(new RegExp(t[i],"g"),n[i]);return e}},r=function(e){if(e){e=o(e);for(var t=[//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi,//gi],n=0;n<10;n++)e=e.replace(t[n],n)}return e}}}}),app.directive("paymentAddress",["MAPSTYLE",function(e){return{scope:{enableSubmit:"=?",newAddress:"=?",checkAddressAvailability:"=",restaurantId:"=",restaurantName:"=?",userAddress:"=",addressStatus:"="},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/payment-address.html",controller:["$scope","$timeout","ClientGateway","$element","$filter","$cookies","Regions","UserLocation","$rootScope","ModalService","$window",function(t,n,i,s,a,o,r,l,c,d,u){t.currentOrigin=u.location.origin;var p,h,f,g=!1,m=null,v=function(){if(t.enableSubmit=!1,t.addressMap=!1,t.newaddr={},t.newAddress=!1,t.addresses=!1,t.cities=[],t.mapAddress=[],t.addNewAddressBtn=!0,t.neighborhodSpinner=!1,$('[data-toggle="tooltip"]').tooltip(),l.isExists()){var e=l.getPoint();t.newLat=e.lat,t.newLong=e["long"]}else t.newLat=35.728759,t.newLong=51.416},b=function(e,t){var n=/\u064A/g,i=//g,s=e.match(i);s&&(e=e.replace(n,""));var a=/\u0643/g,o=//g,r=e.match(o);return r&&(e=e.replace(a,"")),t.search(e)>=0},y=function(e,i){$.fn.select2.amd.require(["select2/compat/matcher"],function(n){$(e).select2({dir:"rtl",language:"fa",allowClear:!1,data:t.cities,escapeMarkup:function(e){return e},initSelection:function(e,t){t({id:0,text:"     ..."})},placeholder:"     ..."},!0)}),n(function(){$(e).val(i).trigger("change")},20)},w=function(e,i,s){if($.fn.select2.amd.require(["select2/compat/matcher"],function(n){$(e).select2({dir:"rtl",language:"fa",matcher:n(b),allowClear:!0,data:_.map(t.neighborhoods,function(e){return console.log(e,"neighborhood"),{id:e.id,text:e.text?e.text:e.name}}),escapeMarkup:function(e){return e},initSelection:function(e,t){t({id:0,text:"     ..."})},placeholder:"     ..."},!0)}),s){var a=l.getUserLocation();a&&(t.initialMap=!1,n(function(){$(e).val(a.regionId).trigger("change"),t.neighborhodSpinner=!1},20))}else C(i)?(t.initialMap=!1,n(function(){$(e).val(null).trigger("change")},20)):(t.initialMap=!0,n(function(){$(e).val(parseInt(i.userAddressNeighborhoodId)).trigger("change")},20))},x=function(e,s,a,o){var r=s.lat()+","+s.lng(),l={region_center:r};t.newAddress?(t.newLat=a.getPosition().lat(),t.newLong=a.getPosition().lng()):(t.currentEditedAddress.latitude=a.getPosition().lat(),t.currentEditedAddress.longitude=a.getPosition().lng()),i.get(l,"/user-address/findNeighborhood",function(r){var l=r.data.result.regionInfo;C(l)?(i.showNotification("warning","       .      ."),h.setPosition(s)):(console.log(l,"REEEEEEEEEEEGION"),selected=T(l.regionId,l.cityId),e.setContent('<div style="margin-right: 15px; font-family: \'iransans\'; overflow: hidden;" class="text-right">'+l.regionName+"</div>"),e.open(p,a),n(function(){var e=t.newAddress?".neighborhood.add":".neighborhood."+o,n=t.newAddress?".city.add":".city."+o;$(e).val(l.regionId).trigger("change"),$(n).val(l.cityId).trigger("change")},50))})},k=function(n){var i=t.newLat=n.regionMapCenter?n.regionMapCenter.latitude:n.mapCenter.latitude,s=t.newLong=n.regionMapCenter?n.regionMapCenter.longitude:n.mapCenter.longitude;f=new google.maps.LatLng(parseFloat(i),parseFloat(s));var a=Object.hasOwnProperty("text")?n.text:Object.hasOwnProperty("neighborhoodName")?n.neighborhoodName:"            ",o=new google.maps.InfoWindow({content:'<div  style="margin-right: 25px; overflow: hidden; font-family: \'iransans\';" class="text-right"><i class="icon icon-information"  style="color: red;"></i>'+a+"</div>"});p=new google.maps.Map(document.getElementById("addressMapWrapper"),{center:f,minZoom:8,maxZoom:20,zoom:14,zoomControl:!0,scaleControl:!1,disableDoubleClickZoom:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,styles:e}),h=new google.maps.Marker({position:f,map:p,draggable:!0,icon:{url:"/app/user/assets/img/base/pin-user.png",scaledSize:new google.maps.Size(45,45)}}),o.open(p,h),google.maps.event.addListener(p,"idle",function(){!this.get("dragging")&&this.get("oldCenter")&&this.get("oldCenter")!==this.getCenter()&&this.getCenter().lat()>0&&t.addressMap&&(h.setPosition(this.getCenter()),x(o,this.getCenter(),h,n.userAddressId)),this.get("dragging")||this.set("oldCenter",this.getCenter())}),google.maps.event.addListener(p,"dragstart",function(){this.set("dragging",!0)}),google.maps.event.addListener(p,"drag",function(){h.setPosition(this.getCenter())}),google.maps.event.addListener(p,"dragend",function(){this.set("dragging",!1),google.maps.event.trigger(this,"idle",{})}),google.maps.event.addListener(h,"dragend",function(){t.$apply(function(){p.setCenter(h.getPosition()),x(o,h.getPosition(),h,n.userAddressId)})}.bind(this))},S=function(){if(t.checkAddressAvailability&&"undefined"!=typeof t.restaurantId)var e={restaurantId:parseInt(t.restaurantId)};i.get(e?e:{},"/user-address",function(e){t.userAddresses=e.data.result,t.restaurantDeliveryPolygon=e.data.restaurantDeliveryPolygon,t.APP_KEY=e.data.APP_KEY,Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n};var n=Object.size(t.userAddresses);t.sizeAddress=n,null!=m&&m(),m=t.$watch("userAddress.selected",function(e,n){C(e)||C(t.userAddresses[e])||c.$broadcast("UserAddressSelected::Updated",{deliveryZonePrice:t.userAddresses[e].deliveryZonePrice,deliveryZoneMinDeliveryTime:t.userAddresses[e].deliveryZoneMinDeliveryTime,deliveryZoneMaxDeliveryTime:t.userAddresses[e].deliveryZoneMaxDeliveryTime,restaurantId:t.restaurantId,deliveryZoneId:parseInt(t.userAddresses[e].deliveryZoneId),userAddressId:parseInt(t.userAddresses[e].userAddressId),citySlug:t.userAddresses[e].citySlug,neighborhoodSlug:t.userAddresses[e].neighborhoodSlug})},!0);var i=!1;angular.forEach(t.userAddresses,function(e,n){if(t.userAddresses[n].edited=!1,"string"==typeof e.userAddressPoint){var s=e.userAddressPoint.replace("POINT(","").replace(")","").trim().split(" ");e.latitude=s[0],e.longitude=s[1]}t.checkAddressAvailability&&!i&&!t.userAddress.selected&&t.checkCanDeliver(e)&&(t.userAddress.selected=e.userAddressId)})})};t.checkAddressAvailability?t.$watch("restaurantId",function(e){null!=e&&S()}):S();var C=function(e){return angular.isUndefined(e)||null===e},T=function(e,n){var i={};return C(n)||r.getAddressNeighborhoods({city_id:n}).then(function(n){t.neighborhoods=n;var s=t.newAddress?".neighborhood.add":".neighborhood."+e;$(s).select2("destroy"),$(s).empty(),w(s,{userAddressNeighborhoodId:i.id})}),angular.forEach(t.neighborhoods,function(t){t.id==e&&(i=t)}),i},A=function(e){var n={latitude:35.715298,longitude:51.404343};return angular.forEach(t.cities,function(t){t.id==e&&(n=t.regionMapCenter)}),n};t.setSelectedCity=function(e,n,i){!g&&l.isExists()&&C(i)||(t.neighborhodSpinner=!0,r.getAddressNeighborhoods({city_id:e}).then(function(i){t.neighborhoods=i;var s=(A(e),C(n)?".neighborhood.add":".neighborhood."+n);$(s).select2("destroy"),$(s).empty(),w(s,null,!0),t.neighborhodSpinner=!1})),g=!0},t.checkCanDeliver=function(e){return t.checkAddressAvailability!==!0||!C(e.deliveryZoneId)};var I=void 0;t.openMapModal=function(e){I=d.openModal({animation:!1,backdrop:"static",ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/address-selector-modal.html",windowClass:"address-directive-modal-container",size:"lg"},{},t),I.opened.then(function(){n(function(){k(e)})})},t.showEditAddressForm=function(e){t.cancelAddAddress(),t.currentEditedAddress&&t.cancelEditAddress(t.currentEditedAddress),e.edited=!0,t.currentEditedAddress=e,r.getCities().then(function(n){t.cities=n,y(".city."+e.userAddressId,e.userAddressCityId)}),r.getAddressNeighborhoods({city_id:e.userAddressCityId}).then(function(n){t.neighborhoods=n,w(".neighborhood."+e.userAddressId,e,!1)})},t.cancelEditAddress=function(e){e.edited=!1,t.initialMap=!1,t.currentEditedAddress=void 0,$(".address-box."+e.userAddressId+" .select2").remove()},t.cancelAddAddress=function(){t.newAddress=!1,t.initialMap=!1,t.addNewAddressBtn=!0,t.newaddr={},g=!1,$(".new-address-level").removeClass("err-span"),$(".userAddressName").tooltip("hide")},t.editAddress=function(e,n){if(0==e.userAddressName.length)return i.showNotification("error","      "),!1;if(C(e.userAddressNeighborhoodId))return i.showNotification("error","        "),!1;if(C(e.userAddressCityId))return i.showNotification("error","         "),!1;if(0==e.userAddressComplete.length)return i.showNotification("error","    "),!1;var s=T(e.userAddressNeighborhoodId);e.userAddressPoint=s.regionMapCenter,C(h)||(e.userAddressPoint={latitude:h.getPosition().lat(),longitude:h.getPosition().lng()}),t.selectedCity=s.text,i.put(e,"/user-address/update-address",function(n){t.cancelEditAddress(e),S(),t.checkAddressAvailability&&(t.userAddress.selected=null)})},t.showAddressMap=function(e){if("string"==typeof e.userAddressPoint){var n=e.userAddressPoint.replace("POINT(","").replace(")","").trim().split(" ");e.regionMapCenter={latitude:n[0],longitude:n[1]}}t.addressMap=!0,t.openMapModal(e)},t.deleteAddress=function(e,n){confirm("     ")&&i.post({addressId:e},"/user-address/deleteAddress",function(e){e.data.status&&(S(),t.checkAddressAvailability&&(t.userAddress.selected=null))})},t.neighborhoodIdChanged=function(e,n){var i={regionMapCenter:{latitude:t.newLat,longitude:t.newLong}};C(e)||n===!0||(i=T(e),t.newLat=i.regionMapCenter?i.regionMapCenter.latitude:i.mapCenter.latitude,t.newLong=i.regionMapCenter?i.regionMapCenter.longitude:i.mapCenter.longitude),!t.addressMap&&t.initialMap&&(t.addressMap=!0,t.openMapModal(i)),t.initialMap=!0},t.closeMap=function(){t.addressMap=!1,t.newAddress&&(t.newLat=h.getPosition().lat(),t.newLong=h.getPosition().lng()),I&&I.close()},t.addAddress=function(){if(t.newAddress){if(C(t.newaddr.userAddressName)){i.showNotification("error","        "),$(".userAddressName").tooltip("show");var e=$(".new-address-level");return e.hasClass("err-span")?"":e.addClass("err-span"),!1}if(C(t.newaddr.userAddressCityId))return i.showNotification("error","         "),!1;if(C(t.newaddr.userAddressNeighborhoodId))return i.showNotification("error","        "),!1;if(C(t.newaddr.userAddressComplete))return i.showNotification("error","    "),!1;var n=T(t.newaddr.userAddressNeighborhoodId);try{t.newaddr.userAddressPoint={latitude:h.getPosition().lat(),longitude:h.getPosition().lng()}}catch(s){t.newaddr.userAddressPoint=n.regionMapCenter}t.selectedCity=n.text,i.post(t.newaddr,"/user-address/saveAddress",function(e){e.data.status&&(S(),t.newAddress=!1,t.addNewAddressBtn=!0,t.newaddr={},$(".new-address-level").removeClass("err-span"),$(".userAddressName").tooltip("hide"),h=null,f=null)})}else{t.currentEditedAddress&&t.cancelEditAddress(t.currentEditedAddress),t.newAddress=!0,t.addNewAddressBtn=!1,t.neighborhodSpinner=!0;var a=l.getCity();if(0!=a){var o={city_id:a.cityId};r.getCities().then(function(e){t.cities=e;var n=l.getCity();y(".city.add",n.cityId)}),t.checkAddressAvailability&&!C(t.restaurantId)&&(o.restaurantId=parseInt(t.restaurantId)),r.getAddressNeighborhoods(o).then(function(e){
t.neighborhoods=e,w(".neighborhood.add",null,!0)})}}},v()}]}}]),app.directive("rating",function(){return{restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/rating.html",scope:{stars:"="},controller:["$scope",function(e){var t=Math.floor(e.stars);e.rating=[];for(var n=0;n<5;n++)n>4-t?e.rating[n]={style:{width:"100%"}}:e.rating[n]={};var i=100*(0-e.stars);i=i>0&&i<=20?20:i>20&&i<=40?40:i>40&&i<=60?60:i>60&&i<=80?80:i>80&&i<=100?100:0,e.rating[5-t-1]={style:{width:i+"%"}}}]}}),app.directive("regexpattern",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){function s(e,t){return null==t||""===t||!r||e.test(t)?(i.$setValidity("pattern",!0),t):void i.$setValidity("pattern",!1)}var a,o=n.regexpattern,r=!0;o&&(o.match(/^\/(.*)\/$/)?(o=new RegExp(o.substr(1,o.length-2)),a=function(e){return s(o,e)}):a=function(t){var n=e.$eval(o);if(!n||!n.test)throw new Error("Expected "+o+" to be a RegExp but was "+n);return s(n,t)}),i.$formatters.push(a),i.$parsers.push(a),n.$observe("required",function(e){r=e,a(i.$viewValue)})}}}),app.directive("scrollOnClick",function(){return{restrict:"A",link:function(e,t){t.on("click",function(){$("html, body").animate({scrollTop:$("#basket").offset().top-60})})}}}),app.directive("spinnerLoader",function(){return{restrict:"E",templateUrl:"app/user/ngApp/templates/libsView/templates/directives/spinner-loader.html"}}),app.directive("textOverFlowHidden",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){e(function(){$(n);n.context.className+=" text-overflow-class",n.context.onmouseover=function(){}},0)}}}]),app.directive("restaurantTopMenu",["$interval","$timeout",function(e){return{templateUrl:"/app/user/ngApp/templates/views/restaurants/top_menu.html",replace:!0,controller:["$scope","$location","$window","$timeout",function(e,t,n,i){var s=function(){e.selectedMenuSection=e.restaurant.menuSections[0],setTimeout(function(){$(".owl-text").slick({dots:!1,infinite:!1,slidesToShow:4,rtl:!0,arrows:!0,accessibility:!0,slidesToScroll:1,prevArrow:"<span class='new-icon new-icon-arrow-right new-sticky-arrow'></span>",nextArrow:"<span class='new-icon new-icon-arrow-left new-sticky-arrow'></span>",variableWidth:!0,responsive:[{breakpoint:480,settings:{arrows:!0,slidesToShow:3,variableWidth:!1}}]});var t=$(".slick-slide");slickItemWidth=t.length*t.width(),$(".slick-list").width()>slickItemWidth?$(".slick-arrow").hide():$(".slick-arrow").show(),$(".smooth-fix").hcSticky({top:58,responsive:!0});var i=$("#top-menu"),s=i.outerHeight()+30,a=i.find("a"),o=a.map(function(){var e=$($(this).attr("href"));if(e.length)return e});angular.element(n).bind("scroll",function(){var t=$(this).scrollTop()+s+100,n=o.map(function(){if($(this).offset().top<t)return this});n=n[n.length-1];var i=n&&n.length?n[0].id:"";if(""!==i){var a=i.split("-");a[1]!=e.selectedMenuSection.id&&(e.selectedMenuSection={id:a[1]},e.$$phase||e.$apply())}})})};e.restaurant&&Object.keys(e.restaurant).length>1&&s(),e.$watch("restaurant",function(e,t){"undefined"!=typeof e&&e!=t&&s()}),e.menuSectionClick=function(e,t){e.preventDefault();var n="#section-"+t.id;$target=$(n),$targetOffsetTop=$target.offset().top-58-100-5,$("html, body").stop().animate({scrollTop:$targetOffsetTop},500,"swing",function(){})}}]}}]),app.directive("validEmail",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$parsers.unshift(function(e){if(0==e.length)return i.$setValidity("validEmail",!0),e;var t=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,n=t.test(e);return i.$setValidity("validEmail",n),n?e:void 0}),i.$formatters.unshift(function(e){if(0==e.length)return i.$setValidity("validEmail",!0),e;var t=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return i.$setValidity("validEmail",t.test(e)),e})}}}),app.directive("middleCampaign",["$rootScope","$state","$http","$cookies",function(e,t,n,i){return{templateUrl:"/app/user/ngApp/templates/views/home/middleCamapaign.html",scope:{data:"="},replace:!0,link:function(e,t,n){var i={};i.cookieName="hideCampaignHeader-";var s=function(){e.$watch("data",function(e,t){if(e)return i.checkStatus(),e})};s(),i.checkStatus=function(){0!=e.data.length?(e.visible=!0,this.addStyle()):e.visible=!1},i.addStyle=function(){var t="",n=0;$(document).width()<769?(t=e.data.data.bgImageR,n=200):(t=e.data.data.bgImage,n=300),this.style={"background-image":"url("+t+")","background-size":"cover","background-position":"center center",height:n},e.style=this.style}}}}]),app.directive("topCampaign",["$rootScope","$state","$http","$cookies","$timeout",function(e,t,n,i,s){return{templateUrl:"/app/user/ngApp/templates/views/home/topCampaign.html",scope:{data:"="},replace:!0,link:function(t,n,a){var o={};o.cookieName="hideCampaignHeader-";var r=function(e){if(e===!0){var t=angular.element("body");t.addClass("hasCampaign")}else{var t=angular.element("body");t.removeClass("hasCampaign")}},l=function(){o.checkStatus()};o.checkStatus=function(){0!=t.data.length?this.checkCookie(t.data.bannerId):(t.visible=!1,r(!1))},o.getCookie=function(e){return!!i.get(this.cookieName+e)},o.checkCookie=function(e){this.getCookie(e)?(t.visible=!1,r(!1)):(t.visible=!0,r(!0),this.addStyle())},o.addStyle=function(){0==t.data.type?(t.bannerType=0,o.style={"background-color":t.data.data.bgColor,color:t.data.data.textColor},this.changeSiteMainHeader("addMargin")):1==t.data.type&&(t.bannerType=1,o.style={width:"100%",position:"fixed",right:0,left:0,top:0,height:"56px","z-index":"100000",backgroundImage:'url("'+t.data.data.image+'")',"background-size":"cover","background-position":"center center"},this.changeSiteMainHeader("addConstantMargin")),t.style=o.style},o.changeSiteMainHeader=function(e){"addMargin"==e?s(function(){var e=0;0==t.data.type?e=$("div.top-campaign").css("height"):1==t.data.type&&(e=$("div[data='topBanner']").css("height")),$(".navigation-1").css("margin-top",e)},0):"removeMargin"==e?$(".navigation-1").css("margin-top",0):"addConstantMargin"==e&&$(".navigation-1").css("margin-top",56)},t.close=function(){i.put(o.cookieName+t.data.bannerId,1),t.visible=!1,r(!1),o.changeSiteMainHeader("removeMargin")},e.$on("$stateChangeSuccess",function(e,t,n,i,s){"app.homepage"!=t.name?o.changeSiteMainHeader("removeMargin"):o.checkStatus()}),l()}}}]),app.directive("mobileBasket",["$rootScope","$stateParams","Basket","$timeout","$anchorScroll","$window","$state","ResponsiveService","$location",function(e,t,n,i,s,a,o,r,l){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/views/basket/mobileBasket.html",link:function(t,s,a){var o={},l={},c={},d={},u={};t.isMobile=r.isMobile(),t.isTablet=r.isTablet(),t.isDesktop=r.isDesktop(),t.basketService=n;var p=s[0].firstElementChild,h=$(p),f=0;u.userBrowser=r.BrowserInfo,d.element=document.getElementById("basket-mobile"),d.fullScreenSupport=!1,d.isSupported=function(){if(this.element.requestFullscreen||this.element.msRequestFullscreen||this.element.mozRequestFullScreen||this.element.webkitRequestFullScreen)return this.fullScreenSupport=!0,this.fullScreenSupport},d.enterFullScreen=function(){this.element.requestFullScreen?this.element.requestFullScreen():this.element.msRequestFullscreen?this.element.msRequestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullScreen&&this.element.webkitRequestFullscreen()},d.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},l.finalHeight=function(){o.headerHeight=$(".mainnav").outerHeight(),o.headerHeightWithMargin=$(".mainnav").outerHeight(!0),o.basketHeaderHeight=h.find(".header").outerHeight(),o.orderInfoHeight=h.find(".basket-mobile-order-info").outerHeight(!0),o.buttonHeight=h.find("a.btn").outerHeight(),o.offsetFromTop=o.headerHeight+o.basketHeaderHeight,o.bodyHeight=window.innerHeight,o.margin=20,o.finalOrderHeight,o.bottomHeight=h.find(".additions").outerHeight(!0),o.finalOrderHeight=o.bodyHeight-(o.basketHeaderHeight+o.bottomHeight+o.margin),h.find(".basket-items-mobile").css({height:o.finalOrderHeight})},l.autoHeight=function(){h.find(".basket-items-mobile").css({height:"auto"})},$.fn.extend({animateCss:function(e){var t="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";return this.addClass("animated "+e).one(t,function(){$(this).removeClass("animated "+e)}),this}}),c.motionBasket=function(e,t){"add"==e?$("#basket-icons").animateCss(t):$("#basket-icons").animateCss(t)},c.motionOrderItemsOneByOne=function(){var e=this;this.items=h.find(".order-item"),this.itemsLength=this.items.length,this.first=0,this.delay=300,this.addMotion=function(){this.first<=this.itemsLength&&($(this.items[this.first]).animateCss("slideInRight").show(),$(this.items[this.first]).one("animationend",function(){e.first++,e.addMotion()}))},this.addMotion()},c.motionOrderItemsAtOnce=function(){this.items=h.find(".order-item"),this.itemsLength=this.items.length,this.items.animateCss("fadeInDown").show(),l.finalHeight()},t.$watch("basketService.basket.deliveryZonePrice",function(e,t){e!==t&&(0==e?i(function(){l.finalHeight()},50):i(function(){l.finalHeight()},50))}),$(window).resize(function(){i(function(){l.finalHeight()},100)}),e.$on("$stateChangeSuccess",function(){t.isOpen&&t.closeBasket()}),t.openBasket=function(e){e.preventDefault(),t.isOpen=!0,$(".crisp-client").hide().removeClass("visible-xs"),$("#basket-icons").removeClass("visible-xs"),h.find(".order-item").hide(),h.addClass("basket-visible"),f=$("body").scrollTop(),$("body").addClass("noScroll"),h.animateCss("slideInUp"),h.one("animationend",function(){c.motionOrderItemsAtOnce()}),h.find(".addToBasketBtn").show(),h.find(".additions").addClass("bottom-fixed-item"),l.finalHeight()},t.closeBasket=function(){t.isOpen=!1,l.autoHeight(),h.find(".addToBasketBtn").hide(),$(".crisp-client").show().addClass("visible-xs"),$("#basket-icons").addClass("visible-xs"),h.find(".additions").removeClass("bottom-fixed-item"),h.animateCss("bounceOutDown"),h.one("animationend",function(){h.removeClass("basket-visible")}),$("html,body").scrollTop(f),$("body").removeClass("noScroll")}}}}]),app.directive("commentsList",[function(){return{restrict:"E",replace:!0,scope:{comments:"=",restaurantId:"=",totalComment:"=",restaurantProfile:"="},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/comments/commentsList.html",controller:["$scope","$http",function(e,t){const n=10;var i,s,a=function(){s=2,e.moreCommentVisible=!0,o(s)};e.loadingComments=!1,i=e.totalComment,e.moreComment=function(){t({url:"/client-api/comment/commentPagination",method:"GET",params:{restaurantId:e.restaurantId,page:s}}).then(function(t){s++;var n=t.data.result.comments;0==n.length?e.moreCommentVisible=!1:(o(s),e.comments.push.apply(e.comments,n))})};var o=function(t){i-(t-1)*n<1&&(e.moreCommentVisible=!1)};a()}]}}]),app.directive("checkImage",[function(){var e=0;return{link:function(t,n,i){0===e&&(e=1,n[0].onerror=function(){n.attr("src","/app/image/avatar.png"),this.onerror=void 0})},restrict:"A"}}]),app.directive("headerOptions",["Users",function(e){return{scope:{},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/header-options.html",controller:["$scope","$timeout","ClientGateway","$state","$templateCache","$rootScope","Basket","ResponsiveService","ModalService","$window","$stateParams",function(t,n,i,s,a,o,r,l,c,d,u){t.isUserLoggedIn=!1,t.userId=0,t.currentUser=null,t.showLoading=!0,t.campaignVisible=!1,t.selectedCityName={str:""},t.selectedRegionName={str:""};var p;t.openAuthenticationModal=function(e){t.typeOfAuth=e,p=c.openModal({animation:!0,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"loginModalController",templateUrl:"/app/user/ngApp/templates/views/user/login-modal.html",windowClass:"login-modal-container"},{},t),p.result.then(function(e){!e||e.login!==!0&&e.register!==!0||d.location.reload()})},t.openBasketModal=function(){o.restaurantMenuActions.openBasketModal()},t.showMapModal=function(){o.listRestaurant.openMapModal()},t.showFilterModal=function(){o.listRestaurant.openFilterModal()},t.changeCityName=function(e){t.selectedCityName.str=e},t.changeRegionName=function(e){t.selectedRegionName.str=e};var h=function(e){return"app.restaurantsnew.discounted"===e||"app.restaurantsnew.index"===e},f=function(e){return"app.chain-restaurants.index"===e},g=function(e){var n="app.restaurantnew.show.menu"===e;return n&&(t.currentLocation=d.location.origin+s.href("app.restaurantnew.show.menu",{city:u.city,slug:u.slug})),n};t.showJustFilters=f(s.current.name),t.showSimpleSearch=h(s.current.name),t.mustOpenModal=g(s.current.name),t.$on("$stateChangeSuccess",function(e,n,i,a,o){t.showSimpleSearch=h(n.name),t.showJustFilters=f(n.name),t.mustOpenModal=g(s.current.name)});var m=l.isMobile(),v=l.isTablet();l.isDesktop();t.whileEditing={bool:!1},t.editLocation=function(){t.whileEditing.bool=!t.whileEditing.bool};var b=function(n){n=!!angular.isDefined(n)&&n,e.getId().then(function(i){t.showLoading=!1,i?e.getInfo(n).then(function(e){e.userFullName&&(t.isUserLoggedIn=!0),t.currentUser=e,t.currentUser&&t.currentUser.order&&0!=t.currentUser.order.length&&(t.cityName=t.currentUser.order[0].city,t.currentUser.orderCount=t.currentUser.order[0].orderItemCount,t.currentUser.restaurant=t.currentUser.order[0].restaurantId,t.currentUser.restaurantSlug=t.currentUser.order[0].restaurantSlug,(angular.isUndefined(t.currentUser.userCacheBalance)||null===t.currentUser.userCacheBalance)&&(t.currentUser.userCacheBalance=0))}):(t.isUserLoggedIn=!1,t.userId=0,t.currentUser=null)})};t.userId||b(),t.getHeaderTopAffixClass=function(){if("app.homepage"==s.current.name){var e=$(window).scrollTop();return e>60&&(t.showBackgroundHeader=!0,$(".mainnav").removeClass("affix-top")),"navigation-1"}return"navigation-2"},t.$on("headerReload",function(e,n){Object.keys(n).length>0?(t.cityName=n.data.city,t.currentUser.orderCount=n.data.totalCount,t.currentUser.restaurantSlug=n.data.slug):t.currentUser.isUserLoggedIn||(t.currentUser.isUserLoggedIn=!0,b(!0))}),t.logout=function(){e.logout().then(function(){b(),a.removeAll(),webengage.user.logout(),s.go("app.homepage",{},{reload:!0}),r.clear()})};var y=function(){$("[data-toggle='collapse']").click(function(){$("#collapse-main-nav").hasClass("in")||$(".toggle-arrow-target").removeClass("icon-arrow-down").addClass("icon-arrow-up")})},w=function(){$("[data-toggle='collapse']").click(function(){$("#collapse-main-nav").hasClass("in")?$(".toggle-arrow-target").removeClass("icon-arrow-up").addClass("icon-arrow-down"):$(".toggle-arrow-target").removeClass("icon-arrow-down").addClass("icon-arrow-up")})};m||v?y():w(),t.activeMenu={bool:!1},t.showMenu=function(e,n){void 0!==e?t.activeMenu.bool=e:t.activeMenu.bool=!t.activeMenu.bool},t.changeStateMenu=function(e){t.activeMenu.bool=!e},$("body").click(function(e){"navigationBar"!=e.target.id&&($(e.target).closest("#navigationBar").length||$(e.target).closest("[data-toggle='collapse']").length)})}]}}]),app.directive("affix",function(){return{restrict:"A",link:function(e,t,n){$(t).affix({offset:{top:n.affixTop}})}}}),app.directive("chosenRestaurant",["ClientGateway","RecommendedRestaurant","$timeout","$q","$filter","slickConfig",function(e,t,n,i,s,a){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/views/home/chosenRestaurant.html",link:function(e,i,o){e.chosenSetting=a.chosenRestaurants,e.chosenLoading=!0,e.chosenRestaurantsForView=[];e.getLink=function(e){},e.$on("UserLocation::cityChanged",function(e,t){l()});var r=function(t){e.chosenRestaurantsForView=[]};t.getChosenRestaurant().then(function(t){var i=t;e.chosenRestaurants=t,e.chosenRestaurantsForView=s("orderBy")(i,"rate"),n(function(){e.chosenRestaurantsLoaded=!0}),e.chosenLoading=!1});var l=function(){e.chosenLoading=!0,e.chosenRestaurantsLoaded=!1,r(),n(function(){return t.getChosenRestaurant().then(function(t){var n=t;e.chosenRestaurants=t,e.chosenRestaurantsForView=s("orderBy")(n,"rate"),e.chosenRestaurantsLoaded=!0,e.chosenLoading=!1})})}}}}]),app.directive("discountedRestaurant",["ClientGateway","RecommendedRestaurant","$timeout","$q","slickConfig",function(e,t,n,i,s){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/views/home/discountedRestaurant.html",link:function(e,i,a){e.discountedLoading=!0,e.showMore=!1;var o=function(t,n,i,s){var a=n.options.slidesToShow,o=n.slideCount;a<o?e.showMore=!0:e.showMore=!1};e.restaurants=[],e.settings=s.discountedRestaurants,e.settings.event={init:o};e.$on("UserLocation::cityChanged",function(e,t){l()});var r=function(){e.restaurants=[]};t.getDiscountedRestaurant().then(function(t){e.restaurants=t,e.discountedRestaurants=t,n(function(){e.restaurantsLoaded=!0}),e.discountedLoading=!1});var l=function(){e.discountedLoading=!0,e.restaurantsLoaded=!1,r(),n(function(){return t.getDiscountedRestaurant().then(function(t){e.restaurants=t,e.discountedRestaurants=t,e.restaurantsLoaded=!0,e.discountedLoading=!1})["catch"](function(){e.discountedRestaurants=[],e.discountedLoading=!1})})}}}}]),app.directive("homeHeader",[function(){return{link:function(e,t,n){},templateUrl:"/app/user/ngApp/templates/views/home/homeHeader.html",restrict:"E",replace:!1}}]),app.directive("mapModalDirective",function(){return{controller:"mapMarkerController"}}),app.directive("registerRestaurant",["$timeout",function(e){return{restrict:"E",templateUrl:"/app/user/ngApp/templates/views/home/register-restaurant.html",replace:!0}}]),app.directive("resultBox",[function(){return{link:function(e,t,n){var i=function(){return void 0===e.showMe?void angular.element(document).off("click","body",i):(e.showMe.closed&&e.showMe.closed.call(e.showMe),void e.$apply(function(){e.showMe.b=!1}))};void 0===e.keyToSearch&&(e.keyToSearch="id"),void 0===e.keyToShow&&(e.keyToShow="name");var s=function(){angular.forEach(e.items,function(e,t){e.selected=!1})};e.select=function(t,n){void 0!==e.selectedClass&&(s(),t.selected=!0),void 0!==e.onSelectItem&&e.onSelectItem({item:t}),t.html===!0&&n.preventDefault()},angular.element(document).on("click","body",i)},templateUrl:"/app/user/ngApp/templates/views/home/resultBox.html",replace:!1,restrict:"E",scope:{isLoading:"=",showMe:"=",parentClass:"@",ulClass:"@",selectedClass:"@",items:"=",onSelectItem:"&",initValue:"=",keyToSearch:"@",keyToShow:"@"}}}]),app.factory("resultBoxStack",["$rootScope",function(e){return this.openedResultBoxes={},this.open=function(e){this.openedResultBoxes[e]=!0},this.close=function(e){this.openedResultBoxes[e]=!1},this.closeAll=function(e){var t=[];for(var n in this.openedResultBoxes){var i=this.openedResultBoxes[n];i&&n!==e&&(t.push(n),this.openedResultBoxes[n]=!1)}return t},this}]),app.directive("defaultNode",["$sce","$state","$stateParams",function(e,t,n){return{link:function(e,n,i){void 0===e.item.link||null===e.item.link?e.item.realLink="#":e.item.realLink=t.href(e.item.link.name,e.item.link.params,{inherit:!1})},restrict:"E",templateUrl:"/app/user/ngApp/templates/views/home/defaultNode.html"}}]),app.directive("htmlNode",["$sce","$state","$stateParams",function(e,t,n){return{link:function(n,i,s){void 0===n.item.link||null===n.item.link?n.item.realLink="#":n.item.realLink=t.href(n.item.link.name,n.item.link.params,{inherit:!1}),n.item.html===!0&&(n.item.rawHtml=e.trustAsHtml(n.item.name))},restrict:"E",templateUrl:"/app/user/ngApp/templates/views/home/htmlNode.html"}}]),app.directive("searchSection",function(){return{templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/search.html",controller:"NeighborhoodSelectController"}}),app.directive("simpleSearchRegion",["$rootScope","$stateParams","$state","resultBoxStack","Regions","UserLocation","Users",function(e,t,n,i,s,a,o){return{link:function(o,r,l){var c=function(e){for(var t=i.closeAll(e),n=0;n<t.length,key=t[n];n++)void 0!==o[key]&&(o[key].b=!1)};o.selectRegion={b:!1,index:-1,regionLoading:0,max:2,closed:function(){this.b===!1&&(this.placeholder=void 0,this.index=-1)},getSelected:function(){if(this.index!==-1&&void 0!==this.placeholder)return o.regionsUi[this.index]},changeSelected:function(){if(o.regionSearchedString.str="",1==o.regionsUi[this.index].html){var e=o.regionsUi[this.index].address;this.placeholder=(e.userAddressName?e.userAddressName:"...")+" | "+e.cityName+" , "+e.neighborhoodName+" , "+e.userAddressComplete}else this.placeholder=o.regionsUi[this.index][void 0===o.regionsUi[this.index].keyToShow?"name":o.regionsUi[this.index].keyToShow]},increaseLoading:function(){return this.regionLoading+1>this.max?void(this.regionLoading=this.max):void this.regionLoading++},decreaseLoading:function(){return this.regionLoading-1<0?void(this.regionLoading=0):void this.regionLoading--}},o.selectCity={b:!1},o.addresses={},o.onSelectCity=function(e){c("selectCity"),o.selectCity.b=!o.selectCity.b,o.selectCity.b===!0?i.open("selectCity"):i.close("selectCity"),e.stopPropagation()},o.onSelectRegionClick=function(e){if(c("selectRegion"),o.selectRegion.b=!0,i.open("selectRegion"),o.selectedRegion&&o.regionSearchedString.str===o.selectedRegion.name){var t=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,h,!0);o.selectRegion.count=t.count,o.regionsUi=t.regionsUi}e.stopPropagation()};var d=function(e){o.isSpinnerShow=!0,o.selectRegion.increaseLoading.call(o.selectRegion),s.getNeighborhoods(e).then(function(e){a.removeUserLocation(),f=e,h=_.keyBy(f,"id");var t=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,h,!0);o.regionsUi=t.regionsUi,o.selectRegion.count=t.count,o.isSpinnerShow=!1,o.selectRegion.decreaseLoading.call(o.selectRegion)})},u=function(e){angular.forEach(o.cities,function(t){t.regionId==e&&(o.citySlug=t.regionSlug,a.setDefaultCity(t))})};o.doSearch=function(){p()},o.searchInRegions=function(){if(""===o.regionSearchedString.str){var e=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,h,!0);o.regionsUi=e.regionsUi,o.selectRegion.count=e.count}else o.selectRegion.increaseLoading.call(o.selectRegion),s.getNeighborhoodBySlugApi(o.selectedCityId,o.regionSearchedString.str,h).then(function(e){o.selectRegion.decreaseLoading.call(o.selectRegion),o.regionsUi=e,o.selectRegion.count=o.regionsUi.length})};var p=function(){n.transitionTo("app.restaurantnew.show.menu",{city:t.city,slug:t.slug},{reload:!0,inherit:!1,notify:!0}).then(function(){o.$close()})};o.changeRegion=function(e){if(e&&"string"==typeof e){o.emptySelect=!1,o.selectedRegion=h[e],o.regionSearchedString.str=o.selectedRegion.name,o.selectedCenter=o.selectedRegion.mapCenter.latitude+","+o.selectedRegion.mapCenter.longitude,u(o.selectedCityId);var t=[o.selectedCityName.str,o.selectedRegion.name,o.selectedRegion.id,o.selectedRegion.slug,o.selectedRegion.mapCenter.latitude,o.selectedRegion.mapCenter.longitude,o.selectedCityId,o.citySlug];a.setUserLocation(t,"select",!1),a.setUserRegionPoint(o.selectedCenter),a.setUserCity(o.selectedCityId,"select")}else a.removeUserLocation(),o.regionSearchedString.str="",o.selectedRegion=void 0;initialized=!0},o.goToLocation=function(e){a.goToLocation(e),p()},o.shareLocation=function(){var e=function(e){var t=[e.coords.latitude,e.coords.longitude];s.setValueInCookie(t),p()},t=function(e){var t=[35.715298,51.404343];s.setValueInCookie(t),p()};o.isSpinnerShow=!0,navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0})},o.onSelectRegion=function(e){!e||"all-restaurants"!==e.id&&"around-me"!==e.id&&"address"!==e.id?e&&(o.regionIdentifier=e.id.toString(),o.changeRegion(o.regionIdentifier.toString())):"around-me"===e.id?o.shareLocation():"address"===e.id?o.goToLocation(e.address):(o.regionSearchedString.str="",o.selectedRegion=void 0)},o.choiceCity=function(e){e&&o.setSelectedCity(e.regionId,e.regionName)},o.setSelectedCity=function(e,t){o.selectedCityId=e,o.selectedCityName.str=t,d(e),u(e),o.regionIdentifier=null,o.changeRegion(o.regionIdentifier)};var h={},f={};o.startLoading=function(){o.regionSearchedString={str:""},o.selectedCityName={str:e.citiesDict[t.city].regionName},o.selectedCityId=e.citiesDict[t.city].id,o.citySlug=t.city,o.cities=e.citiesDict;var n=function(e){var t=s.regionsReadyForUi(e,o.selectedCityName.str,o.citySlug,h,!0);o.selectRegion.count=t.count,o.regionsUi=t.regionsUi;var n=a.getUserLocation();o.regionIdentifier=n.regionId||o.regionIdentifier,o.changeRegion(o.regionIdentifier)};o.cities[t.city].neighborhoods&&(f=o.cities[t.city].neighborhoods,h=_.keyBy(f,"id"),_.isEmpty(a._getUserAddresses())?a.getUserAddresses().then(function(e){o.addresses=e.addresses,n(e.addresses)}):(o.addresses=a._getUserAddresses(),n(o.addresses)))},o.regionSearchModal=!0,o.startLoading()},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/simple-search.html",restrict:"E"}}]),app.directive("simpleSearch",["$rootScope","$stateParams","$state","resultBoxStack","Regions","UserLocation","Users",function(e,t,n,i,s,a,o){return{link:function(o,r,l){var c=function(e){for(var t=i.closeAll(e),n=0;n<t.length,key=t[n];n++)void 0!==o[key]&&(o[key].b=!1)};o.selectRegion={regionLoading:0,max:2,b:!1,index:-1,closed:function(){this.b===!1&&(this.placeholder=void 0,this.index=-1)},getSelected:function(){if(this.index!==-1&&void 0!==this.placeholder)return o.regionsUi[this.index]},changeSelected:function(){if(o.regionSearchedString.str="",1==o.regionsUi[this.index].html){var e=o.regionsUi[this.index].address;this.placeholder=(e.userAddressName?e.userAddressName:"...")+" | "+e.cityName+" , "+e.neighborhoodName+" , "+e.userAddressComplete}else this.placeholder=o.regionsUi[this.index][void 0===o.regionsUi[this.index].keyToShow?"name":o.regionsUi[this.index].keyToShow]},increaseLoading:function(){return this.regionLoading+1>this.max?void(this.regionLoading=this.max):void this.regionLoading++},decreaseLoading:function(){return this.regionLoading-1<0?void(this.regionLoading=0):void this.regionLoading--}},o.selectCity={b:!1},o.addresses={},o.onSelectCity=function(e){c("selectCity"),o.selectCity.b=!o.selectCity.b,o.selectCity.b===!0?i.open("selectCity"):i.close("selectCity"),e.stopPropagation()},o.onSelectRegionClick=function(e){if(c("selectRegion"),o.selectRegion.b=!0,i.open("selectRegion"),o.selectedRegion&&o.regionSearchedString.str===o.selectedRegion.name){var t=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,p);o.selectRegion.count=t.count,o.regionsUi=t.regionsUi}e.stopPropagation()};var d=function(e){o.isSpinnerShow=!0,o.selectRegion.increaseLoading.call(o.selectRegion),s.getNeighborhoods(e).then(function(e){a.removeUserLocation(),h=e,p=_.keyBy(h,"id");var t=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,p);o.regionsUi=t.regionsUi,o.selectRegion.count=t.count,o.isSpinnerShow=!1,o.selectRegion.decreaseLoading.call(o.selectRegion)})},u=function(e){angular.forEach(o.cities,function(t){t.regionId==e&&(o.citySlug=t.regionSlug,a.setDefaultCity(t))})};o.doSearch=function(){n.transitionTo("app.restaurantsnew.index",{city:o.citySlug,slug:void 0!==o.selectedRegion&&void 0!==o.selectedRegion.slug?o.selectedRegion.slug:void 0,point:void 0},{location:!0,inherit:!1,relative:n.$current,notify:!0})},o.searchInRegions=function(){if(""===o.regionSearchedString.str){var e=s.regionsReadyForUi(o.addresses,o.selectedCityName.str,o.citySlug,p);o.regionsUi=e.regionsUi,o.selectRegion.count=e.count}else o.selectRegion.increaseLoading.call(o.selectRegion),s.getNeighborhoodBySlugApi(o.selectedCityId,o.regionSearchedString.str,p).then(function(e){o.selectRegion.decreaseLoading.call(o.selectRegion),o.selectRegion.b=!0,o.regionsUi=e,o.selectRegion.count=o.regionsUi.length})},o.changeRegion=function(e,t){if(e&&"string"==typeof e){o.emptySelect=!1,o.selectedRegion=p[e],o.regionSearchedString.str=o.selectedRegion.name,o.selectedCenter=o.selectedRegion.mapCenter.latitude+","+o.selectedRegion.mapCenter.longitude,u(o.selectedCityId);var n=[o.selectedCityName.str,o.selectedRegion.name,o.selectedRegion.id,o.selectedRegion.slug,o.selectedRegion.mapCenter.latitude,o.selectedRegion.mapCenter.longitude,o.selectedCityId,o.citySlug];a.setUserLocation(n,"select",!1),t!==!1&&a.setUserRegionPoint(o.selectedCenter),a.setUserCity(o.selectedCityId,"select")}else a.removeUserLocation(),o.regionSearchedString.str="",o.selectedRegion=void 0;initialized=!0},o.goToLocation=function(e){var t=a.goToLocation(e);n.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug,point:t})},o.shareLocation=function(){var e=function(e){var t=[e.coords.latitude,e.coords.longitude];s.setValueInCookie(t,"search")},t=function(e){var t=[35.715298,51.404343];s.setValueInCookie(t,"search")};o.isSpinnerShow=!0,navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0})},o.onSelectRegion=function(e){!e||"all-restaurants"!==e.id&&"around-me"!==e.id&&"address"!==e.id?e&&(o.editLocation(),o.regionIdentifier=e.id.toString(),o.changeRegion(o.regionIdentifier.toString()),n.transitionTo("app.restaurantsnew.index",{city:o.citySlug,slug:o.selectedRegion.slug,point:void 0},{location:!0,inherit:!0,relative:n.$current,notify:!0})):"around-me"===e.id?(o.shareLocation(),o.editLocation()):"address"===e.id?(o.goToLocation(e.address),o.editLocation()):(o.regionSearchedString.str="",o.selectedRegion=void 0,o.editLocation())},o.choiceCity=function(e){e&&o.setSelectedCity(e.regionId,e.regionName)},o.setSelectedCity=function(e,t){o.selectedCityId=e,o.selectedCityName.str=t,d(e),u(e),o.regionIdentifier=null,o.changeRegion(o.regionIdentifier)};var p={},h={};o.startLoading=function(){o.regionSearchedString={str:""},o.selectedCityName={str:e.citiesDict[t.city].regionName},o.selectedCityId=e.citiesDict[t.city].id,o.citySlug=t.city,o.cities=e.citiesDict;var n=function(e){var n=s.regionsReadyForUi(e,o.selectedCityName.str,o.citySlug,p);o.selectRegion.count=n.count,o.regionsUi=n.regionsUi,void 0!==t.slug&&(o.regionIdentifier=s.findIdFromSlug(h,t.slug),o.changeRegion(o.regionIdentifier,!1))};o.cities[t.city].neighborhoods&&(h=o.cities[t.city].neighborhoods,p=_.keyBy(h,"id"),_.isEmpty(a._getUserAddresses())?a.getUserAddresses().then(function(e){o.addresses=e.addresses,n(e.addresses)}):(o.addresses=a._getUserAddresses(),n(o.addresses)))},""!==t.slug&&void 0!==t.slug||o.startLoading(),o.$on("changeRegionFromMap",function(e,t){o.startLoading()})},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/simple-search.html",restrict:"E"}}]),app.directive("specialRestaurants",["ClientGateway","RecommendedRestaurant","$timeout","$q","slickConfig",function(e,t,n,i,s){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/views/home/specialRestaurants.html",link:function(e,n,i){var a=[],o=n;o.addClass("low-opacity"),o.slick(),t.getSpecialnRestaurant().then(function(t){a=t,e.specialRestaurants=t,r(a)});var r=function(e){var t=0,n="",i="",s="",a=[];for(t;t<e.length;t++)l(e[t].landingUrl)?0==e[t].isChain?(s="<div class='item'> <a href='"+e[t].restaurantCitySlug+"/"+e[t].slug+"/'> <div class='chain-item box'><div class='res-header' style='background: url(\""+e[t].cover+"\");''></div><img src='"+e[t].profile+"' class='res-logo img-responsive center-block'><div class='caption'> <p>"+e[t].name+"</p> </div> </div> </a> </div>",a.push(s)):(i="<div class='item'> <a href='chain/"+e[t].slug+"'> <div class='chain-item box'><div class='res-header' style='background: url(\""+e[t].cover+"\");''></div><img src='"+e[t].profile+"' class='res-logo img-responsive center-block'><div class='caption'> <p>"+e[t].name+"</p> </div> </div> </a> </div>",a.push(i)):(n="<div class='item'> <a href='"+e[t].landingUrl+"/'> <div class='chain-item box'><div class='res-header' style='background: url(\""+e[t].cover+"\");''></div><img src='"+e[t].profile+"' class='res-logo img-responsive center-block'><div class='caption'> <p>"+e[t].name+"</p> </div> </div> </a> </div>",
a.push(n));angular.forEach(a,function(e,t){o.slick("slickAdd",e)}),o.slick("unslick"),c()},l=function(e){return angular.isUndefined(e)||null===e||0==e.length},c=function(){o.slick(s.specialRestaurants),e.specialRestaurants.length>0?($(".special-section").css("opacity","1"),$("#special-restaurant-loading").fadeOut(500,function(){o.animate({opacity:1},1e3)})):$(".special-section").css("display","none")}}}}]),app.directive("subscriber",["ClientGateway","$state",function(e,t){return{restrict:"E",scope:!0,templateUrl:"/app/user/ngApp/templates/views/home/subscriber.html",controller:["$scope","toaster",function(n,i){n.isSubscriberSpinnerShow=!1,n.subscriber={cityList:[],cityName:"",cityId:0,email:""},n.setSubscribeCity=function(e){n.subscriber.cityId=e.regionId,n.subscriber.cityName=e.regionName},n.sendSubscribeForm=function(){n.isSubscriberSpinnerShow=!0,"undefined"!=typeof n.subscriber.email&&n.subscriber.cityId>0&&e.post({email:n.subscriber.email,cityId:n.subscriber.cityId},"/subscribers/email",function(e){n.isSubscriberSpinnerShow=!1},function(){n.isSubscriberSpinnerShow=!1})},e.get({},"/region/cityList",function(e){n.subscriber.cityList=e.data.result,0!=n.subscriber.cityList.length?(n.subscriber.cityId=n.subscriber.cityList[0].regionId,n.subscriber.cityName=n.subscriber.cityList[0].regionName):(n.subscriber.cityId=2,n.subscriber.cityName="")});var s=["app.profile.index","app.profile.orderlist","app.profile.address","app.profile.wallet","app.profile.transaction","app.profile.review","app.restaurantnew.show.menu","app.pay","app.404","app.register","app.login"],a=function(){s.indexOf(t.current.name)<0?n.subscribtion=!0:n.subscribtion=!1};n.$on("subscribeLoad",function(){a()}),a()}]}}]),app.directive("userAddressDirective",["ClientGateway","$rootScope","Users","UserLocation","ModalService",function(e,t,n,i,s){return{controller:["$scope","$cookies","$state","$timeout",function(e,t,a,o){var r;e.addresses={};var l=function(t){_.isEmpty(i._getUserAddresses())?i.getUserAddresses().then(function(n){e.addresses=n.addresses,e.isUserLoggedIn=n.isLogin,e.addressCount=Object.keys(n.addresses).length,t&&e.showModalOrRedirect()}):(e.addresses=i._getUserAddresses(),e.addressCount=Object.keys(e.addresses).length,e.isUserLoggedIn=n.isLogin,t&&e.showModalOrRedirect())};l(),e.showModalOrRedirect=function(){e.isUserLoggedIn?$("#address-modal").modal("show"):(r=s.openModal({animation:!0,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"loginModalController",templateUrl:"/app/user/ngApp/templates/views/user/login-modal.html",windowClass:"login-modal-container"},{},e),r.result.then(function(e){!e||e.login!==!0&&e.register!==!0||l(!0)}))},e.closeModal=function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),$("body").css("padding-right","")},e.saveLocation=function(e){$("#address-modal").modal("hide").on("hidden.bs.modal",function(t){var n=($(t.relatedTarget),i.goToLocation(e));a.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug,point:n})})}}]}}]),app.directive("price",function(){return{restrict:"E",replace:!0,scope:{amount:"@"},template:"<span><span>{{amount | number | faText}}</span>  <span></span></span>"}}),app.directive("profileAccountDirective",function(){return{controller:["$scope","ClientGateway","$rootScope",function(e,t,n){var i=function(){e.errorMsg=!1,e.increaseError=!1,e.gatewayForm=!1,e.increaseGiftError=!1,e.acceptConditions=!0,e.isSpinnerShow=!1,e.isGiftSpinnerShow=!1,t.get({},"/user/userBalance",function(t){e.cacheBalance=t.data.result}),t.get({},"/user/bankGetways",function(t){e.bankgateways=t.data.result,e.bankgateways&&(e.bankid=e.bankgateways[0].bankGatewayId)})},s=function(t,n){e=e||angular.element(document).scope(),n||e.$$phase?window.location=t:($location.path(t),e.$apply())};e.calculateCacheBalance=function(e){return angular.isUndefined(e)||null===e?0:e},e.showGatewayForm=function(){return!e.price||e.price<1e3||!/^\d+$/.test(e.price)?(e.increaseError=!0,void(e.gatewayForm=!1)):(e.increaseError=!1,void(e.gatewayForm=!0))},e.increasePriceGateway=function(n){return!e.price||e.price<1e3?void(e.increaseError=!0):(e.increaseError=!1,e.acceptConditions?(e.isSpinnerShow=!0,void t.post({payAmount:n,gateway:!0,bankgate:e.bankid,acceptConditions:e.acceptConditions},"/payment/increasePay",function(t){if(t.data.status){var n=t.data.result;if("post"==n.type){e.isSpinnerShow=!1;var i="";angular.forEach(t.data.result.fields,function(e,t){i+="<input type='hidden' name='"+t+"' value='"+e+"' > "});var a=$("<form />").attr({action:t.data.result.action,method:"POST"}).append(i);$("body").append(a),a.submit()}else"get"==n.type&&(e.isSpinnerShow=!1,s(n.url,!0))}else e.isSpinnerShow=!1},function(){e.isSpinnerShow=!1})):void t.showNotification("error","      "))},e.changeBankGatway=function(t){e.bankid=t},e.increasePriceGift=function(){return e.gift?(e.increaseGiftError=!1,e.isGiftSpinnerShow=!0,void t.post({campaignCode:e.gift},"/payment/increaseByGift",function(t){e.isGiftSpinnerShow=!1,t.data.status?n.$broadcast("headerReload",{}):e.errorMsg=!0},function(){e.isGiftSpinnerShow=!1})):(e.increaseGiftError=!0,!1)},i()}]}}),app.directive("addressDirective",["MAPSTYLE",function(e){return{scope:{enableSubmit:"=?",newAddress:"=?",checkAddressAvailability:"=",restaurantId:"=",restaurantName:"=?",userAddress:"=",addressStatus:"="},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/addresses.html",controller:["$scope","$timeout","ClientGateway","$element","$filter","$cookies","Regions","UserLocation","$rootScope","ModalService","$window",function(t,n,i,s,a,o,r,l,c,d,u){t.currentOrigin=u.location.origin;var p,h,f,g=!1,m=null,v=function(){if(t.enableSubmit=!1,t.addressMap=!1,t.newaddr={},t.newAddress=!1,t.addresses=!1,t.cities=[],t.mapAddress=[],t.addNewAddressBtn=!0,t.neighborhodSpinner=!1,t.showLoading=!0,$('[data-toggle="tooltip"]').tooltip(),l.isExists()){var e=l.getPoint();t.newLat=e.lat,t.newLong=e["long"]}else t.newLat=35.728759,t.newLong=51.416},b=function(e,t){var n=/\u064A/g,i=//g,s=e.match(i);s&&(e=e.replace(n,""));var a=/\u0643/g,o=//g,r=e.match(o);return r&&(e=e.replace(a,"")),t.search(e)>=0},y=function(e,i){$.fn.select2.amd.require(["select2/compat/matcher"],function(n){$(e).select2({dir:"rtl",language:"fa",allowClear:!1,data:t.cities,escapeMarkup:function(e){return e},initSelection:function(e,t){t({id:0,text:"     ..."})},placeholder:"     ..."},!0)}),n(function(){$(e).val(i).trigger("change")},20)},w=function(e,i,s){if($.fn.select2.amd.require(["select2/compat/matcher"],function(n){$(e).select2({dir:"rtl",language:"fa",matcher:n(b),allowClear:!0,data:_.map(t.neighborhoods,function(e){return{id:e.id,text:e.name}}),escapeMarkup:function(e){return e},initSelection:function(e,t){t({id:0,text:"     ..."})},placeholder:"     ..."},!0)}),s){var a=l.getUserLocation();a&&(t.initialMap=!1,n(function(){$(e).val(a.regionId).trigger("change"),t.neighborhodSpinner=!1},20))}else T(i)?(t.initialMap=!1,n(function(){$(e).val(null).trigger("change")},20)):(t.initialMap=!0,n(function(){$(e).val(parseInt(i.userAddressNeighborhoodId)).trigger("change")},20))},x=function(e){var n={center:0,inBound:!1};southWest=new google.maps.LatLng(t.restaurantDeliveryPolygon[3][0],t.restaurantDeliveryPolygon[3][1]),northEast=new google.maps.LatLng(t.restaurantDeliveryPolygon[1][0],t.restaurantDeliveryPolygon[1][1]);var i=new google.maps.LatLngBounds(southWest,northEast),s=i.contains(e);return n.center=i.getCenter(),n.inBound=s,n},k=function(e,s,a,o){var r=!1,l="              .";t.checkAddressAvailability&&!x(s).inBound&&(s=x(s).center,r=!0,T(t.restaurantName)||(l=t.restaurantName+"          . "),i.showNotification("warning",l)),r&&a.setPosition(s);var c=s.lat()+","+s.lng(),d={region_center:c};t.newAddress?(t.newLat=a.getPosition().lat(),t.newLong=a.getPosition().lng()):(t.currentEditedAddress.latitude=a.getPosition().lat(),t.currentEditedAddress.longitude=a.getPosition().lng()),i.get(d,"/user-address/findNeighborhood",function(r){var l=r.data.result.regionInfo;T(l)?(i.showNotification("warning","       .      ."),h.setPosition(s)):(selected=A(l.regionId,l.cityId),T(selected)||0==Object.getOwnPropertyNames(selected).length?(i.showNotification("warning","       .      ."),e.setContent('<div style="margin-right: 15px; font-family: \'iransans\'; overflow: hidden;" class="text-right">       .      .</div>')):(e.setContent('<div style="margin-right: 15px; font-family: \'iransans\'; overflow: hidden;" class="text-right">'+l.regionName+"</div>"),e.open(p,a),n(function(){var e=t.newAddress?".neighborhood.add":".neighborhood."+o,n=t.newAddress?".city.add":".city."+o;$(e).val(l.regionId).trigger("change"),$(n).val(l.cityId).trigger("change")},50)))})},S=function(n){var i=t.newLat,s=t.newLong;"undefined"!=typeof n.mapCenter&&(i=n.mapCenter.latitude,s=n.mapCenter.longitude),f=new google.maps.LatLng(parseFloat(i),parseFloat(s));var a=n.hasOwnProperty("name")?n.name:n.hasOwnProperty("neighborhoodName")?n.neighborhoodName:"            ",o=new google.maps.InfoWindow({content:'<div  style="margin-right: 25px; overflow: hidden; font-family: \'iransans\';" class="text-right"><i class="icon icon-information"  style="color: red;"></i>'+a+"</div>"});if(p=new google.maps.Map(document.getElementById("addressMapWrapper"),{center:f,minZoom:8,maxZoom:20,zoom:14,zoomControl:!0,scaleControl:!1,disableDoubleClickZoom:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,streetViewControl:!1,styles:e}),h=new google.maps.Marker({position:f,map:p,draggable:!0,icon:{url:"/app/user/assets/img/base/pin-user.png",scaledSize:new google.maps.Size(45,45)}}),o.open(p,h),t.checkAddressAvailability){var r=[{lat:parseFloat(t.restaurantDeliveryPolygon[0][0]),lng:parseFloat(t.restaurantDeliveryPolygon[0][1])},{lat:parseFloat(t.restaurantDeliveryPolygon[1][0]),lng:parseFloat(t.restaurantDeliveryPolygon[1][1])},{lat:parseFloat(t.restaurantDeliveryPolygon[2][0]),lng:parseFloat(t.restaurantDeliveryPolygon[2][1])},{lat:parseFloat(t.restaurantDeliveryPolygon[3][0]),lng:parseFloat(t.restaurantDeliveryPolygon[3][1])}];new google.maps.Polygon({paths:r,strokeColor:"#FF0000",strokeOpacity:.4,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.15,map:p})}google.maps.event.addListener(p,"idle",function(){!this.get("dragging")&&this.get("oldCenter")&&this.get("oldCenter")!==this.getCenter()&&this.getCenter().lat()>0&&t.addressMap&&(h.setPosition(this.getCenter()),k(o,this.getCenter(),h,n.userAddressId)),this.get("dragging")||this.set("oldCenter",this.getCenter())}),google.maps.event.addListener(p,"dragstart",function(){this.set("dragging",!0)}),google.maps.event.addListener(p,"drag",function(){h.setPosition(this.getCenter())}),google.maps.event.addListener(p,"dragend",function(){this.set("dragging",!1),google.maps.event.trigger(this,"idle",{})}),google.maps.event.addListener(h,"dragend",function(){t.$apply(function(){p.setCenter(h.getPosition()),k(o,h.getPosition(),h,n.userAddressId)})}.bind(this))},C=function(){if(t.checkAddressAvailability&&"undefined"!=typeof t.restaurantId)var e={restaurantId:parseInt(t.restaurantId)};i.get(e?e:{},"/user-address",function(e){t.showLoading=!1,t.userAddresses=e.data.result,t.restaurantDeliveryPolygon=e.data.restaurantDeliveryPolygon,t.APP_KEY=e.data.APP_KEY,Object.size=function(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n};var n=Object.size(t.userAddresses);t.sizeAddress=n,null!=m&&m(),m=t.$watch("userAddress.selected",function(e,n){T(e)||T(t.userAddresses[e])||c.$broadcast("UserAddressSelected::Updated",{userAddress:t.userAddresses[e]})},!0);var i=!1;angular.forEach(t.userAddresses,function(e,n){if(t.userAddresses[n].edited=!1,"string"==typeof e.userAddressPoint){var s=e.userAddressPoint.replace("POINT(","").replace(")","").trim().split(" ");e.latitude=s[0],e.longitude=s[1]}t.checkAddressAvailability&&!i&&!t.userAddress.selected&&t.checkCanDeliver(e)&&(t.userAddress.selected=e.userAddressId)})})};t.checkAddressAvailability?t.$watch("restaurantId",function(e){null!=e&&C()}):C();var T=function(e){return angular.isUndefined(e)||null===e},A=function(e,n){var i={};return T(n)||r.getAddressNeighborhoods({city_id:n}).then(function(n){t.neighborhoods=n;var s=t.newAddress?".neighborhood.add":".neighborhood."+e;$(s).select2("destroy"),$(s).empty(),w(s,{userAddressNeighborhoodId:i.id})}),angular.forEach(t.neighborhoods,function(t){t.id==e&&(i=t)}),i},I=function(e){var n={latitude:35.715298,longitude:51.404343};return angular.forEach(t.cities,function(t){t.id==e&&(n=t.mapCenter)}),n};t.setSelectedCity=function(e,n,i){!g&&l.isExists()&&T(i)||(t.neighborhodSpinner=!0,r.getAddressNeighborhoods({city_id:e}).then(function(i){t.neighborhoods=i;var s=(I(e),T(n)?".neighborhood.add":".neighborhood."+n);$(s).select2("destroy"),$(s).empty(),w(s,null,!0),t.neighborhodSpinner=!1})),g=!0},t.checkCanDeliver=function(e){return t.checkAddressAvailability!==!0||!T(e.deliveryZoneId)},t.showEditAddressForm=function(e){t.cancelAddAddress(),t.currentEditedAddress&&t.cancelEditAddress(t.currentEditedAddress),e.edited=!0,t.currentEditedAddress=e,r.getCities().then(function(n){t.cities=n,y(".city."+e.userAddressId,e.userAddressCityId)}),r.getAddressNeighborhoods({city_id:e.userAddressCityId}).then(function(n){t.neighborhoods=n,w(".neighborhood."+e.userAddressId,e,!1)})},t.cancelEditAddress=function(e){e.edited=!1,t.initialMap=!1,t.currentEditedAddress=void 0,$(".address-box."+e.userAddressId+" .select2").remove()},t.cancelAddAddress=function(){t.newAddress=!1,t.initialMap=!1,t.addNewAddressBtn=!0,t.newaddr={},g=!1,$(".new-address-level").removeClass("err-span"),$(".userAddressName").tooltip("hide")},t.editAddress=function(e,n){if(0==e.userAddressName.length)return i.showNotification("error","      "),!1;if(T(e.userAddressNeighborhoodId))return i.showNotification("error","        "),!1;if(T(e.userAddressCityId))return i.showNotification("error","         "),!1;if(0==e.userAddressComplete.length)return i.showNotification("error","    "),!1;var s=A(e.userAddressNeighborhoodId);e.userAddressPoint=s.mapCenter,T(h)||(e.userAddressPoint={latitude:h.getPosition().lat(),longitude:h.getPosition().lng()}),t.selectedCity=s.text,i.put(e,"/user-address/update-address",function(n){t.cancelEditAddress(e),C(),t.checkAddressAvailability&&(t.userAddress.selected=null)})},t.showAddressMap=function(e){if("string"==typeof e.userAddressPoint){var n=e.userAddressPoint.replace("POINT(","").replace(")","").trim().split(" ");e.mapCenter={latitude:n[0],longitude:n[1]}}t.addressMap=!0,t.openMapModal(e)},t.deleteAddress=function(e,n){confirm("     ")&&i.post({addressId:e},"/user-address/deleteAddress",function(e){e.data.status&&(C(),t.checkAddressAvailability&&(t.userAddress.selected=null))})};var D=void 0;t.openMapModal=function(e){D=d.openModal({animation:!1,backdrop:"static",ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/address-selector-modal.html",windowClass:"address-directive-modal-container",size:"lg"},{},t),D.opened.then(function(){n(function(){S(e)})})},t.neighborhoodIdChanged=function(e,n){var i={regionMapCenter:{latitude:t.newLat,longitude:t.newLong}};T(e)||n===!0||(i=A(e),t.newLat=i.mapCenter.latitude,t.newLong=i.mapCenter.longitude),!t.addressMap&&t.initialMap&&(t.addressMap=!0,t.openMapModal(i)),t.initialMap=!0},t.closeMap=function(){t.addressMap=!1,t.newAddress&&(t.newLat=h.getPosition().lat(),t.newLong=h.getPosition().lng()),D&&D.close()},t.addAddress=function(){if(t.newAddress){if(T(t.newaddr.userAddressName)){i.showNotification("error","        "),$(".userAddressName").tooltip("show");var e=$(".new-address-level");return e.hasClass("err-span")?"":e.addClass("err-span"),!1}if(T(t.newaddr.userAddressCityId))return i.showNotification("error","         "),!1;if(T(t.newaddr.userAddressNeighborhoodId))return i.showNotification("error","        "),!1;if(T(t.newaddr.userAddressComplete))return i.showNotification("error","    "),!1;var n=A(t.newaddr.userAddressNeighborhoodId);try{t.newaddr.userAddressPoint={latitude:h.getPosition().lat(),longitude:h.getPosition().lng()}}catch(s){t.newaddr.userAddressPoint=n.mapCenter}t.selectedCity=n.text,i.post(t.newaddr,"/user-address/saveAddress",function(e){e.data.status&&(C(),t.newAddress=!1,t.addNewAddressBtn=!0,t.newaddr={},$(".new-address-level").removeClass("err-span"),$(".userAddressName").tooltip("hide"),h=null,f=null)})}else{t.currentEditedAddress&&t.cancelEditAddress(t.currentEditedAddress),t.newAddress=!0,t.addNewAddressBtn=!1,t.neighborhodSpinner=!0;var a=l.getCity();a&&(varData={city_id:a.cityId},r.getCities().then(function(e){t.cities=e,y(".city.add",a.cityId)}),t.checkAddressAvailability&&!T(t.restaurantId)&&(varData.restaurantId=parseInt(t.restaurantId)),r.getAddressNeighborhoods(varData).then(function(e){t.neighborhoods=e,w(".neighborhood.add",null,!0),t.neighborhodSpinner=!1}))}},v()}]}}]),app.directive("profileBase",function(){return{templateUrl:"/app/user/ngApp/templates/views/profile/profile_base.html",controller:["$state","$scope","Users","$templateCache","$rootScope",function(e,t,n,i,s){t.link=e.current.name;var a=function(e){e=!!angular.isDefined(e)&&e,n.getId().then(function(i){i?n.getInfo(e).then(function(e){e.userFullName&&(t.isUserLoggedIn=!0),t.currentUser=e,t.currentUser&&t.currentUser.order&&0!=t.currentUser.order.length&&(t.currentUser.orderCount=t.currentUser.order[0].orderItemCount,t.currentUser.restaurant=t.currentUser.order[0].restaurantId,t.currentUser.restaurantSlug=t.currentUser.order[0].restaurantSlug,(angular.isUndefined(t.currentUser.userCacheBalance)||null===t.currentUser.userCacheBalance)&&(t.currentUser.userCacheBalance=0))}):(t.isUserLoggedIn=!1,t.userId=0,t.currentUser=null)})};t.logout=function(){n.logout().then(function(){a(),i.removeAll(),e.go("app.homepage",{},{reload:!0})})};var o="";switch(e.current.url){case"/orderlist":o=t.name="  ";break;case"/address":o=t.name="  ";break;case"/wallet":o=t.name="  ";break;case"/transaction":o=t.name="  ";break;case"/review":o=t.name=" ";break;case"":o=t.name="  "}s.$broadcast("PageTitle::Update",{title:" - "+o})}]}}),app.directive("commentDirective",function(){return{controller:["$scope","ClientGateway","$stateParams","$state",function(e,t,n,i){var s=!1;e.showLoading=!0,e.currentPage=void 0===n.page||""===n.page?1:n.page;var a=function(){t.get({page:e.currentPage},"/comment/commentByUser",function(t){e.showLoading=!1,e.comments=t.data.result,e.totalItems=t.data.pagination.total,e.currentPage=t.data.pagination.currentPage,s=!0})};e.onChangePage=function(){e.showLoading=!0,s!==!1&&(i.go("app.profile.review",{page:e.currentPage},{notify:!1}),a())},a()}]}}),app.directive("forgotPasswordDirective",function(){return{controller:["$scope","ClientGateway","toaster",function(e,t,n){var i=function(){e.email=null,e.showForgetSpinner=!1,e.additionalField=!1,e.mobileInput=!1,e.emailInput=!1};e.forgotPassword=function(){return e.identification?(e.showForgetSpinner=!0,e.additionIdentification?t.post({identification:e.identification,additionIdentification:e.additionIdentification},"/user/forgot-password",function(e){},function(){}):t.post({identification:e.identification},"/user/forgot-password",function(t){!t.data.status&&t.data.requireField&&(e.additionalField=!0,s(t.data.requireField))},function(){}),void(e.showForgetSpinner=!1)):(n.pop("error","","          "),!1)};var s=function(t){switch(t){case"userMobileNumber":e.mobileInput=!0;break;case"userEmail":e.emailInput=!0}};i()}]}}),app.directive("infoDirective",function(){return{controller:["$scope","$rootScope","$state","$timeout","ClientGateway","Users","Upload",function(e,t,n,i,s,a,o){e.fullName="",e.username="",e.mobileNumber="",e.userAvatar="",userInformationForm.$valid=!1,e.showLoading=!0,passwordConfirmationForm.$valid=!1,e.isSpinnerShow=!1,e.isPasswordSpinnerShow=!1,a.getInfo(!0).then(function(n){e.showLoading=!1,t.$broadcast("headerReload",{}),e.fullName=n.userFullName,e.username=n.userEmail,e.mobileNumber=n.userMobileNumber,e.userMobileIsVerified=n.userMobileIsVerified,e.userAvatar=n.avatar;var a=!1,r=!1,l=!1;e.information={initialFullName:e.fullName,initialUsername:e.username,initialMobileNumber:e.mobileNumber},e.submitted=!1,e.upload=function(t,n){e.f=t,e.errFile=n&&n[0],t&&t.length&&(t.$error||o.upload({url:"/client-api/user/updateAvatar",data:{file:t}}).then(function(t){i(function(){e.userAvatar=t.data.result.url})},function(t){t.status>0&&(e.errorMsg=t.status+": "+t.data)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))}))},e.uniqueEmail=function(t){if(e.username!=e.information.initialUsername){var n=e.username;"undefined"!=typeof n&&s.post({userEmail:n},"/user/uniqueEmail",function(t){var n=t.data.result;e.userInformationForm.username.$setValidity("uniqueEmail",n),n&&(a=!0)})}},e.fullnameChanged=function(){r=!0},e.uniqueMobile=function(){"undefined"!=typeof e.mobileNumber&&s.post({mobileNumber:e.mobileNumber},"/user/uniqueMobile",function(t){var n=t.data.result;e.userInformationForm.mobileno.$setValidity("uniqueMobile",n),n&&(l=!0)})},e.updateInformationForm=function(){e.submitted=!0,e.isSpinnerShow=!0;var t={userFullName:e.fullName,userMobileNumber:e.mobileNumber,userEmail:e.username};s.put(t,"/user/update",function(t){e.isSpinnerShow=!1,e.submitted=!1},function(){e.isSpinnerShow=!1})},e.passwordConfirmationForm=function(){var t={password:e.userPassword,password_confirmation:e.userConfirmpassword};e.isPasswordSpinnerShow=!0,s.post(t,"/user/change-Password",function(t){e.isPasswordSpinnerShow=!1,t.status&&(e.userPassword=null,e.userConfirmpassword=null)},function(){e.isPasswordSpinnerShow=!1})}})}]}}),app.directive("profileOrderDirective",function(){return{controller:["$scope","$state","$rootScope","ClientGateway","UserLocation","$stateParams",function(e,t,n,i,s,a){e.OrderDetail=!1,e.showLoading=!0;var o=!1;e.currentPage=void 0===a.page||""===a.page?1:a.page,e.toggle=function(t,n){e.orders[t].OrderDetail=!e.orders[t].OrderDetail,$(n.target).toggleClass("icon-arrow-up icon-arrow-down")},e.priceItem=function(e){var t=parseInt(e.orderItemPrice);return e.options&&angular.forEach(e.options,function(e,n){t+=parseInt(e.orderOptionPrice)}),t},e.reorder=function(s,a){return e.showLoading=!0,1!=a?(e.showLoading=!1,!1):void(s&&i.get({order_id:s},"/order/reorder",function(i){if(i.data.status){e.showLoading=!1;var s=i.data.result;n.$broadcast("headerReload",{},{reload:!0}),t.go("app.restaurantnew.show.menu",{city:s.citySlug,slug:s.restaurantSlug})}else e.showLoading=!1,n.$broadcast("headerReload",{},{reload:!0})}))};var r=function(){e.loading=!0,i.get({page:e.currentPage},"/order",function(t){e.showLoading=!1,e.orders=t.data.result,e.totalItems=t.data.pagination.total,e.currentPage=t.data.pagination.currentPage,o=!0})};r(),e.onChangePage=function(){e.showLoading=!0,o!==!1&&(t.go("app.profile.orderlist",{page:e.currentPage},{notify:!1}),r())}}]}}),app.directive("pagination",function(){return{templateUrl:"/app/user/ngApp/templates/views/profile/pagination.html",scope:{paginationData:"=",action:"@"},controller:["$scope","$timeout","$rootScope","ClientGateway",function(e,t,n,s){e.prevPageUrl=null,e.nextPageUrl=null,e.pages=[],e.currentPage=1;var a=function(){return window.Math.ceil(e.paginationData.total/e.paginationData.per_page)},o=function(){var t=a();for(i=1;i<=t;i++)e.pages.push(t-i+1)},r=function(){e.action.startsWith("/")||(e.action="/"+e.action),n.$broadcast("paginationStartLoading"),s.get({page:e.currentPage},e.action,function(t){if(t.data.status){var i=t.data.pagination;"undefined"==typeof i&&(i=t.data.result.pagination),e.nextPageUrl=i.next_page_url,e.prevPageUrl=i.prev_page_url,n.$broadcast("paginationReload",{response:t})}})};t(function(){"undefined"!=typeof e.paginationData&&(e.totalItemsCount=e.paginationData.total,e.nextPageUrl=e.paginationData.next_page_url,e.prevPageUrl=e.paginationData.prev_page_url,o())},250),e.goToPage=function(t){e.currentPage=t,r()},e.nextPage=function(){return!(e.currentPage+1>a())&&(e.currentPage++,void r())},e.prevPage=function(){return e.currentPage-1!=0&&(e.currentPage--,void r())}}]}}),app.directive("resetPasswordDirective",function(){return{controller:["$scope","ClientGateway","toaster","$stateParams","$state","$rootScope",function(e,t,n,i,s,a){e.userNewPassword="",e.userNewPasswordConfirmed="",e.showResetSpinner=!1,e.changePassword=function(){if(!i.token)return n.pop("error","","       .       ."),!1;var s={password:e.userNewPassword,password_confirmation:e.userNewPasswordConfirmed,token:i.token};e.showResetSpinner=!0,t.post(s,"/user/save-new-password",function(t){t.data.status?e.showResetSpinner=!1:e.showResetSpinner=!1},function(){e.showResetSpinner=!1})}}]}}),app.directive("profileSidebarContent",function(){return{templateUrl:"/app/user/ngApp/templates/views/profile/profile_sidebar.html"}}),app.directive("transactionDirective",function(){return{controller:["$scope","ClientGateway","$stateParams","$state",function(e,t,n,i){var s=!1;e.showLoading=!0,e.currentPage=void 0===n.page||""===n.page?1:n.page;var a=function(){t.get({page:e.currentPage},"/payment/paymentsList",function(t){e.showLoading=!1,e.reports=t.data.result,e.totalItems=t.data.pagination.total,e.currentPage=t.data.pagination.currentPage,s=!0})};e.onChangePage=function(){e.showLoading=!0,s!==!1&&(i.go("app.profile.transaction",{page:e.currentPage},{notify:!1}),a())},a()}]}}),app.directive("profileImageDirective",function(){return{controller:["$scope","$http","$timeout","$compile","Upload",function(e,t,n,i,s){e.uploadPic=function(t){e.formUpload=!0,null!=t&&e.upload(t)},e.upload=function(t){e.uploadPercent=0,t&&t.length&&(t.$error||s.upload({url:"/api/v1.0/users/users/uploadProfile",data:{user_id:e.userData.user_id,file:t}}).progress(function(t){var n=parseInt(100*t.loaded/t.total);e.uploadPercent=n}).success(function(t,i,s,a){n(function(){e.log="file: "+a.data.file.name+", Response: "+JSON.stringify(t)+"\n"+e.log,e.userData.profile_image=t.result.url,n(function(){e.uploadPercent=0},500)})}))}}]}}),app.directive("profileWalletDirective",function(){return{controller:function(e,t){e.errorMsg=!1,t.get({},"/user/userBalance",function(t){e.cacheBalance=t.data.result,console.log(e.cacheBalance)}),e.increasePrice=function(n,i){i?t.get({price:n,gateway:!0,bankgate:1,orederId:0},"payment/increasePay",function(e){var t=e.data.result;console.log(t)}):t.get({price:n,campaginCode:2},"payment/increasePay",function(t){var n=t.data.result;""==n&&(e.errorMsg=!0)})}}}}),app.controller("filterSearchModal",["$scope","data","$rootScope","RestaurantList","$stateParams","$state",function(e,t,n,i,s,a){e.sort={},e.sort.newest={bool:1===parseInt(s.newest),val:parseInt(s.newest)},e.sort.deliveryTime={bool:1===parseInt(s.deliveryTime),val:parseInt(s.deliveryTime)},e.sort.rating={bool:1===parseInt(s.rating),val:parseInt(s.rating)},e.sort.financialCategory={bool:1===parseInt(s.financialCategory),val:parseInt(s.financialCategory)},e.sort.likes={bool:parseInt(s.likes),val:parseInt(s.likes)},e.isDiscount={value:isNaN(parseInt(s.discount))?void 0:1,bool:1===parseInt(s.discount)},e.selectedTab={val:1},e.changeSelectedTab=function(t){e.selectedTab.val=t},e.selectedFilterType={val:1},e.changeSelectedFilterType=function(t){e.selectedFilterType.val=t,1===t?e.selectedArry=e.arrFoodTypes:e.selectedArry=e.arrRestaurantTypes},e.tags=t.tags,e.selectedTags=[];var o=function(){e.arrRestaurantTypes=i.constructRestaurantType(e.tags,e.restaurantTypes),e.arrFoodTypes=i.constructFoodTypes(e.tags,e.foodTypes),i.checkedByName(s.tags,e.arrRestaurantTypes),i.checkedByName(s.tags,e.arrFoodTypes),e.selectedTags=void 0===s.tags?[]:angular.isArray(s.tags)?s.tags:[s.tags]};o(),e.selectedArry=e.arrFoodTypes;var r=function(t){e.selectedTags.push(t)},l=function(t){var n=e.selectedTags.indexOf(t);n!==-1&&e.selectedTags.splice(n,1)};e.changeSort=function(t){e.sort.newest={bool:!1,val:0},e.sort.deliveryTime={bool:!1,val:0},e.sort.rating={bool:!1,val:0},e.sort.financialCategory={bool:!1,val:0},e.sort.likes={bool:!1,val:0},1===e.sort[t].val?(e.sort[t].bool=!1,e.sort[t].val=void 0):(e.sort[t].bool=!0,e.sort[t].val=1)},e.changeRestaurantTypes=function(e){var t=e.name+"-"+e.id;e.checked===!0?r(t):l(t)},e.changeFoodTypes=function(e){var t=e.name+"-"+e.id;e.checked===!0?r(t):l(t)},e.changeTypes=function(t){1===e.selectedFilterType.val?e.changeFoodTypes(t):e.changeRestaurantTypes(t)},e.changeisDiscount=function(){e.isDiscount.bool?e.isDiscount.value=1:e.isDiscount.value=void 0},e.goToFilters=function(){var t={hybrid:{tags:e.selectedTags,discount:e.isDiscount.value}},n={tags:e.selectedTags,discount:e.isDiscount.value};angular.forEach(e.sort,function(e,i){t.hybrid[i]=1===e.val?1:void 0,n[i]=t.hybrid[i]}),a.transitionTo(a.current.name,n,{location:!0,inherit:!0,relative:a.$current,notify:!1}).then(function(){e.update(t).then(function(t){e.$close()})})},e.removeFilters=function(){e.update("reset").then(function(t){e.$close()})}}]),app.directive("filterSection",["$state","$stateParams","$timeout","RestaurantList",function(e,t,n,i){return{link:function(s,a,o){var r=function(){s.searchString={str:void 0===t.query?"":t.query},s.freeDelivery={bool:!(void 0===t.freedelivery)},s.isDiscount={value:isNaN(parseInt(t.discount))?void 0:1,bool:1===parseInt(t.discount)}};r(),s.newest={bool:parseInt(t.newest)},s.deliveryTime={bool:parseInt(t.deliveryTime)},s.rating={bool:parseInt(t.rating)},s.financialCategory={bool:parseInt(t.financialCategory)},s.likes={bool:parseInt(t.likes)},s.changeView=function(e){s.gridView.bool=e};var l=function(){n(function(){$("#filters-content").hcSticky({top:70,bottomEnd:160,wrapperClassName:"fixed-side-sticky",offResolutions:[-992],responsive:!0})})};s.$watch("tags",function(){r(),c(),l()}),s.changeSort=function(e){s.newest={bool:void 0},s.deliveryTime={bool:void 0},s.rating={bool:void 0},s.financialCategory={bool:void 0},s.likes={bool:void 0},1===s[e].bool?s[e].bool=void 0:s[e].bool=1;var t={};t.newest=void 0,t.deliveryTime=void 0,t.rating=void 0,t.financialCategory=void 0,t.likes=void 0,t[e]=s[e].bool;var n={};n[e]=s[e].bool,p(n,t)},s.removeFilters=function(){s.update({obj:"reset"}).then(function(e){s.tags=e,c()})},s.limitToRestaunratTypes=3,s.limitToFoodTypes=3;var c=function(){s.arrRestaurantTypes=i.constructRestaurantType(s.tags,s.restaurantTypes),s.arrFoodTypes=i.constructFoodTypes(s.tags,s.foodTypes),i.checkedByName(t.tags,s.arrRestaurantTypes),i.checkedByName(t.tags,s.arrFoodTypes)};c();var d=function(e){var n=[];return void 0!==t.tags&&(n=angular.isArray(t.tags)?t.tags:[t.tags]),n.push(e),n},u=function(e){var n=[];void 0!==t.tags&&(n=angular.isArray(t.tags)?t.tags:[t.tags]);var i=n.indexOf(e);return i!==-1&&n.splice(i,1),n};s.changeRestaurantTypes=function(e){var t=e.name+"-"+e.id;p(e.checked===!0?{tags:d(t)}:{tags:u(t)})},s.changeFoodTypes=function(e){var t=e.name+"-"+e.id;p(e.checked===!0?{tags:d(t)
}:{tags:u(t)})},s.showAllRestaurantTypes=function(){3===s.limitToRestaunratTypes?s.limitToRestaunratTypes=s.arrRestaurantTypes.length:s.limitToRestaunratTypes=3,l()},s.showAllFoodTypes=function(){3===s.limitToFoodTypes?s.limitToFoodTypes=s.arrFoodTypes.length:s.limitToFoodTypes=3,l()};var p=function(t,n){var i=t;void 0!==n&&(i=n),e.transitionTo(e.current.name,i,{location:!0,inherit:!0,relative:e.$current,notify:!1}).then(function(){s.update({obj:t}).then(function(e){s.tags=e,c()})})};s.searchNewString=function(){p({query:s.searchString.str})},s.changeFreeDelivery=function(){p({freedelivery:s.freeDelivery.bool})},s.changeisDiscount=function(){s.isDiscount.bool?s.isDiscount.value=1:s.isDiscount.value=void 0,p({discount:s.isDiscount.value})}},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/filterSection.html",restrict:"E",replace:!0,scope:{tags:"=",restaurantTypes:"=",foodTypes:"=",update:"&",gridView:"="}}}]),app.controller("mapSearchModal",["$scope","$timeout","$rootScope","$stateParams","$state","resultBoxStack","data","Regions","UserLocation","MAPSTYLE",function(e,t,n,i,s,a,o,r,l,c){function d(){return e.point.lat+","+e.point["long"]}function u(){return{latitude:e.point.lat,longitude:e.point["long"],center:d()}}function p(){var t=f.getCenter();e.point.lat=t.lat(),e.point["long"]=t.lng()}e.data=o,e.point=e.data.point,e.isMobile=e.data.mobile;var h=!0,f=void 0;e.mapDisable=!1,e.pinAdded=!1;var g=function(t){return l.setUserRegionPoint(u().center),e.update(t,e.point)};e.close=function(t){e.$close({region:e.selectedRegion})};var m=function(e,t){f=new google.maps.Map(document.getElementById(e),{center:t,styles:c,minZoom:8,maxZoom:20,zoom:16,disableDoubleClickZoom:!0,fullscreenControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!0,streetViewControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,rotateControl:!1})},v=function(){google.maps.event.addListener(f,"tilesloaded",function(){e.pinAdded||($("<div/>").addClass("centerMarker user-marker").appendTo(f.getDiv()),e.pinAdded=!0),e.$apply(function(){e.showInformation=!0})}),google.maps.event.addListener(f,"idle",function(){h===!0?h=!1:(p(),g({point:u().center}))})};if(e.point){var b=new google.maps.LatLng(e.point.lat,e.point["long"]);t(function(){m("GmapModal",b),v()})}else{var b=new google.maps.LatLng(35.715298,51.404343);e.mapDisable=!0,t(function(){m("GmapModal",b)})}var y={},w={};if(e.isMobile===!0){var x=function(t){for(var n=a.closeAll(t),i=0;i<n.length,key=n[i];i++)void 0!==e[key]&&(e[key].b=!1)};e.selectRegion={b:!1,index:-1,regionLoading:0,max:2,closed:function(){this.b===!1&&(this.placeholder=void 0,this.index=-1)},getSelected:function(){if(this.index!==-1&&void 0!==this.placeholder)return e.regionsUi[this.index]},changeSelected:function(){if(e.regionSearchedString.str="",1==e.regionsUi[this.index].html){var t=e.regionsUi[this.index].address;this.placeholder=(t.userAddressName?t.userAddressName:"...")+" | "+t.cityName+" , "+t.neighborhoodName+" , "+t.userAddressComplete}else this.placeholder=e.regionsUi[this.index][void 0===e.regionsUi[this.index].keyToShow?"name":e.regionsUi[this.index].keyToShow]},increaseLoading:function(){return this.regionLoading+1>this.max?void(this.regionLoading=this.max):void this.regionLoading++},decreaseLoading:function(){return this.regionLoading-1<0?void(this.regionLoading=0):void this.regionLoading--}},e.selectCity={b:!1},e.onSelectRegionClick=function(t){if(x("selectRegion"),e.selectRegion.b=!0,a.open("selectRegion"),e.selectedRegion&&e.regionSearchedString.str===e.selectedRegion.name){var n=r.regionsReadyForUi(e.addresses,e.selectedCityName,e.citySlug,y);e.selectRegion.count=n.count,e.regionsUi=n.regionsUi}t.stopPropagation()};var k=function(t){e.isSpinnerShow=!0,e.selectRegion.increaseLoading.call(e.selectRegion),r.getNeighborhoods(t).then(function(t){l.removeUserLocation(),w=t,y=_.keyBy(w,"id");var n=r.regionsReadyForUi(e.addresses,e.selectedCityName,e.citySlug,y);e.regionsUi=n.regionsUi,e.selectRegion.count=n.count,e.isSpinnerShow=!1,e.selectRegion.decreaseLoading.call(e.selectRegion)})},S=function(t){angular.forEach(e.cities,function(n){n.regionId==t&&(e.citySlug=n.regionSlug,l.setDefaultCity(n))})};e.doSearch=function(){void 0!==e.selectedRegion&&void 0!==e.selectedRegion.slug?s.transitionTo("app.restaurantsnew.index",{city:e.citySlug,slug:e.selectedRegion.slug},{location:!0,inherit:!0,relative:s.$current,notify:!0}):s.transitionTo("app.restaurantsnew.index",{city:e.citySlug},{location:!0,inherit:!0,relative:s.$current,notify:!0})},e.searchInRegions=function(){if(""===e.regionSearchedString.str){var t=r.regionsReadyForUi(e.addresses,e.selectedCityName,e.citySlug,y);e.regionsUi=t.regionsUi,e.selectRegion.count=t.count}else e.selectRegion.increaseLoading.call(e.selectRegion),r.getNeighborhoodBySlugApi(e.selectedCityId,e.regionSearchedString.str,y).then(function(t){e.selectRegion.decreaseLoading.call(e.selectRegion),e.regionsUi=t,e.selectRegion.count=e.regionsUi.length})},e.changeRegion=function(t,n){if(t&&"string"==typeof t){e.emptySelect=!1,e.selectedRegion=y[t],e.regionSearchedString.str=e.selectedRegion.name,e.selectedCenter=e.selectedRegion.mapCenter.latitude+","+e.selectedRegion.mapCenter.longitude,S(e.selectedCityId);var i=[e.selectedCityName,e.selectedRegion.name,e.selectedRegion.id,e.selectedRegion.slug,e.selectedRegion.mapCenter.latitude,e.selectedRegion.mapCenter.longitude,e.selectedCityId,e.citySlug];l.setUserLocation(i,"select",!1),l.setUserCity(e.selectedCityId,"select"),n!==!1?(e.point={lat:e.selectedRegion.mapCenter.latitude,"long":e.selectedRegion.mapCenter.longitude},f.setCenter(new google.maps.LatLng(e.point.lat,e.point["long"])),g({point:u().center}),v(),e.mapDisable=!1):l.setUserRegionPoint(e.selectedCenter)}else l.removeUserLocation(),e.regionSearchedString.str="",e.selectedRegion=void 0;initialized=!0},e.goToLocation=function(e){var t=l.goToLocation(e);s.go("app.restaurantsnew.index",{city:e.citySlug,slug:e.neighborhoodSlug,point:t})},e.shareLocation=function(){var t=function(e){var t=[e.coords.latitude,e.coords.longitude];r.setValueInCookie(t,"search")},n=function(e){var t=[35.715298,51.404343];r.setValueInCookie(t,"search")};e.isSpinnerShow=!0,navigator.geolocation&&navigator.geolocation.getCurrentPosition(t,n,{enableHighAccuracy:!0})},e.onSelectRegion=function(t){!t||"all-restaurants"!==t.id&&"around-me"!==t.id&&"address"!==t.id?t&&(e.regionIdentifier=t.id.toString(),e.changeRegion(e.regionIdentifier.toString())):"around-me"===t.id?e.shareLocation():"address"===t.id?e.goToLocation(t.address):(e.regionSearchedString.str="",e.selectedRegion=void 0)},e.choiceCity=function(t){t&&(e.setSelectedCity(t.regionId,t.regionName),e.mapDisable=!0)},e.setSelectedCity=function(t,n){e.selectedCityId=t,e.selectedCityName=n,k(t),S(t),e.regionIdentifier=null,e.changeRegion(e.regionIdentifier),function(e){g({city:e}).then(function(){s.transitionTo("app.restaurantsnew.index",{city:e,slug:void 0},{location:!0,inherit:!0,relative:s.$current,notify:!1}).then(function(){})})}(e.citySlug)},e.onSelectCity=function(t){x("selectCity"),e.selectCity.b=!e.selectCity.b,e.selectCity.b===!0?a.open("selectCity"):a.close("selectCity"),t.stopPropagation()},e.cities=n.citiesDict,e.selectedCityName=n.citiesDict[i.city].regionName,e.selectedCityId=n.citiesDict[i.city].id,e.citySlug=i.city,e.regionSearchedString={str:""};var C=function(t){var n=r.regionsReadyForUi(t,e.selectedCityName,e.citySlug,y);e.selectRegion.count=n.count,e.regionsUi=n.regionsUi,void 0!==i.slug&&(e.regionIdentifier=r.findIdFromSlug(w,i.slug),e.changeRegion(e.regionIdentifier,!1))};e.cities[i.city].neighborhoods&&(w=e.cities[i.city].neighborhoods,y=_.keyBy(w,"id"),_.isEmpty(l._getUserAddresses())?l.getUserAddresses().then(function(t){e.addresses=t.addresses,C(t.addresses)}):(e.addresses=l._getUserAddresses(),C(e.addresses)))}}]),app.directive("mapSearchSection",["$timeout","$rootScope","$state","$stateParams","ModalService","UserLocation","MAPSTYLE",function(e,t,n,i,s,a,o){return{link:function(t,n,i){function r(){return t.point.lat+","+t.point["long"]}function l(){var e=u.getCenter();t.point.lat=e.lat(),t.point["long"]=e.lng()}function c(){return{latitude:t.point.lat,longitude:t.point["long"],center:r()}}var d=!1,u=void 0,p=!1;t.pinAdded=!1,t.showInformation=!1,t.openModalForSelecting=function(){var e=s.openModal({animation:!1,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",controller:"mapSearchModal",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/mapSearchModal.html",windowClass:"map-search-modal-container"},{point:t.point},t);e.closed.then(function(){t.afterCloseModal()})},t.afterCloseModal=function(){p=!0,u.setCenter(new google.maps.LatLng(t.point.lat,t.point["long"]))};var h=function(e){a.setUserRegionPoint(c().center),t.update(e)};e(function(){var e=new google.maps.LatLng(t.point.lat,t.point["long"]),n=o;u=new google.maps.Map(document.getElementById("Gmap"),{styles:n,center:e,minZoom:8,maxZoom:20,zoom:16,disableDoubleClickZoom:!0,fullscreenControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!0,streetViewControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,rotateControl:!1}),google.maps.event.addListener(u,"tilesloaded",function(){t.pinAdded||($("<div/>").addClass("centerMarker user-marker").appendTo(u.getDiv()),t.pinAdded=!0),t.$apply(function(){t.showInformation=!0})}),google.maps.event.addListener(u,"idle",function(){return p===!0?void(p=!1):void(d?(l(),h({point:c().center})):(d=!0,h({point:c().center})))})})},restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/mapSearchSection.html"}}]),app.directive("overflowScroll",["$timeout","$window",function(e,t){return{link:function(n,i,s){var a=function(){var e=angular.element("."+n.parentElement);if(e){var t=e.height(),i=n.exceptElement.split(","),s=0;angular.forEach(i,function(e,t){var n=angular.element("."+e);n&&(s+=n.outerHeight(!0))});var a=angular.element("."+n.elementToScrollable);a.css("max-height",t-s)}};e(function(){a()}),angular.element(t).bind("resize",function(){a()})},restrict:"A",scope:{parentElement:"@",exceptElement:"@",elementToScrollable:"@"}}}]),app.directive("restaurantImageHolder",[function(){return{link:function(e,t,n){},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-image-holder.html",scope:{restaurantSalePercentage:"=",profile:"=",restaurantName:"="}}}]),app.directive("restaurant",function(){return{restrict:"E",replace:!0,scope:{restaurant:"=",inMethod:"&",city:"=",gridView:"=",loading:"=",index:"="},controller:["$scope","$rootScope","UserLocation","$element","$window",function(e,t,n,i){e.userLocation=n,e.getNumber=function(e){return new Array(e)},e.initialized=!0,e.citySlug=e.city,e.isUndefinedOrNullOrFalse=function(e){return angular.isUndefined(e)||null===e||0==e}}],templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant.html"}}),app.directive("restaurantHeader",["ClientGateway","$timeout",function(e,t){return{scope:{identifire:"=?",data:"=?"},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-header.html",controller:["$scope","$stateParams","$sce",function(n,i,s){n.headerStyle={},n.citySlug=i.city,n.$watch("data",function(e){e&&(n.restaurant=n.data,t(function(){var e="url('"+n.restaurant.cover+"')";n.headerStyle["background-image"]=e},400))}),n.$watch("identifire",function(t,i){t&&t!=i&&e.get({},"/restaurant/headInfo/"+n.identifire,function(e){n.restaurant=e.data.result,n.restaurant.restaurantDescription=s.trustAsHtml(n.restaurant.restaurantDescription)})})}]}}]),app.directive("restaurantItem",[function(){return{link:link,restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-item.html",scope:{restaurant:"=",index:"=",whenInView:"&"},replace:!0}}]),app.directive("restaurantHorizontalItem",[function(){return{link:link,restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-item-horizontal.html",scope:{restaurant:"=",index:"=",whenInView:"&"},replace:!0}}]),app.directive("restaurantMobileItem",[function(){return{link:link,restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-item-mobile.html",scope:{restaurant:"=",index:"=",whenInView:"&"},replace:!0}}]),app.directive("restaurantRegionModal",function(){return{controller:"restaurantModalController",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/restaurant-region-modal.html"}}),app.directive("selectRegionModal",function(){return{controller:"selectRegionModalController",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/select-region-modal.html"}}),app.directive("circleProgressBar",["$timeout","commentStatus",function(e,t){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/circleProgressBar.html",scope:{width:"@",height:"@",color:"@",duration:"@",easing:"@",fillcolor:"@",strokecolor:"@",strokewidth:"@",svgstyle:"@",text:"@",percentage:"="},link:function(t,n,i){var s=n[0];e(function(){var e=new ProgressBar.Circle(s,{color:t.color,strokeWidth:4,trailWidth:1,easing:"easeInOut",duration:1e3,text:{autoStyleContainer:!1},from:{color:"#aaa",width:1},to:{color:"#333",width:4}});e.animate(t.percentage)})}}}]),app.directive("circleProgressBarWithEmoji",["$timeout","commentStatus",function(e,t){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/circleProgressBarWithEmoji.html",scope:{percentage:"=",width:"@",height:"@",progressBarColor:"@",duration:"@",easing:"@",fillcolor:"@",strokecolor:"@",strokewidth:"@",svgstyle:"@",face:"@",color:"@",fontSize:"@"},controller:["$scope","$element","$attrs",function(t,n,i){var s=n[0],a=new ProgressBar.Circle(s,{color:t.progressBarColor,strokeWidth:6,trailWidth:4,trailColor:"#e6e6e6",easing:"easeInOut",duration:800,text:{autoStyleContainer:!1},from:{color:"#aaa",width:1},to:{color:"#333",width:4}});t.$watch("percentage",function(e){"undefined"!=typeof e&&o(t.percentage)});var o=function(){e(function(){a.animate(t.percentage/100)},0)}}]}}]),app.directive("emojiRadioBtn",function(){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/emojiRadioBtn.html",scope:{reviewData:"=",name:"@",uniqId:"=",haveText:"@",fontSize:"@",modelName:"=",readOnly:"=",initVote:"="},controller:["$scope","$element","$attrs",function(e){angular.isDefined(e.initVote)&&(angular.isDefined(e.reviewData)?e.reviewData.overall=e.initVote:e.reviewData={overall:e.initVote})}]}}),app.directive("emojiRate",function(){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/emojiRate.html",scope:{initVote:"=",fontSize:"@"},controller:["$scope","$element","$attrs",function(e){switch(e.isVisible=!0,e.initVote){case 1:e.icon="icon-sad",e.color="#e66230";break;case 2:e.icon="icon-normal",e.color="#cec20c";break;case 3:e.icon="icon-happy",e.color="#4fc238";break;default:e.isVisible=!1}}]}}),app.directive("emojis",["$timeout","commentStatus",function(e,t){return{restrict:"E",replace:"true",scope:{face:"@",fontSize:"@",color:"@",rate:"="},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/emojis.html",link:function(e,t,n){e.$watch("rate",function(t){if("undefined"!=typeof t)switch(e.rate){case 1:e.face="sad",e.color="red";break;case 2:e.face="normal",e.color="orange";break;case 3:e.face="happy",e.color="green"}})}}}]),app.directive("orderCommentForm",["ModalService",function(e){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/orderCommentForm.html",scope:{ids:"=",foods:"=",order:"=",restaurantId:"=",date:"="},controller:["$scope","ClientGateway","VoteService","toaster","$log","$timeout",function(t,n,i,s,a,o){t.reviewData={},t.showOtherDetails=!1,t.showLoading=!1,t.commentSubmitSuccess=!1,t.canSubmit=!0,t.$watch("reviewData",function(e){e&&e.review&&(t.showOtherDetails=!0)},!0),t.showFoodList=!1,t.iconDown=!0,t.showList=function(){t.showFoodList=!t.showFoodList,t.iconDown=!t.iconDown},t.submitVote=function(e){e.preventDefault(),t.reviewData.overall||s.pop("error","","        . "),t.canSubmit=!1,i.saveMainVote(t.order,t.reviewData).then(function(e){t.$emit("InitAllComment",e),t.showLoading=t.commentSubmitSuccess=!0,o(function(){t.showLoading=!1,t.commentSubmitSuccess=!1,t.canSubmit=!0},1e3),t.reviewData={}},function(e){throw t.canSubmit=!0,a.error("ERROR:",e),e})},t.checkOverall=function(){return"2"===t.reviewData.overall||"1"===t.reviewData.overall},t.openFoodItemsModal=function(){e.openModal({controller:"orderReviewModalController",animation:!0,ariaLabelledBy:"side-dish-title",ariaDescribedBy:"side-disht-body",backdropClass:"modal-black-opacity",windowTemplateUrl:"/app/user/ngApp/templates/views/restaurants/sideDish/window.html",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/foodOrderModal.html"},{order:t.order})}}]}}]),app.directive("rate",[function(){return{restrict:"E",replace:!0,scope:{number:"="},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/rate.html",controller:["$scope",function(e){var t=function(){e.roundedNumber=Math.round(e.number);var t={veryGood:"bg-color-great",good:"bg-color-good",normal:"bg-color-normal",bad:"bg-color-bad",veryBad:"bg-color-bad",newItem:"bg-color-gray"};switch(e.roundedNumber){case 5:e.colorStatus=t.veryGood;break;case 4:e.colorStatus=t.good;break;case 3:e.colorStatus=t.normal;break;case 2:e.colorStatus=t.bad;break;case 1:e.colorStatus=t.veryBad;break;case 0:e.colorStatus=t.newItem}};e.$watch("number",function(e){"undefined"!=typeof e&&t()})}]}}]),app.directive("reportComment",[function(){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/reportComment.html",scope:{commentId:"=",commentStatus:"="},controller:["$scope","$http","toaster",function(e,t,n){e.commentHasBeenReported=e.commentStatus,e.reportComment=function(i){return e.commentHasBeenReported?void n.pop("warning","","        "):void t.post("/client-api/reportedComment/byUser",{comment:i}).success(function(t){t.status?(n.pop("success","",t.message_fa),e.commentHasBeenReported=!e.commentHasBeenReported):n.pop("error","",t.message_fa)})}}]}}]),app.directive("submittedEmojies",function(){return{restrict:"E",templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/review/submittedEmojies.html",scope:{rate:"="},controller:["$scope",function(e){console.log(e.rate),e.getClass=function(e){}}]}}),app.directive("emailPhoneValidation",function(){return{require:"ngModel",link:function(e,t,n,i){function s(e){if("undefined"!=typeof e){a=e;var t=l.test(a)||c.test(a);i.$setValidity("emailPhoneValidation",t)}return a}var a;i.$parsers.unshift(s);var o=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,r="^09[0-9]{9}$",l=new RegExp(o),c=new RegExp(r)}}}),app.controller("loginModalController",["$scope","Users","$rootScope","$interval","ClientGateway",function(e,t,n,i,s){e.registerForm={},e.loginForm={},e.loading=!1,e.requestCode={action:"sms"},e.registering="register"===e.typeOfAuth;var a;e.registeringNav={inputCode:!1,validation:!1,waiting:!1,expire:!1};var o=function(){e.stopCountDown(),e.time=59,a=i(function(){e.time--,e.time<=0&&e.stopCountDown(!0)},1e3)};e.stopCountDown=function(t){angular.isDefined(a)&&(i.cancel(a),a=void 0,t&&(e.registeringNav.waiting=!1,e.registeringNav.expire=!0))},e.login=function(){e.loading!==!0&&(e.haveError=!1,e.errorText="",e.loading=!0,t.login({username:e.loginForm.username,password:e.loginForm.password,referrer:window.location.referrer}).then(function(i){i.data.status===!0?(n.$broadcast("headerReload",{},{reload:!0}),t.isLogin=!0,e.$close({login:!0})):(e.haveError=!0,e.errorText=i.data.message_fa),e.loading=!1},function(t){e.loading=!1,e.haveError=!0,e.errorText=t.data.message_fa}))},e.register=function(){e.loading!==!0&&(e.loading=!0,t.register(e.registerForm).then(function(t){e.loading=!1,t.data.status===!0&&(n.$broadcast("headerReload",{}),e.registeringNav.inputCode=!0,e.registeringNav.waiting=!0,o(),e.userVerificationMobile=e.registerForm.mobileNumber.toString(),e.sendCode())},function(){e.loading=!1}))};var r=function(e){for(var t=0;t<4;t++)if(void 0===e[t]||null===e[t])return!1;return!0};e.verificationCode=[],e.handleEnter=function(t){if(t&&13===t.keyCode)if(r(e.verificationCode)===!0){var n=e.verificationCode.join("");e.verifyCode(n)}else s.showNotification("warning","     .")},e.changeVerificationCode=function(t){if(void 0!==e.verificationCode[t]&&null!==e.verificationCode[t]&&!r(e.verificationCode)){var n="#fantazy-";n+=3===t?"0":(t+1).toString();var i=angular.element(n);return void i.focus()}var s=e.verificationCode.join("");e.verifyCode(s)},e.verifyCode=function(n){if(e.loading!==!0){e.loading=!0;var i=t.verifyCode(n,e.userVerificationMobile);i?i.then(function(t){t.data.status===!0?e.$close({register:!0}):s.showNotification("error",t.data.message_fa),e.loading=!1},function(t){s.showNotification("warning",t.statusText),e.loading=!1}):e.loading=!1}},e.sendCodeAgain=function(){if(e.loading!==!0){e.loading=!0;var n=t.sendCodeAgain(e.requestCode.action,e.userVerificationMobile);n?n.then(function(t){e.registeringNav.waiting=!0,o(),e.registeringNav.inputCode=!0,e.registeringNav.expire=!1,e.loading=!1},function(t){s.showNotification("warning",t.statusText),e.loading=!1}):(e.registeringNav.waiting=!0,o(),e.registeringNav.inputCode=!0,e.registeringNav.expire=!1,e.loading=!1)}},e.sendCode=function(){e.loading!==!0&&(e.loading=!0,t.sendCode(e.userVerificationMobile).then(function(t){t.data.status===!0?(e.registeringNav.validation=!1,e.registeringNav.inputCode=!0,e.registeringNav.waiting=!0,e.registeringNav.expire=!1,o()):s.showNotification("error",t.data.message_fa),e.loading=!1},function(){s.showNotification("warning",response.statusText),e.loading=!1}))},e.editPhoneNumber=function(){e.registeringNav.validation=!0,e.registeringNav.inputCode=!1,e.registeringNav.expire=!1,e.registeringNav.waiting=!1},e.checkRegisterForm=function(e,t){e&&t.$valid===!1&&e.preventDefault()}}]),app.directive("loginform",["ClientGateway","$state","$rootScope","$location","Users",function(e,t,n,i,s){return{restrict:"E",scope:!0,templateUrl:"/app/user/ngApp/templates/views/user/loginform.html",controller:["$scope","toaster",function(t,a){t.subscriber={username:"",password:""},t.loginButton=!1,t.isLoginSpinner=!1,1==i.search().error&&e.showNotification("error","             .    ."),t.sendLogin=function(){"undefined"==typeof t.username,t.loginButton=!0,t.isLoginSpinner=!0,e.post({username:t.username,password:t.password,referrer:window.location.referrer},"/user/login",function(e){e.data.status===!0&&(n.$broadcast("headerReload",{},{reload:!0}),s.isLogin=!0),t.loginButton=!1,t.isLoginSpinner=!1},function(e){t.loginButton=!1,t.isLoginSpinner=!1})}}]}}]),app.directive("registerform",["ClientGateway","$state","$rootScope",function(e,t,n){return{restrict:"E",scope:!0,templateUrl:"/app/user/ngApp/templates/views/user/registerform.html",controller:["$scope","toaster",function(t,i){t.user={fullName:"",userEmail:"",password:"",mobileNumber:"",confirmPass:"",chiliTerms:!0},t.registerButton=!1,t.isRegisterSpinner=!1,t.sendRegisterForm=function(){return t.user.chiliTerms?(t.user.referrer=window.location.referrer,t.registerButton=!0,t.isRegisterSpinner=!0,void e.post(t.user,"/user/register",function(e){e.data.status===!0&&n.$broadcast("headerReload",{}),t.registerButton=!1,t.isRegisterSpinner=!1},function(e){t.registerButton=!1,t.isRegisterSpinner=!1})):void e.showNotification("error","       .")}}]}}]),app.directive("uniqueMobile",["ClientGateway","$timeout","$q",function(e,t,n){return{restrict:"A",require:"ngModel",link:function(t,i,s,a){a.$asyncValidators.uniqueMobile=function(t,i){var s=n.defer(),a=t||i;return 11==a.length?e.post({mobileNumber:a},"/user/uniqueMobile",function(e){e.data.result?s.resolve(e.data.result):s.reject()}):s.reject(),s.promise}}}}]),app.directive("uniqueEmail",["ClientGateway","$timeout","$q",function(e,t,n){return{restrict:"A",require:"ngModel",link:function(i,s,a,o){o.$asyncValidators.uniqueEmail=function(i,s){var a=n.defer(),o=i||s;return t(function(){e.post({userEmail:o},"/user/uniqueEmail",function(e){e.data.result?a.resolve():a.reject()})},1e3),a.promise}}}}]),app.directive("match",["$parse",function(e){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){e.$watch(function(){return[e.$eval(n.match),i.$viewValue]},function(e){i.$setValidity("match",e[0]===e[1])},!0)}}}]);var socialController=["$scope",function(e){var t=void 0!=window.screenLeft?window.screenLeft:screen.left,n=void 0!=window.screenTop?window.screenTop:screen.top;dualWidth=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,dualHeight=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var i=500,s=500,a=dualWidth/2-i/2+t,o=dualHeight/2-s/2+n,r="Social Authentication",l=window.location.origin+"/auth/",c="toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+i+", height="+s+", top="+o+", left="+a;e.authLogin=function(e){return newwindow=window.open(l+e+"?referrer="+JSON.stringify(window.location.referrer),r,c),window.focus&&newwindow.focus(),!1}}];if(app.directive("socialLoginNew",["$state",function(e){return{restrict:"E",templateUrl:"/app/user/ngApp/templates/views/user/social-login-new.html",scope:{},controller:socialController}}]),app.directive("sociallogin",["$state",function(e){return{restrict:"E",templateUrl:"/app/user/ngApp/templates/views/user/social-login.html",scope:{heading:"@"},controller:socialController}}]),app.directive("gridViewItems",["$rootScope","$state","$cookies",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/menuItems/gridViewItems.html"}}]),app.directive("listViewItems",["$rootScope","$state","$cookies",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/menuItems/listViewItems.html",link:function(e,t,n){}}}]),app.directive("listWithModalItems",["$rootScope","$state","$cookies",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/menuItems/listWithModalItems.html",link:function(e,t,n){}}}]),app.directive("menuHeaders",["$rootScope","$state",function(e,t){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/menuItems/menuHeaders.html",link:function(e,t,n){}}}]),app.directive("specialFoodItems",["$rootScope","$state","$cookies",function(e,t,n){return{restrict:"E",replace:!0,templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/menuItems/specialFoodItems.html",link:function(e,t,n){}}}]),app.directive("selectRegion",function(){return{scope:{searchhide:"@"},templateUrl:"/app/user/ngApp/templates/libsView/templates/directives/search.html",controller:"UserNeighborhoodController"}}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var s=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(s,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),s=n.data("bs.alert");s||n.data("bs.alert",s=new i(this)),"string"==typeof t&&s[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var s=e(this),a=s.attr("data-target");a||(a=s.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var o=e(a);t&&t.preventDefault(),o.length||(o=s.closest(".alert")),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var s=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=s,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.button"),a="object"==typeof t&&t;s||i.data("bs.button",s=new n(this,a)),"toggle"==t?s.toggle():t&&s.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,s=i.is("input")?"val":"html",a=i.data();t+="Text",null==a.resetText&&i.data("resetText",i[s]()),setTimeout(e.proxy(function(){i[s](null==a[t]?this.options[t]:a[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.carousel"),a=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),o="string"==typeof t?t:a.slide;s||i.data("bs.carousel",s=new n(this,a)),"number"==typeof t?s.to(t):o?s[o]():a.interval&&s.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,
this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var s="prev"==e?-1:1,a=(n+s)%this.$items.length;return this.$items.eq(a)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(t,i){var s=this.$element.find(".item.active"),a=i||this.getItemForDirection(t,s),o=this.interval,r="next"==t?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var c=a[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(a)]);u&&u.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,s.addClass(r),a.addClass(r),s.one("bsTransitionEnd",function(){a.removeClass([t,r].join(" ")).addClass("active"),s.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(s.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var s=function(n){var i,s=e(this),a=e(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var o=e.extend({},a.data(),s.data()),r=s.attr("data-slide-to");r&&(o.interval=!1),t.call(a,o),r&&a.data("bs.carousel").to(r),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",s).on("click.bs.carousel.data-api","[data-slide-to]",s),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),s=n.data("bs.collapse"),a=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!s&&a.toggle&&/show|hide/.test(t)&&(a.toggle=!1),s||n.data("bs.collapse",s=new i(this,a)),"string"==typeof t&&s[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,s=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(s&&s.length&&(t=s.data("bs.collapse"),t&&t.transitioning))){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){s&&s.length&&(n.call(s,"hide"),t||s.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var l=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var s=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION):s.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var s=e(i);this.addAriaAndCollapsedClass(t(s),s)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var s=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=s,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var s=e(this);s.attr("data-target")||i.preventDefault();var a=t(s),o=a.data("bs.collapse"),r=o?"toggle":s.data();n.call(a,r)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(s).remove(),e(a).each(function(){var i=e(this),s=t(i),a={relatedTarget:this};s.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(s[0],n.target)||(s.trigger(n=e.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),s.removeClass("open").trigger("hidden.bs.dropdown",a))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),"string"==typeof t&&i[t].call(n)})}var s=".dropdown-backdrop",a='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.5",o.prototype.toggle=function(i){var s=e(this);if(!s.is(".disabled, :disabled")){var a=t(s),o=a.hasClass("open");if(n(),!o){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var r={relatedTarget:this};if(a.trigger(i=e.Event("show.bs.dropdown",r)),i.isDefaultPrevented())return;s.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},o.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var s=t(i),o=s.hasClass("open");if(!o&&27!=n.which||o&&27==n.which)return 27==n.which&&s.find(a).trigger("focus"),i.trigger("click");var r=" li:not(.disabled):visible a",l=s.find(".dropdown-menu"+r);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",a,o.prototype.toggle).on("keydown.bs.dropdown.data-api",a,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var s=e(this),a=s.data("bs.modal"),o=e.extend({},n.DEFAULTS,s.data(),"object"==typeof t&&t);a||s.data("bs.modal",a=new n(this,o)),"string"==typeof t?a[t](i):o.show&&a.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,s=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),s&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=e.Event("shown.bs.modal",{relatedTarget:t});s?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=e.support.transition&&s;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;a?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),s=i.attr("href"),a=e(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),o=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(s)&&s},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(a,o,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.tooltip"),a="object"==typeof t&&t;!s&&/destroy|hide/.test(t)||(s||i.data("bs.tooltip",s=new n(this,a)),"string"==typeof t&&s[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var s=this.options.trigger.split(" "),a=s.length;a--;){var o=s[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var r="hover"==o?"mouseenter":"focusin",l="hover"==o?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var s=this,a=this.tip(),o=this.getUID(this.type);this.setContent(),a.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&a.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=a[0].offsetWidth,p=a[0].offsetHeight;if(c){var h=r,f=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+p>f.bottom?"top":"top"==r&&d.top-p<f.top?"bottom":"right"==r&&d.right+u>f.width?"left":"left"==r&&d.left-u<f.left?"right":r,a.removeClass(h).addClass(r)}var g=this.getCalculatedOffset(r,d,u,p);this.applyPlacement(g,r);var m=function(){var e=s.hoverState;s.$element.trigger("shown.bs."+s.type),s.hoverState=null,"out"==e&&s.leave(s)};e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),s=i[0].offsetWidth,a=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(r)&&(r=0),t.top+=o,t.left+=r,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=a&&(t.top=t.top+a-c);var d=this.getViewportAdjustedDelta(n,t,l,c);d.left?t.left+=d.left:t.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-s+l:2*d.top-a+c,h=u?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][h],u)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=s.hoverState&&a.detach(),s.$element.removeAttr("aria-describedby").trigger("hidden.bs."+s.type),t&&t()}var s=this,a=e(this.$tip),o=e.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,s=n.getBoundingClientRect();null==s.width&&(s=e.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var a=i?{top:0,left:0}:t.offset(),o={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},s,o,r,a)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var s={top:0,left:0};if(!this.$viewport)return s;var a=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(e)){var r=t.top-a-o.scroll,l=t.top+a-o.scroll+i;r<o.top?s.top=o.top-r:l>o.top+o.height&&(s.top=o.top+o.height-l)}else{var c=t.left-a,d=t.left+a+n;c<o.left?s.left=o.left-c:d>o.right&&(s.left=o.left+o.width-d)}return s},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.popover"),a="object"==typeof t&&t;!s&&/destroy|hide/.test(t)||(s||i.data("bs.popover",s=new n(this,a)),"string"==typeof t&&s[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),s=i.data("bs.scrollspy"),a="object"==typeof n&&n;s||i.data("bs.scrollspy",s=new t(this,a)),"string"==typeof n&&s[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),s=t.data("target")||t.attr("href"),a=/^#./.test(s)&&e(s);return a&&a.length&&a.is(":visible")&&[[a[n]().top+i,s]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),s=this.offsets,a=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return o!=(e=a[a.length-1])&&this.activate(e);if(o&&t<s[0])return this.activeTarget=null,this.clear();for(e=s.length;e--;)o!=a[e]&&t>=s[e]&&(void 0===s[e+1]||t<s[e+1])&&this.activate(a[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.tab");s||i.data("bs.tab",s=new n(this)),"string"==typeof t&&s[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var s=n.find(".active:last a"),a=e.Event("hide.bs.tab",{relatedTarget:t[0]}),o=e.Event("show.bs.tab",{relatedTarget:s[0]});if(s.trigger(a),t.trigger(o),!o.isDefaultPrevented()&&!a.isDefaultPrevented()){var r=e(i);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){s.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:s[0]})})}}},n.prototype.activate=function(t,i,s){function a(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),s&&s()}var o=i.find("> .active"),r=s&&e.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var s=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',s).on("click.bs.tab.data-api",'[data-toggle="pill"]',s)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),s=i.data("bs.affix"),a="object"==typeof t&&t;s||i.data("bs.affix",s=new n(this,a)),"string"==typeof t&&s[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var s=this.$target.scrollTop(),a=this.$element.offset(),o=this.$target.height();if(null!=n&&"top"==this.affixed)return s<n&&"top";if("bottom"==this.affixed)return null!=n?!(s+this.unpin<=a.top)&&"bottom":!(s+o<=e-i)&&"bottom";var r=null==this.affixed,l=r?s:a.top,c=r?o:t;return null!=n&&s<=n?"top":null!=i&&l+c>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,s=i.top,a=i.bottom,o=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(a=s=i),"function"==typeof s&&(s=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var r=this.getState(o,t,s,a);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-a
})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var s=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,a,o){function r(){v=!!("horizontal"in o),v?(b={width:"auto",height:"inherit"},y={width:"0"}):(b={height:"auto"},y={height:"0"}),i.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function c(){a.hasClass("collapse")&&a.hasClass("in")||t.resolve(h(i)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),s?s(a,{addClass:"in",easing:"ease",to:l(a[0])}).start()["finally"](d):e.addClass(a,"in",{to:l(a[0])}).then(d)})}function d(){a.removeClass("collapsing").addClass("collapse").css(b),f(i)}function u(){return a.hasClass("collapse")||a.hasClass("in")?void t.resolve(g(i)).then(function(){a.css(l(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),s?s(a,{removeClass:"in",to:y}).start()["finally"](p):e.removeClass(a,"in",{to:y}).then(p)}):p()}function p(){a.css(y),a.removeClass("collapsing").addClass("collapse"),m(i)}var h=n(o.expanding),f=n(o.expanded),g=n(o.collapsing),m=n(o.collapsed),v=!1,b={},y={};r(),i.$watch(o.uibCollapse,function(e){e?u():c()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var s=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;s&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var s="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=s+"-tab",e.panelId=s+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,s){i.setHeading(s(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,i,s){t.$watch(function(){return s[i.uibAccordionTransclude]},function(t){if(t){var i=angular.element(n[0].querySelector(e()));i.html(""),i.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,s){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;a&&s(function(){e.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,s){var a=s[0],o=s[1],r=e(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(a.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(a.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),o.$render()})}}),i.uibUncheckable&&t.$watch(r,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function s(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}var r=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(r.activeClass,angular.equals(l.$modelValue,s()))},t.on(r.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(r.activeClass)?a():s()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,s){function a(){for(;y.length;)y.shift()}function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function r(n,i,l){if(!w){if(angular.extend(n,{direction:l}),angular.extend(m[b].slide||{},{direction:l}),s.enabled(t)&&!e.$currentTransition&&m[i].element&&g.slides.length>1){m[i].element.data(v,n.direction);var c=g.getCurrentIndex();angular.isNumber(c)&&m[c].element&&m[c].element.data(v,n.direction),e.$currentTransition=!0,s.on("addClass",m[i].element,function(t,n){if("close"===n&&(e.$currentTransition=null,s.off("addClass",t),y.length)){var i=y.pop().slide,o=i.index,l=o>g.getCurrentIndex()?"next":"prev";a(),r(i,o,l)}})}e.active=n.index,b=n.index,o(i),u()}}function l(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function c(){h&&(n.cancel(h),h=null)}function d(t){t.length||(e.$currentTransition=null,a())}function u(){c();var t=+e.interval;!isNaN(t)&&t>0&&(h=n(p,t))}function p(){var t=+e.interval;f&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var h,f,g=this,m=g.slides=e.slides=[],v="uib-slideDirection",b=e.active,y=[],w=!1;t.addClass("carousel"),g.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,o(b),g.select(m[l(t)]),1===m.length&&e.play())},g.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===b)return e},g.next=e.next=function(){var t=(g.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():g.select(m[t],"next")},g.prev=e.prev=function(){var t=g.getCurrentIndex()-1<0?m.length-1:g.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():g.select(m[t],"prev")},g.removeSlide=function(t){var n=l(t),i=y.indexOf(m[n]);i!==-1&&y.splice(i,1),m.splice(n,1),m.length>0&&b===n?n>=m.length?(b=m.length-1,e.active=b,o(b),g.select(m[m.length-1])):(b=n,e.active=b,o(b),g.select(m[n])):b>n&&(b--,e.active=b),0===m.length&&(b=null,e.active=null,a())},g.select=e.select=function(t,n){var i=l(t.slide);void 0===n&&(n=i>g.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition?t&&t.slide.index!==b&&e.$currentTransition&&y.push(m[i]):r(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===m.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,c())},e.play=function(){f||(f=!0,u())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){w=!0,c()}),e.$watch("noTransition",function(e){s.enabled(t,!e)}),e.$watch("interval",u),e.$watchCollection("slides",d),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}var n=m[e];n&&(o(e),g.select(m[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,s){n.addClass("item"),s.addSlide(t,n),t.$on("$destroy",function(){s.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,s,a){if("active"===s){var o=!1,r=i.data(n),l="next"===r?"left":"right",c=t.bind(this,i,l+" "+r,a);return i.addClass(r),e(i,{addClass:l}).start().done(c),function(){o=!0}}a()},beforeRemoveClass:function(i,s,a){if("active"===s){var o=!1,r=i.data(n),l="next"===r?"left":"right",c=t.bind(this,i,l,a);return e(i,{addClass:l}).start().done(c),function(){o=!0}}a()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){function s(e){var t=[],n=e.split(""),s=e.indexOf("'");if(s>-1){var a=!1;e=e.split("");for(var o=s;o<e.length;o++)a?("'"===e[o]&&(o+1<e.length&&"'"===e[o+1]?(e[o+1]="$",n[o+1]=""):(n[o]="",a=!1)),e[o]="$"):"'"===e[o]&&(e[o]="$",n[o]="",a=!0);e=e.join("")}return angular.forEach(m,function(i){var s=e.indexOf(i.key);if(s>-1){e=e.split(""),n[s]="("+i.regex+")",e[s]="$";for(var a=s+1,o=s+i.key.length;a<o;a++)n[a]="",e[a]="$";e=e.join(""),t.push({index:s,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function a(e){for(var t,n,i=[],s=0;s<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(s))(s+1>=e.length||"'"!==e.charAt(s+1))&&(i.push(o(e,n,s)),n=null);else if(s===e.length)for(;n<e.length;)t=r(e,n),i.push(t),n=t.endIdx;s++}else"'"!==e.charAt(s)?(t=r(e,s),i.push(t.parser),s=t.endIdx):(n=s,s++);return i}function o(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function r(e,t){for(var n=e.substr(t),i=0;i<m.length;i++)if(new RegExp("^"+m[i].key).test(n)){var s=m[i];return{endIdx:t+s.key.length,parser:s.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function l(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function c(e){return parseInt(e,10)}function d(e,t){return e&&t?f(e,t):e}function u(e,t){return e&&t?f(e,t,!0):e}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function h(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function f(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),s=p(t,i);return h(e,n*(s-i))}var g,m,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){g=t.id,this.parsers={},this.formatters={},m=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],s=t[3];this.hours+=c(n+i),this.minutes+=c(n+s)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}]},this.init(),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==g&&this.init(),this.formatters[n]||(this.formatters[n]=a(n));var i=this.formatters[n];return i.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,i,a){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(v,"\\$&"),t.id!==g&&this.init(),this.parsers[i]||(this.parsers[i]=s(i,"apply"));var o=this.parsers[i],r=o.regex,c=o.map,d=n.match(r),u=!1;if(d&&d.length){var p,h;angular.isDate(a)&&!isNaN(a.getTime())?p={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,m=d.length;f<m;f++){var b=c[f-1];"Z"===b.matcher&&(u=!0),b.apply&&b.apply.call(p,d[f])}var y=u?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=u?Date.prototype.setUTCHours:Date.prototype.setHours;return l(p.year,p.month,p.date)&&(!angular.isDate(a)||isNaN(a.getTime())||u?(h=new Date(0),y.call(h,p.year,p.month,p.date),w.call(h,p.hours||0,p.minutes||0,p.seconds||0,p.milliseconds||0)):(h=new Date(a),y.call(h,p.year,p.month,p.date),w.call(h,p.hours,p.minutes,p.seconds,p.milliseconds))),h}},this.toTimezone=d,this.fromTimezone=u,this.timezoneToOffset=p,this.addDateMinutes=h,this.convertTimezoneToLocal=f}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,s){function a(e,t,n){l.push(e),c.push({scope:e,element:t}),f.forEach(function(t,n){o(t,e)}),e.$on("$destroy",r)}function o(t,i){var s=t.match(n),a=i.$eval(s[1]),o=s[2],r=d[t];if(!r){var l=function(t){var n=null;c.some(function(e){var i=e.scope.$eval(p);if(i===t)return n=e,!0}),r.lastActivated!==n&&(r.lastActivated&&e.removeClass(r.lastActivated.element,a),n&&e.addClass(n.element,a),r.lastActivated=n)};d[t]=r={lastActivated:null,scope:i,watchFn:l,compareWithExp:o,watcher:i.$watch(o,l)}}r.watchFn(i.$eval(o))}function r(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),c.splice(n,1),l.length){var i=l[0];angular.forEach(d,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else d={}}var l=[],c=[],d={},u=s.uibIsClass.match(t),p=u[2],h=u[1],f=h.split(",");return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,s,a,o,r,l,c,d,u){function p(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}var h=this,f={$setViewValue:angular.noop},g={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":h[t]=angular.isDefined(e.datepickerOptions[t])?s(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":h[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?h.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?h.startingDay=l.startingDay:h.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?h[t]=u.fromTimezone(new Date(e),g.timezone):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),h[t]=new Date(r(e,"medium"))):h[t]=l[t]?u.fromTimezone(new Date(l[t]),g.timezone):null,h.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){h[t]=e[t]=angular.isDefined(n)?n:datepickerOptions[t],("minMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)<h.modes.indexOf(h[t])||"maxMode"===t&&h.modes.indexOf(e.datepickerOptions.datepickerMode)>h.modes.indexOf(h[t]))&&(e.datepickerMode=h[t],e.datepickerOptions.datepickerMode=h[t])}):h[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,h.refreshView()})),e.isActive=function(t){return 0===h.compare(t.date,h.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){f=t,g=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions,e.datepickerOptions.initDate?(h.activeDate=u.fromTimezone(e.datepickerOptions.initDate,g.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(h.activeDate=u.fromTimezone(e,g.timezone),h.refreshView())})):h.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?u.fromTimezone(new Date,g.timezone):u.fromTimezone(n,g.timezone),f.$render=function(){h.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue),t=!isNaN(e);t?this.activeDate=u.fromTimezone(e,g.timezone):d||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=u.fromTimezone(t,g.timezone),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=f.$viewValue?new Date(f.$viewValue):null;i=u.fromTimezone(i,g.timezone);var s=new Date;s=u.fromTimezone(s,g.timezone);var a=this.compare(t,s),o={date:t,label:u.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:a<0,current:0===a,future:a>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=o),h.activeDate&&0===this.compare(o.date,h.activeDate)&&(e.activeDt=o),o},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===h.minMode){var n=f.$viewValue?u.fromTimezone(new Date(f.$viewValue),g.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=u.toTimezone(n,g.timezone),f.$setViewValue(n),f.$render()}else h.activeDate=t,p(h.modes[h.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=h.activeDate.getFullYear()+e*(h.step.years||0),n=h.activeDate.getMonth()+e*(h.step.months||0);h.activeDate.setFullYear(t,n,1),h.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===h.maxMode&&1===t||e.datepickerMode===h.minMode&&t===-1||(p(h.modes[h.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){h.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),h.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(h.isDisabled(h.activeDate))return;e.select(h.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(h.handleKeyDown(n,t),h.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?a[t]:29}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),s=new Date(e),a=0;a<t;)n=new Date(s),i[a++]=n,s.setDate(s.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(t,i,1);var o=this.startingDay-a.getDay(),r=o>0?7-o:-o,l=new Date(a);r>0&&l.setDate(-r+1);for(var c=this.getDates(l,42),d=0;d<42;d++)c[d]=angular.extend(this.createDateObject(c[d],this.formatDay),{secondary:c[d].getMonth()!==i,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var u=0;u<7;u++)e.labels[u]={abbr:n(c[u].date,this.formatDayHeader),full:n(c[u].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var p=(11-this.startingDay)%7,h=e.rows.length,f=0;f<h;f++)e.weekNumbers.push(s(e.rows[f][p].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var s=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(s,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),s=this.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(this.activeDate),t.setFullYear(s,a,1),i[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/a,10)*a+1}var s,a;this.element=t,this.yearpickerInit=function(){s=this.yearColumns,a=this.yearRows*s,this.step={years:a}},this._refreshView=function(){for(var t,n=new Array(a),o=0,r=i(this.activeDate.getFullYear());o<a;o++)t=new Date(this.activeDate),t.setFullYear(r+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=this.split(n,s),e.columns=s},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=s:"right"===e?n+=1:"down"===e?n+=s:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var s=i[0],a=i[1];s.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var s=i[0],a=i[1];a.init(s)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var s=i[0],a=i[1];a.init(s)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html";
},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var s=i[0];angular.extend(s,i[1]),s.yearpickerInit(),s.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,s={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var s=n.offsetParent||e[0].documentElement;s&&s!==e[0].documentElement&&i(s);)s=s.offsetParent;return s||e[0].documentElement},scrollbarWidth:function(s){if(s){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),s=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),r=this.scrollbarWidth(a,o.test(a.tagName));return{scrollbarWidth:r,widthOverflow:a.scrollWidth>a.clientWidth,right:i+r,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:s+r,originalBottom:s}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?s.hidden:s.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?s.hidden:s.normal,r=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,d=n.parentElement||r;if(d===r||"fixed"===l.position)return r;for(;d.parentElement&&d!==r;){var u=t.getComputedStyle(d);if(c&&"static"!==u.position&&(c=!1),!c&&o.test(u.overflow+u.overflowY+u.overflowX))break;d=d.parentElement}return d},position:function(n,i){n=this.getRawNode(n);var s=this.offset(n);if(i){var a=t.getComputedStyle(n);s.top-=this.parseStyle(a.marginTop),s.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),r={top:0,left:0};return o!==e[0].documentElement&&(r=this.offset(o),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(s.width)?s.width:n.offsetWidth),height:Math.round(angular.isNumber(s.height)?s.height:n.offsetHeight),top:Math.round(s.top-r.top),left:Math.round(s.left-r.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,s){n=this.getRawNode(n),s=s!==!1;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},r=i?e[0].documentElement:this.scrollParent(n),l=r.getBoundingClientRect();if(o.top=l.top+r.clientTop,o.left=l.left+r.clientLeft,r===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+r.clientHeight,o.right=o.left+r.clientWidth,s){var c=t.getComputedStyle(r);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,s){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),r=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=s?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var d=this.viewportOffset(e,s),u=t.getComputedStyle(n),p={width:o+Math.round(Math.abs(this.parseStyle(u.marginLeft)+this.parseStyle(u.marginRight))),height:r+Math.round(Math.abs(this.parseStyle(u.marginTop)+this.parseStyle(u.marginBottom)))};if(i[0]="top"===i[0]&&p.height>d.top&&p.height<=d.bottom?"bottom":"bottom"===i[0]&&p.height>d.bottom&&p.height<=d.top?"top":"left"===i[0]&&p.width>d.left&&p.width<=d.right?"right":"right"===i[0]&&p.width>d.right&&p.width<=d.left?"left":i[0],i[1]="top"===i[1]&&p.height-l.height>d.bottom&&p.height-l.height<=d.top?"bottom":"bottom"===i[1]&&p.height-l.height>d.top&&p.height-l.height<=d.bottom?"top":"left"===i[1]&&p.width-l.width>d.right&&p.width-l.width<=d.left?"right":"right"===i[1]&&p.width-l.width>d.left&&p.width-l.width<=d.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var h=l.width/2-o/2;d.left+h<0&&p.width-l.width<=d.right?i[1]="left":d.right+h<0&&p.width-l.width<=d.left&&(i[1]="right")}else{var f=l.height/2-p.height/2;d.top+f<0&&p.height-l.height<=d.bottom?i[1]="top":d.bottom+f<0&&p.height-l.height<=d.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-r;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-r;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break;case"center":a.vertical.test(i[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-r/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(e.indexOf("top")!==-1&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var s=angular.element(i).hasClass("tooltip-inner"),o=s?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var r={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(r);var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],d="border-";d+=a.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],d+="-radius";var u=t.getComputedStyle(s?i:e)[d];switch(n[0]){case"top":r.bottom=s?"0":"-"+c;break;case"bottom":r.top=s?"0":"-"+c;break;case"left":r.right=s?"0":"-"+c;break;case"right":r.left=s?"0":"-"+c}r[n[1]]=u,angular.element(o).css(r)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,s,a,o,r,l,c,d,u,p,h,f,g){function m(t){var n=u.parse(t,k,e.date);if(isNaN(n))for(var i=0;i<O.length;i++)if(n=u.parse(t,O[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=m(e);if(!isNaN(t))return t}return P.$options&&P.$options.allowInvalid?e:void 0}function b(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(m(i))))}function y(n){if(e.isOpen||!e.disabled){var i=E[0],s=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||s||a||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(E[0].querySelector(".uib-datepicker-popup")),s=n.popupPlacement?n.popupPlacement:p.placement,a=c.positionElements(t,i,s,S);i.css({top:a.top+"px",left:a.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}var k,$,S,C,T,A,_,I,D,P,M,E,O,R=!1,L=[];this.init=function(s){if(P=s,M=s.$options,$=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):p.closeOnDateSelection,S=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):p.appendToBody,C=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):p.onOpenFocus,T=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:p.datepickerPopupTemplateUrl,A=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:p.datepickerTemplateUrl,O=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):p.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):p.showButtonBar,p.html5Types[n.type]?(k=p.html5Types[n.type],R=!0):(k=n.uibDatepickerPopup||p.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||p.datepickerPopup;if(n!==k&&(k=n,P.$modelValue=null,!k))throw new Error("uibDatepickerPopup must have a date format specified.")})),!k)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");_=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),_.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":T}),I=angular.element(_.children()[0]),I.attr("template-url",A),e.datepickerOptions||(e.datepickerOptions={}),R&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),I.attr("datepicker-options","datepickerOptions"),R?P.$formatters.push(function(t){return e.date=t,t}):(P.$$parserName="date",P.$validators.date=b,P.$parsers.unshift(v),P.$formatters.push(function(t){return P.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=t,u.filter(e.date,k))})),P.$viewChangeListeners.push(function(){e.date=m(P.$viewValue)}),t.on("keydown",w),E=i(_)(e),_.remove(),S?r.find("body").append(E):t.after(E),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),E.remove(),t.off("keydown",w),r.off("click",y),D&&D.off("scroll",x),angular.element(o).off("resize",x);L.length;)L.shift()()})},e.getText=function(t){return e[t+"Text"]||p[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=new Date);var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&s.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(d(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?u.filter(e.date,k):null;t.val(i),P.$setViewValue(i),$&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):t=new Date(i.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&L.push(e.$parent.$watch(a(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){x(),C&&e.$broadcast("uib:datepicker.focus"),r.on("click",y);var i=n.popupPlacement?n.popupPlacement:p.placement;S||c.parsePlacement(i)[2]?(D=D||angular.element(c.scrollParent(t)),D&&D.on("scroll",x)):D=null,angular.element(o).on("resize",x)},0,!1):(r.off("click",y),D&&D.off("scroll",x),angular.element(o).off("resize",x))}),e.$on("uib:datepicker.mode",function(){h(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var s=i[0],a=i[1];a.init(s)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var s=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(s,a)},n)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t,s){n||e.on("click",i),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t,s){if(n===t){n=null,e.off("click",i);var a=t.getDropdownElement();a&&a.off("keydown",this.keybindFilter)}};var i=function(e){if(n&&!(e&&"disabled"===n.getAutoClose()||e&&3===e.which)){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var s=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&s&&s[0].contains(e.target)||(n.isOpen=!1,n.focusToggleElement(),t.$$phase||n.$apply())}}};this.keybindFilter=function(e){27===e.which?(e.stopPropagation(),n.focusToggleElement(),i()):n.isKeynavEnabled()&&[38,40].indexOf(e.which)!==-1&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,s,a,o,r,l,c,d){var u,p,h=this,f=e.$new(),g=s.appendToOpenClass,m=s.openClass,v=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,y=!1,w=null,x=!1,k=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(p=i(n.isOpen),v=p.assign,e.$watch(p,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var s=i(n.dropdownAppendTo)(f);s&&(w=angular.element(s))}y=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),y&&!w&&(w=k),w&&h.dropdownMenu&&(w.append(h.dropdownMenu),t.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return x},f.focusDropdownEntry=function(e){var n=h.dropdownMenu?angular.element(h.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===n.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=n.length-1}n[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(w&&h.dropdownMenu){var s,l,p,x=r.positionElements(t,h.dropdownMenu,"bottom-left",!0),k=0;if(s={top:x.top+"px",display:n?"block":"none"},l=h.dropdownMenu.hasClass("dropdown-menu-right"),l?(s.left="auto",p=r.scrollbarPadding(w),p.heightOverflow&&p.scrollbarWidth&&(k=p.scrollbarWidth),s.right=window.innerWidth-k-(x.left+t.prop("offsetWidth"))+"px"):(s.left=x.left+"px",s.right="auto"),!y){var $=r.offset(w);s.top=x.top-$.top+"px",l?s.right=window.innerWidth-(x.left-$.left+t.prop("offsetWidth"))+"px":s.left=x.left-$.left+"px"}h.dropdownMenu.css(s)}var S=w?w:t,C=S.hasClass(w?g:m);if(C===!n&&o[n?"addClass":"removeClass"](S,w?g:m).then(function(){angular.isDefined(n)&&n!==i&&b(e,{open:!!n})}),n)h.dropdownMenuTemplateUrl?d(h.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),c(e.trim())(u,function(e){var t=e;h.dropdownMenu.replaceWith(t),h.dropdownMenu=t,h.dropdownMenu.on("keydown",a.keybindFilter)})}):h.dropdownMenu&&h.dropdownMenu.on("keydown",a.keybindFilter),f.focusToggleElement(),a.open(f,t);else{if(a.close(f,t),h.dropdownMenuTemplateUrl){u&&u.$destroy();var T=angular.element('<ul class="dropdown-menu"></ul>');h.dropdownMenu.replaceWith(T),h.dropdownMenu=T}h.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var s=n.templateUrl;s&&(i.dropdownMenuTemplateUrl=s),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var s=function(s){s.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",s),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",s)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap","ui.bootstrap.position"]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var s=i.indexOf(n);s!==-1&&i.splice(s,1),i.length||delete e[t]}}}}}}).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,s,a,o){if(i)return i.resolve(e,s,a,o);var r=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?r.push(n.resolve(t.invoke(e))):angular.isString(e)?r.push(n.resolve(t.get(e))):r.push(n.resolve(e))}),n.all(r).then(function(t){var n={},i=0;return angular.forEach(e,function(e,s){n[s]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,s){s.modalInClass&&(e.addClass(i,s.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e.removeClass(i,s.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(s,a,o){a.addClass(o.windowTopClass||""),s.size=o.size,s.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",s.close),s.$isRendered=!0;var r=t.defer();s.$$postDigest(function(){r.resolve()}),r.promise.then(function(){var r=null;o.modalInClass&&(r=n(a,{addClass:o.modalInClass}).start(),s.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(a,{removeClass:o.modalInClass}).start().then(i)})),t.when(r).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,s,a){a(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,s,a,o,r,l){function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=x.keys(),n=0;n<t.length;n++)x.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<S&&(e=S),e}function u(e,t){var n=x.get(e).value,i=n.appendTo;x.remove(e),C=x.top(),C&&(S=parseInt(C.value.modalDomEl.attr("index"),10)),f(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||w;k.remove(t,e);var s=k.hasKey(t);i.toggleClass(t,s),!s&&y&&y.heightOverflow&&y.scrollbarWidth&&(y.originalRight?i.css({paddingRight:y.originalRight+"px"}):i.css({paddingRight:""}),y=null),p(!0)},n.closedDeferred),h(),t&&t.focus?t.focus():i.focus&&i.focus()}function p(e){var t;x.length()>0&&(t=x.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function h(){if(v&&d()===-1){var e=b;f(v,b,function(){e=null}),v=void 0,b=void 0}}function f(t,n,i,s){function o(){o.done||(o.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),s&&s.resolve()}),n.$destroy())}var r,l=null,c=function(){return r||(r=a.defer(),l=r.promise),function(){r.resolve()}};return n.$broadcast($.NOW_CLOSING_EVENT,c),a.when(l).then(o)}function g(e){if(e.isDefaultPrevented())return e;var t=x.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),s.$apply(function(){$.dismiss(t.key,"escape key press")}));break;case 9:var n=$.loadFocusElementList(t),i=!1;e.shiftKey?($.isFocusInFirstItem(e,n)||$.isModalFocused(e,t))&&(i=$.focusLastFocusableElement(n)):$.isFocusInLastItem(e,n)&&(i=$.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var v,b,y,w="modal-open",x=r.createNew(),k=o.createNew(),$={NOW_CLOSING_EVENT:"modal.stack.now-closing"},S=0,C=null,T="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]";return s.$watch(d,function(e){b&&(b.index=e)}),n.on("keydown",g),s.$on("$destroy",function(){n.off("keydown",g)}),$.open=function(t,a){var o=n[0].activeElement,r=a.openedClass||w;p(!1),C=x.top(),x.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),k.put(r,t);var c=a.appendTo,u=d();if(!c.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");u>=0&&!v&&(b=s.$new(!0),b.modalOptions=a,b.index=u,v=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),v.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&v.addClass(a.backdropClass),a.animation&&v.attr("modal-animation","true"),i(v)(b),e.enter(v,c),l.isScrollable(c)&&(y=l.scrollbarPadding(c),y.heightOverflow&&y.scrollbarWidth&&c.css({paddingRight:y.right+"px"}))),S=C?parseInt(C.value.modalDomEl.attr("index"),10)+1:0;var h=angular.element('<div uib-modal-window="modal-window"></div>');h.attr({"class":"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog",size:a.size,index:S,animate:"animate","ng-style":"{'z-index': 1050 + index*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).html(a.content),a.windowClass&&h.addClass(a.windowClass),a.animation&&h.attr("modal-animation","true"),c.addClass(r),e.enter(i(h)(a.scope),c),x.top().value.modalDomEl=h,x.top().value.modalOpener=o},$.close=function(e,t){var n=x.get(e);return n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},$.dismiss=function(e,t){var n=x.get(e);return n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},$.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},$.getTop=function(){return x.top()},$.modalRendered=function(e){var t=x.get(e);t&&t.value.renderDeferred.resolve()},$.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},$.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},$.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},$.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},$.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},$.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(T);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},$}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,s,a,o,r){function l(e){return e.template?n.when(e.template):s(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},d=null;return c.getPromiseChain=function(){return d},c.open=function(s){function c(){return v}var u=n.defer(),p=n.defer(),h=n.defer(),f=n.defer(),g={result:u.promise,opened:p.promise,closed:h.promise,rendered:f.promise,close:function(e){return r.close(g,e)},dismiss:function(e){return r.dismiss(g,e)}};if(s=angular.extend({},e.options,s),s.resolve=s.resolve||{},s.appendTo=s.appendTo||i.find("body").eq(0),!s.template&&!s.templateUrl)throw new Error("One of template or templateUrl options is required.");var m,v=n.all([l(s),o.resolve(s.resolve,{},null,null)]);return m=d=n.all([d]).then(c,c).then(function(e){var n=s.scope||t,i=n.$new();i.$close=g.close,i.$dismiss=g.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var o,l,c={};s.controller&&(c.$scope=i,c.$scope.$resolve={},c.$uibModalInstance=g,angular.forEach(e[1],function(e,t){c[t]=e,c.$scope.$resolve[t]=e}),l=a(s.controller,c,!0,s.controllerAs),s.controllerAs&&s.bindToController&&(o=l.instance,o.$close=i.$close,o.$dismiss=i.$dismiss,angular.extend(o,{$resolve:c.$scope.$resolve},n)),o=l(),angular.isFunction(o.$onInit)&&o.$onInit()),r.open(g,{scope:i,deferred:u,renderDeferred:f,closedDeferred:h,content:e[0],animation:s.animation,backdrop:s.backdrop,keyboard:s.keyboard,backdropClass:s.backdropClass,windowTopClass:s.windowTopClass,windowClass:s.windowClass,windowTemplateUrl:s.windowTemplateUrl,size:s.size,openedClass:s.openedClass,appendTo:s.appendTo}),p.resolve(!0)},function(e){p.reject(e),u.reject(e)})["finally"](function(){d===m&&(d=null)}),g},c}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,s){t.ngModelCtrl=e,t.config=s,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=s.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault();var s=!n.ngDisabled||!i;s&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,s){n.addClass("pager");var a=s[0],o=s[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,s){function a(e,t,n){return{number:e,text:t,active:n}}function o(e,t){var n=[],i=1,s=t,o=angular.isDefined(l)&&l<t;o&&(c?(i=Math.max(e-Math.floor(l/2),1),s=i+l-1,s>t&&(s=t,i=s-l+1)):(i=(Math.ceil(e/l)-1)*l+1,s=Math.min(i+l-1,t)));for(var r=i;r<=s;r++){var h=a(r,p(r),r===e);n.push(h)}if(o&&l>0&&(!c||d||u)){if(i>1){if(!u||i>3){var f=a(i-1,"...",!1);n.unshift(f)}if(u){if(3===i){var g=a(2,"2",!1);n.unshift(g)}var m=a(1,"1",!1);n.unshift(m)}}if(s<t){if(!u||s<t-2){var v=a(s+1,"...",!1);n.push(v)}if(u){if(s===t-2){var b=a(t-1,t-1,!1);n.push(b)}var y=a(t,t,!1);n.push(y)}}}return n}var r=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):s.maxSize,c=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):s.rotate,d=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):s.forceEllipses,u=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):s.boundaryLinkNumbers,p=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n
})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):s.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):s.directionLinks,i.create(this,e,t),t.maxSize&&r._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),r.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=o(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,s){n.addClass("pagination");var a=s[0],o=s[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(s,a,o,r,l,c,d,u,p){function h(e){if(27===e.which){var t=f.top();t&&(t.value.close(),f.removeTop(),t=null)}}var f=p.createNew();return r.on("keypress",h),d.$on("$destroy",function(){r.off("keypress",h)}),function(s,d,p,h){function g(e){var t=(e||h.trigger||p).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}h=angular.extend({},t,i,h);var m=e(s),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup uib-title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+d+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(y);return function(e,t,i,a){function c(){B.isOpen?m():p()}function p(){F&&!e.$eval(i[d+"Enable"])||(w(),$(),B.popupDelay?M||(M=o(v,B.popupDelay,!1)):v())}function m(){b(),B.popupCloseDelay?E||(E=o(y,B.popupCloseDelay,!1)):y()}function v(){return b(),w(),B.content?(x(),void B.$evalAsync(function(){B.isOpen=!0,S(!0),H()})):angular.noop}function b(){M&&(o.cancel(M),M=null),O&&(o.cancel(O),O=null)}function y(){B&&B.$evalAsync(function(){B&&(B.isOpen=!1,S(!1),B.animation?P||(P=o(k,150,!1)):k())})}function w(){E&&(o.cancel(E),E=null),P&&(o.cancel(P),P=null)}function x(){I||(D=B.$new(),I=n(D,function(e){L?r.find("body").append(e):t.after(e)}),C())}function k(){b(),w(),T(),I&&(I.remove(),I=null),D&&(D.$destroy(),D=null)}function $(){B.title=i[d+"Title"],j?B.content=j(e):B.content=i[s],B.popupClass=i[d+"Class"],B.placement=angular.isDefined(i[d+"Placement"])?i[d+"Placement"]:h.placement;var t=l.parsePlacement(B.placement);R=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[d+"PopupDelay"],10),a=parseInt(i[d+"PopupCloseDelay"],10);B.popupDelay=isNaN(n)?h.popupDelay:n,B.popupCloseDelay=isNaN(a)?h.popupCloseDelay:a}function S(t){V&&angular.isFunction(V.assign)&&V.assign(e,t)}function C(){z.length=0,j?(z.push(e.$watch(j,function(e){B.content=e,!e&&B.isOpen&&y()})),z.push(D.$watch(function(){U||(U=!0,D.$$postDigest(function(){U=!1,B&&B.isOpen&&H()}))}))):z.push(i.$observe(s,function(e){B.content=e,!e&&B.isOpen?y():H()})),z.push(i.$observe(d+"Title",function(e){B.title=e,B.isOpen&&H()})),z.push(i.$observe(d+"Placement",function(e){B.placement=e?e:h.placement,B.isOpen&&H()}))}function T(){z.length&&(angular.forEach(z,function(e){e()}),z.length=0)}function A(e){B&&B.isOpen&&I&&(t[0].contains(e.target)||I[0].contains(e.target)||m())}function _(){var n=[],s=[],a=e.$eval(i[d+"Trigger"]);q(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),s.push(a[e])}),N={show:n,hide:s}):N=g(a),"none"!==N.show&&N.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),r.on("click",A)):e===N.hide[n]?t.on(e,c):e&&(t.on(e,p),t.on(N.hide[n],m)),t.on("keypress",function(e){27===e.which&&m()})})}var I,D,P,M,E,O,R,L=!!angular.isDefined(h.appendToBody)&&h.appendToBody,N=g(void 0),F=angular.isDefined(i[d+"Enable"]),B=e.$new(!0),U=!1,V=!!angular.isDefined(i[d+"IsOpen"])&&u(i[d+"IsOpen"]),j=!!h.useContentExp&&u(i[s]),z=[],H=function(){I&&I.html()&&(O||(O=o(function(){var e=l.positionElements(t,I,B.placement,L),n=angular.isDefined(I.offsetHeight)?I.offsetHeight:I.prop("offsetHeight"),i=L?l.offset(t):l.position(t);I.css({top:e.top+"px",left:e.left+"px"});var s=e.placement.split("-");I.hasClass(s[0])||(I.removeClass(R.split("-")[0]),I.addClass(s[0])),I.hasClass(h.placementClassPrefix+e.placement)||(I.removeClass(h.placementClassPrefix+R),I.addClass(h.placementClassPrefix+e.placement)),o(function(){var e=angular.isDefined(I.offsetHeight)?I.offsetHeight:I.prop("offsetHeight"),t=l.adjustTop(s,i,n,e);t&&I.css(t)},0,!1),I.hasClass("uib-position-measure")?(l.positionArrow(I,e.placement),I.removeClass("uib-position-measure")):R!==e.placement&&l.positionArrow(I,e.placement),R=e.placement,O=null},0,!1)))};B.origScope=e,B.isOpen=!1,f.add(B,{close:y}),B.contentExp=function(){return B.content},i.$observe("disabled",function(e){e&&b(),e&&B.isOpen&&y()}),V&&e.$watch(V,function(e){B&&!e===B.isOpen&&c()});var q=function(){N.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,p),t.off(e,c))}),N.hide.forEach(function(e){"outsideClick"===e?r.off("click",A):t.off(e,m)})};_();var W=e.$eval(i[d+"Animation"]);B.animation=angular.isDefined(W)?!!W:h.animation;var G,Y=d+"AppendToBody";G=Y in i&&void 0===i[Y]||e.$eval(i[Y]),L=angular.isDefined(G)?G:L,e.$on("$destroy",function(){q(),k(),f.remove(B),B=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(s,a,o){var r,l,c,d=s.$eval(o.tooltipTemplateTranscludeScope),u=0,p=function(){l&&(l.remove(),l=null),r&&(r.$destroy(),r=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};s.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++u;t?(i(t,!0).then(function(i){if(o===u){var s=d.$new(),l=i,h=n(l)(s,function(t){p(),e.enter(t,a)});r=s,c=h,r.$emit("$includeContentLoaded",t)}},function(){o===u&&(p(),s.$emit("$includeContentError",t))}),s.$emit("$includeContentRequested",t)):p()}),s.$on("$destroy",p)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var s=e.parsePlacement(t.placement);n.addClass(s[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var s=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){a||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=s.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,s.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){s.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},s=this;this.init=function(s){i=s,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=s.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=s.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var s=i[0],a=i[1];s.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,a){if(!s){var o=t(n),r=i.tabs[o];if(r){if(r.tab.onDeselect({$event:a,$selectedIndex:e}),a&&a.isDefaultPrevented())return;r.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var s=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(s)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var s;e.$on("$destroy",function(){s=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,s,a){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(s.tabs&&s.tabs.length?t.index=Math.max.apply(null,s.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<s.tabs.length;i++)if(s.tabs[i].tab===t){n=i;break}s.select(n,e)}},s.addTab(t),t.$on("$destroy",function(){s.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var s=t.$eval(i.uibTabContentTransclude).tab;s.$transcludeFn(s.$parent,function(t){angular.forEach(t,function(t){e(t)?s.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,s,a,o){function r(){var t=+e.hours,n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===x[1]&&(t+=12)),t}function l(){var t=+e.minutes,n=t>=0&&t<60;if(n&&""!==e.minutes)return t}function c(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function d(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function u(e){p(),w.$setViewValue(new Date(b)),h(e)}function p(){w.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(w.$modelValue){var n=b.getHours(),i=b.getMinutes(),s=b.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:d(n,!k),"m"!==t&&(e.minutes=d(i)),e.meridian=b.getHours()<12?x[0]:x[1],"s"!==t&&(e.seconds=d(s)),e.meridian=b.getHours()<12?x[0]:x[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=x[0]}function f(e){b=m(b,e),u()}function g(e,t){return m(e,60*t)}function m(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var b=new Date,y=[],w={$setViewValue:angular.noop},x=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS,k=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){w=t,w.$render=this.render,w.$formatters.unshift(function(e){return e?new Date(e):null});var s=i.eq(0),a=i.eq(1),r=i.eq(2),l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel;l&&this.setupMousewheelEvents(s,a,r);var c=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys;c&&this.setupArrowkeyEvents(s,a,r),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(s,a,r)};var $=o.hourStep;n.hourStep&&y.push(e.$parent.$watch(i(n.hourStep),function(e){$=+e}));var S=o.minuteStep;n.minuteStep&&y.push(e.$parent.$watch(i(n.minuteStep),function(e){S=+e}));var C;y.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);C=isNaN(t)?void 0:t}));var T;y.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);T=isNaN(t)?void 0:t}));var A=!1;n.ngDisabled&&y.push(e.$parent.$watch(i(n.ngDisabled),function(e){A=e})),e.noIncrementHours=function(){var e=g(b,60*$);return A||e>T||e<b&&e<C},e.noDecrementHours=function(){var e=g(b,60*-$);return A||e<C||e>b&&e>T},e.noIncrementMinutes=function(){var e=g(b,S);return A||e>T||e<b&&e<C},e.noDecrementMinutes=function(){var e=g(b,-S);return A||e<C||e>b&&e>T},e.noIncrementSeconds=function(){var e=m(b,_);return A||e>T||e<b&&e<C},e.noDecrementSeconds=function(){var e=m(b,-_);return A||e<C||e>b&&e>T},e.noToggleMeridian=function(){return b.getHours()<12?A||g(b,720)>T:A||g(b,-720)<C};var _=o.secondStep;n.secondStep&&y.push(e.$parent.$watch(i(n.secondStep),function(e){_=+e})),e.showSeconds=o.showSeconds,n.showSeconds&&y.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=o.showMeridian,n.showMeridian&&y.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,w.$error.time){var n=r(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(b.setHours(n),u())}else h()})),this.setupMousewheelEvents=function(t,n,i){var s=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){A||e.$apply(s(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){A||e.$apply(s(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.bind("mousewheel wheel",function(t){A||e.$apply(s(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.bind("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.bind("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.bind("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var s=function(t,n,i){w.$setViewValue(null),w.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n),angular.isDefined(i)&&(e.invalidSeconds=i)};e.updateHours=function(){var e=r(),t=l();w.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(e),b.setMinutes(t),b<C||b>T?s(!0):u("h")):s(!0)},t.bind("blur",function(t){w.$setTouched(),v()?p():null===e.hours||""===e.hours?s(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=d(e.hours,!k)})}),e.updateMinutes=function(){var e=l(),t=r();w.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(b.setHours(t),b.setMinutes(e),b<C||b>T?s(void 0,!0):u("m")):s(void 0,!0)},n.bind("blur",function(t){w.$setTouched(),v()?p():null===e.minutes?s(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=d(e.minutes)})}),e.updateSeconds=function(){var e=c();w.$setDirty(),angular.isDefined(e)?(b.setSeconds(e),u("s")):s(void 0,void 0,!0)},i.bind("blur",function(t){v()?p():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=d(e.seconds)})})},this.render=function(){var t=w.$viewValue;isNaN(t)?(w.$setValidity("time",!1),s.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(b=t),b<C||b>T?(w.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):p(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*$*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-$*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*S)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-S)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(_)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-_)},e.toggleMeridian=function(){var t=l(),n=r();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(b.getHours()<12?60:-60)):e.meridian=e.meridian===x[0]?x[1]:x[0])},e.blur=function(){w.$setTouched()},e.$on("$destroy",function(){for(;y.length;)y.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var s=i[0],a=i[1];a&&s.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,s,a,o,r,l,c,d,u,p){function h(){U.moveInProgress||(U.moveInProgress=!0,U.$digest()),Z()}function f(){U.position=D?u.offset(t):u.position(t),U.position.top+=t.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],b=200,y=e.$eval(n.typeaheadMinLength);y||0===y||(y=1),e.$watch(n.typeaheadMinLength,function(e){y=e||0===e?e:1});var w=e.$eval(n.typeaheadWaitMs)||0,x=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){x=e!==!1});var k,$,S=s(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?s(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},T=s(n.typeaheadOnSelect),A=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),_=s(n.typeaheadNoResults).assign||angular.noop,I=n.typeaheadInputFormatter?s(n.typeaheadInputFormatter):void 0,D=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),P=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,M=e.$eval(n.typeaheadFocusFirst)!==!1,E=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),O=s(n.typeaheadIsOpen).assign||angular.noop,R=e.$eval(n.typeaheadShowHint)||!1,L=s(n.ngModel),N=s(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(L(e))&&m&&m.$options&&m.$options.getterSetter?N(t,{$$$p:n}):L.assign(t,n)},B=p.parse(n.uibTypeahead),U=e.$new(),V=e.$on("$destroy",function(){U.$destroy()});U.$on("$destroy",V);var j="typeahead-"+U.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":j});var z,H;R&&(z=angular.element("<div></div>"),z.css("position","relative"),t.after(z),H=t.clone(),H.attr("placeholder",""),H.attr("tabindex","-1"),H.val(""),H.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),H.attr("id")&&H.removeAttr("id"),z.append(H),H.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:j,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var W=function(){R&&H.val("")},G=function(){U.matches=[],U.activeIdx=-1,t.attr("aria-expanded",!1),W()},Y=function(e){return j+"-option-"+e};U.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",Y(e))});var K=function(e,t){return!!(U.matches.length>t&&e)&&e.toUpperCase()===U.matches[t].label.toUpperCase()},X=function(n,i){var s={$viewValue:n};S(e,!0),_(e,!1),a.when(B.source(e,s)).then(function(a){var o=n===g.$viewValue;if(o&&k)if(a&&a.length>0){U.activeIdx=M?0:-1,_(e,!1),U.matches.length=0;for(var r=0;r<a.length;r++)s[B.itemName]=a[r],U.matches.push({id:Y(r),label:B.viewMapper(U,s),model:a[r]});if(U.query=n,f(),t.attr("aria-expanded",!0),E&&1===U.matches.length&&K(n,0)&&(angular.isNumber(U.debounceUpdate)||angular.isObject(U.debounceUpdate)?d(function(){U.select(0,i)},angular.isNumber(U.debounceUpdate)?U.debounceUpdate:U.debounceUpdate["default"]):U.select(0,i)),R){var l=U.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?H.val(n+l.slice(n.length)):H.val("")}}else G(),_(e,!0);o&&S(e,!1)},function(){G(),S(e,!1),_(e,!0)})};D&&(angular.element(l).on("resize",h),r.find("body").on("scroll",h));var Z=d(function(){U.matches.length&&f(),U.moveInProgress=!1},b);U.moveInProgress=!1,U.query=void 0;var Q,J=function(e){Q=o(function(){X(e)},w)},ee=function(){Q&&o.cancel(Q)};G(),U.assignIsOpen=function(t){O(e,t)},U.select=function(i,s){var a,r,l={};$=!0,l[B.itemName]=r=U.matches[i].model,a=B.modelMapper(e,l),F(e,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),T(e,{$item:r,$model:a,$label:B.viewMapper(e,l),$event:s}),G(),U.$eval(n.typeaheadFocusOnSelect)!==!1&&o(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==U.matches.length&&v.indexOf(t.which)!==-1){var n=C(e,{$event:t});if(U.activeIdx===-1&&n||9===t.which&&t.shiftKey)return G(),void U.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:U.activeIdx=(U.activeIdx>0?U.activeIdx:U.matches.length)-1,U.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[U.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:U.activeIdx=(U.activeIdx+1)%U.matches.length,U.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[U.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&U.$apply(function(){angular.isNumber(U.debounceUpdate)||angular.isObject(U.debounceUpdate)?d(function(){U.select(U.activeIdx,t)},angular.isNumber(U.debounceUpdate)?U.debounceUpdate:U.debounceUpdate["default"]):U.select(U.activeIdx,t)})}}}),t.bind("focus",function(e){k=!0,0!==y||g.$viewValue||o(function(){X(g.$viewValue,e)},0)}),t.bind("blur",function(e){A&&U.matches.length&&U.activeIdx!==-1&&!$&&($=!0,U.$apply(function(){angular.isObject(U.debounceUpdate)&&angular.isNumber(U.debounceUpdate.blur)?d(function(){U.select(U.activeIdx,e)},U.debounceUpdate.blur):U.select(U.activeIdx,e)})),!x&&g.$error.editable&&(g.$setViewValue(),U.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),k=!1,$=!1});var te=function(n){t[0]!==n.target&&3!==n.which&&0!==U.matches.length&&(G(),c.$$phase||e.$digest())};r.on("click",te),e.$on("$destroy",function(){r.off("click",te),(D||P)&&ne.remove(),D&&(angular.element(l).off("resize",h),r.find("body").off("scroll",h)),q.remove(),R&&z.remove()});var ne=i(q)(U);D?r.find("body").append(ne):P?angular.element(P).eq(0).append(ne):t.after(ne),this.init=function(t,n){g=t,m=n,U.debounceUpdate=g.$options&&s(g.$options.debounce)(e),g.$parsers.unshift(function(t){return k=!0,0===y||t&&t.length>=y?w>0?(ee(),J(t)):X(t):(S(e,!1),ee(),G()),x?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,i,s={};return x||g.$setValidity("editable",!0),I?(s.$model=t,I(e,s)):(s[B.itemName]=t,n=B.viewMapper(e,s),s[B.itemName]=void 0,i=B.viewMapper(e,s),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var s=t.debounce();angular.isNumber(s)||angular.isObject(s)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(s)?s:s["default"]):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,s,a){var o=n(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then(function(e){var n=angular.element(e.trim());s.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function s(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&s(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n');
}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),angular.module("updateMeta",[]),function(){function e(e,t){function n(e,t){return"["+t+'="'+e[t]+'"]'}function i(e,t){return t.filter(function(t){return e[t]}).map(function(t){return n(e,t)}).join("")}var s=["href","charset","crossorigin","hreflang","integrity","media","methods","referrerpolicy","sizes","target","title","type"],a=["id","rel"];return{restrict:"E",scope:{rel:"@",href:"@",id:"@?",charset:"@?",crossorigin:"@?",hreflang:"@?",integrity:"@?",media:"@?",methods:"@?",referrerpolicy:"@?",sizes:"@?",target:"@?",title:"@?",type:"@?"},link:function(e){var n="link"+i(e,a);s.filter(function(t){return e[t]}).forEach(function(i){e.$watch(i,function(s){"undefined"!=typeof s&&t.update(n,i,e[i])})})}}}e.$inject=["$log","updateAttribute"],angular.module("updateMeta").directive("updateLink",e)}(),function(){function e(e,t){return{restrict:"E",scope:{charset:"@",name:"@",content:"@",httpEquiv:"@",scheme:"@",property:"@",itemprop:"@"},link:function(e){var n;e.name&&(n='meta[name="'+e.name+'"]'),e.httpEquiv&&(n='meta[http-equiv="'+e.httpEquiv+'"]'),e.property&&(n='meta[property="'+e.property+'"]'),e.itemprop&&(n='meta[itemprop="'+e.itemprop+'"]'),e.$watch("content",function(i){"undefined"!=typeof i&&t.update(n,"content",e.content)}),e.$watch("charset",function(n){"undefined"!=typeof n&&t.update("meta[charset]","charset",e.charset)})}}}e.$inject=["$log","updateAttribute"],angular.module("updateMeta").directive("updateMeta",e)}(),function(){function e(e,t){return{restrict:"E",scope:{type:"@",content:"="},link:function(e){var n='script[type="'+e.type+'"]';e.$watch("content",function(i){"undefined"!=typeof i&&t.update(n,e.content)})}}}e.$inject=["$log","updateScriptContent"],angular.module("updateMeta").directive("updateScript",e)}(),function(){function e(){return{restrict:"E",scope:{title:"@"},link:function(e){e.$watch("title",function(e){"undefined"!=typeof e&&document&&(document.title=e)})}}}e.$inject=["$log"],angular.module("updateMeta").directive("updateTitle",e)}(),function(){function e(e){function t(t,n,i){if(!document)return void e.error("updateMeta: document is not available!");if(!t)return void e.error("updateMeta: please provide a selector");var s=document.querySelector(t);s&&s.setAttribute&&s.setAttribute(n,i)}return{update:t}}e.$inject=["$log"],angular.module("updateMeta").factory("updateAttribute",e)}(),function(){function e(e,t,n){return{update:function(i,s){if(!document)return void e.error("updateMeta: document is not available!");if(!i)return void e.error("updateMeta: please provide a selector");var a=document.querySelector(i);if(a){var o=t.trustAsHtml(n("json")(s));a.outerHTML='<script type="application/ld+json">'+o+"</script>"}}}}e.$inject=["$log","$sce","$filter"],angular.module("updateMeta").factory("updateScriptContent",e)}(),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,i){var s,a=this;a.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,n){return e('<button type="button" data-role="none" role="button" tabindex="0" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},a.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(a,a.initials),a.activeBreakpoint=null,a.animType=null,a.animProp=null,a.breakpoints=[],a.breakpointSettings=[],a.cssTransitions=!1,a.focussed=!1,a.interrupted=!1,a.hidden="hidden",a.paused=!0,a.positionProp=null,a.respondTo=null,a.rowCount=1,a.shouldClick=!0,a.$slider=e(t),a.$slidesCache=null,a.transformType=null,a.transitionType=null,a.visibilityChange="visibilitychange",a.windowWidth=0,a.windowTimer=null,s=e(t).data("slick")||{},a.options=e.extend({},a.defaults,i,s),a.currentSlide=a.options.initialSlide,a.originalSettings=a.options,"undefined"!=typeof document.mozHidden?(a.hidden="mozHidden",a.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(a.hidden="webkitHidden",a.visibilityChange="webkitvisibilitychange"),a.autoPlay=e.proxy(a.autoPlay,a),a.autoPlayClear=e.proxy(a.autoPlayClear,a),a.autoPlayIterator=e.proxy(a.autoPlayIterator,a),a.changeSlide=e.proxy(a.changeSlide,a),a.clickHandler=e.proxy(a.clickHandler,a),a.selectHandler=e.proxy(a.selectHandler,a),a.setPosition=e.proxy(a.setPosition,a),a.swipeHandler=e.proxy(a.swipeHandler,a),a.dragHandler=e.proxy(a.dragHandler,a),a.keyHandler=e.proxy(a.keyHandler,a),a.instanceUid=n++,a.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,a.registerBreakpoints(),a.init(!0)}var n=0;return t}(),t.prototype.activateADA=function(){var e=this;e.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,n,i){var s=this;if("boolean"==typeof n)i=n,n=null;else if(n<0||n>=s.slideCount)return!1;s.unload(),"number"==typeof n?0===n&&0===s.$slides.length?e(t).appendTo(s.$slideTrack):i?e(t).insertBefore(s.$slides.eq(n)):e(t).insertAfter(s.$slides.eq(n)):i===!0?e(t).prependTo(s.$slideTrack):e(t).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(t,n){e(n).attr("data-slick-index",t)}),s.$slidesCache=s.$slides,s.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,n){var i={},s=this;s.animateHeight(),s.options.rtl===!0&&s.options.vertical===!1&&(t=-t),s.transformsEnabled===!1?s.options.vertical===!1?s.$slideTrack.animate({left:t},s.options.speed,s.options.easing,n):s.$slideTrack.animate({top:t},s.options.speed,s.options.easing,n):s.cssTransitions===!1?(s.options.rtl===!0&&(s.currentLeft=-s.currentLeft),
e({animStart:s.currentLeft}).animate({animStart:t},{duration:s.options.speed,easing:s.options.easing,step:function(e){e=Math.ceil(e),s.options.vertical===!1?(i[s.animType]="translate("+e+"px, 0px)",s.$slideTrack.css(i)):(i[s.animType]="translate(0px,"+e+"px)",s.$slideTrack.css(i))},complete:function(){n&&n.call()}})):(s.applyTransition(),t=Math.ceil(t),s.options.vertical===!1?i[s.animType]="translate3d("+t+"px, 0px, 0px)":i[s.animType]="translate3d(0px,"+t+"px, 0px)",s.$slideTrack.css(i),n&&setTimeout(function(){s.disableTransition(),n.call()},s.options.speed))},t.prototype.getNavTarget=function(){var t=this,n=t.options.asNavFor;return n&&null!==n&&(n=e(n).not(t.$slider)),n},t.prototype.asNavFor=function(t){var n=this,i=n.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var n=e(this).slick("getSlick");n.unslicked||n.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,n={};t.options.fade===!1?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1===0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,n,i=this;if(i.options.dots===!0&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),n=e("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)n.append(e("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=n.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,n){e(n).attr("data-slick-index",t).data("originalStyling",e(n).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),t.options.centerMode!==!0&&t.options.swipeToSlide!==!0||(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,n,i,s,a,o,r=this;if(i=document.createDocumentFragment(),a=r.$slider.children(),r.options.rows>1){for(o=r.options.slidesPerRow*r.options.rows,s=Math.ceil(a.length/o),e=0;e<s;e++){var l=document.createElement("div");for(t=0;t<r.options.rows;t++){var c=document.createElement("div");for(n=0;n<r.options.slidesPerRow;n++){var d=e*o+(t*r.options.slidesPerRow+n);a.get(d)&&c.appendChild(a.get(d))}l.appendChild(c)}i.appendChild(l)}r.$slider.empty().append(i),r.$slider.children().children().children().css({width:100/r.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,n){var i,s,a,o=this,r=!1,l=o.$slider.width(),c=window.innerWidth||e(window).width();if("window"===o.respondTo?a=c:"slider"===o.respondTo?a=l:"min"===o.respondTo&&(a=Math.min(c,l)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){s=null;for(i in o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(o.originalSettings.mobileFirst===!1?a<o.breakpoints[i]&&(s=o.breakpoints[i]):a>o.breakpoints[i]&&(s=o.breakpoints[i]));null!==s?null!==o.activeBreakpoint?(s!==o.activeBreakpoint||n)&&(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[s]),t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),r=s):(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=e.extend({},o.originalSettings,o.breakpointSettings[s]),t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),r=s):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,t===!0&&(o.currentSlide=o.options.initialSlide),o.refresh(t),r=s),t||r===!1||o.$slider.trigger("breakpoint",[o,r])}},t.prototype.changeSlide=function(t,n){var i,s,a,o=this,r=e(t.currentTarget);switch(r.is("a")&&t.preventDefault(),r.is("li")||(r=r.closest("li")),a=o.slideCount%o.options.slidesToScroll!==0,i=a?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,t.data.message){case"previous":s=0===i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-s,!1,n);break;case"next":s=0===i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+s,!1,n);break;case"index":var l=0===t.data.index?0:t.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(l),!1,n),r.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,n,i=this;if(t=i.getNavigableIndexes(),n=0,e>t[t.length-1])e=t[t.length-1];else for(var s in t){if(e<t[s]){e=n;break}n=t[s]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){var t=this;t.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),e(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,t||n.$slider.trigger("destroy",[n])},t.prototype.disableTransition=function(e){var t=this,n={};n[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},t.prototype.fadeSlide=function(e,t){var n=this;n.cssTransitions===!1?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(n){n.stopImmediatePropagation();var i=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=i.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){var e=this;return e.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},t.prototype.getLeft=function(e){var t,n,i,s=this,a=0;return s.slideOffset=0,n=s.$slides.first().outerHeight(!0),s.options.infinite===!0?(s.slideCount>s.options.slidesToShow&&(s.slideOffset=s.slideWidth*s.options.slidesToShow*-1,a=n*s.options.slidesToShow*-1),s.slideCount%s.options.slidesToScroll!==0&&e+s.options.slidesToScroll>s.slideCount&&s.slideCount>s.options.slidesToShow&&(e>s.slideCount?(s.slideOffset=(s.options.slidesToShow-(e-s.slideCount))*s.slideWidth*-1,a=(s.options.slidesToShow-(e-s.slideCount))*n*-1):(s.slideOffset=s.slideCount%s.options.slidesToScroll*s.slideWidth*-1,a=s.slideCount%s.options.slidesToScroll*n*-1))):e+s.options.slidesToShow>s.slideCount&&(s.slideOffset=(e+s.options.slidesToShow-s.slideCount)*s.slideWidth,a=(e+s.options.slidesToShow-s.slideCount)*n),s.slideCount<=s.options.slidesToShow&&(s.slideOffset=0,a=0),s.options.centerMode===!0&&s.options.infinite===!0?s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)-s.slideWidth:s.options.centerMode===!0&&(s.slideOffset=0,s.slideOffset+=s.slideWidth*Math.floor(s.options.slidesToShow/2)),t=s.options.vertical===!1?e*s.slideWidth*-1+s.slideOffset:e*n*-1+a,s.options.variableWidth===!0&&(i=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow),t=s.options.rtl===!0?i[0]?(s.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,s.options.centerMode===!0&&(i=s.slideCount<=s.options.slidesToShow||s.options.infinite===!1?s.$slideTrack.children(".slick-slide").eq(e):s.$slideTrack.children(".slick-slide").eq(e+s.options.slidesToShow+1),t=s.options.rtl===!0?i[0]?(s.$slideTrack.width()-i[0].offsetLeft-i.width())*-1:0:i[0]?i[0].offsetLeft*-1:0,t+=(s.$list.width()-i.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){var t=this;return t.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,s=[];for(t.options.infinite===!1?e=t.slideCount:(n=t.options.slidesToScroll*-1,i=t.options.slidesToScroll*-1,e=2*t.slideCount);n<e;)s.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return s},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,n,i,s=this;return i=s.options.centerMode===!0?s.slideWidth*Math.floor(s.options.slidesToShow/2):0,s.options.swipeToSlide===!0?(s.$slideTrack.find(".slick-slide").each(function(t,a){if(a.offsetLeft-i+e(a).outerWidth()/2>s.swipeLeft*-1)return n=a,!1}),t=Math.abs(e(n).attr("data-slick-index")-s.currentSlide)||1):s.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){var n=this;n.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var n=this;e(n.$slider).hasClass("slick-initialized")||(e(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),t&&n.$slider.trigger("init",[n]),n.options.accessibility===!0&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(n){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+n})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(n){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+n,id:"slick-slide"+t.instanceUid+n})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),n=e(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",n).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,t,n])})},i.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,n])},i.src=n})}var n,i,s,a,o=this;o.options.centerMode===!0?o.options.infinite===!0?(s=o.currentSlide+(o.options.slidesToShow/2+1),a=s+o.options.slidesToShow+2):(s=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),a=2+(o.options.slidesToShow/2+1)+o.currentSlide):(s=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,a=Math.ceil(s+o.options.slidesToShow),o.options.fade===!0&&(s>0&&s--,a<=o.slideCount&&a++)),n=o.$slider.find(".slick-slide").slice(s,a),t(n),o.slideCount<=o.options.slidesToShow?(i=o.$slider.find(".slick-slide"),t(i)):o.currentSlide>=o.slideCount-o.options.slidesToShow?(i=o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow),t(i)):0===o.currentSlide&&(i=o.$slider.find(".slick-cloned").slice(o.options.slidesToShow*-1),t(i))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){var e=this;e.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){var e=this;e.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var n,i,s,a=this,o=e("img[data-lazy]",a.$slider);o.length?(n=o.first(),i=n.attr("data-lazy"),s=document.createElement("img"),s.onload=function(){n.attr("src",i).removeAttr("data-lazy").removeClass("slick-loading"),a.options.adaptiveHeight===!0&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,n,i]),a.progressiveLazyLoad()},s.onerror=function(){t<3?setTimeout(function(){a.progressiveLazyLoad(t+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,n,i]),a.progressiveLazyLoad())},s.src=i):a.$slider.trigger("allImagesLoaded",[a])},t.prototype.refresh=function(t){var n,i,s=this;i=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>i&&(s.currentSlide=i),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),n=s.currentSlide,s.destroy(!0),e.extend(s,s.initials,{currentSlide:n}),s.init(),t||s.changeSlide({data:{message:"index",index:n}},!1)},t.prototype.registerBreakpoints=function(){var t,n,i,s=this,a=s.options.responsive||null;if("array"===e.type(a)&&a.length){s.respondTo=s.options.respondTo||"window";for(t in a)if(i=s.breakpoints.length-1,n=a[t].breakpoint,a.hasOwnProperty(t)){for(;i>=0;)s.breakpoints[i]&&s.breakpoints[i]===n&&s.breakpoints.splice(i,1),i--;s.breakpoints.push(n),s.breakpointSettings[n]=a[t].settings}s.breakpoints.sort(function(e,t){return s.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,n){var i=this;return"boolean"==typeof e?(t=e,e=t===!0?0:i.slideCount-1):e=t===!0?--e:e,!(i.slideCount<1||e<0||e>i.slideCount-1)&&(i.unload(),n===!0?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},t.prototype.setCSS=function(e){var t,n,i=this,s={};i.options.rtl===!0&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",s[i.positionProp]=e,i.transformsEnabled===!1?i.$slideTrack.css(s):(s={},i.cssTransitions===!1?(s[i.animType]="translate("+t+", "+n+")",i.$slideTrack.css(s)):(s[i.animType]="translate3d("+t+", "+n+", 0px)",i.$slideTrack.css(s)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,n=this;n.$slides.each(function(i,s){t=n.slideWidth*i*-1,n.options.rtl===!0?e(s).css({position:"relative",right:t,top:0,zIndex:n.options.zIndex-2,opacity:0}):e(s).css({position:"relative",left:t,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,n,i,s,a,o=this,r=!1;if("object"===e.type(arguments[0])?(i=arguments[0],r=arguments[1],a="multiple"):"string"===e.type(arguments[0])&&(i=arguments[0],s=arguments[1],r=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?a="responsive":"undefined"!=typeof arguments[1]&&(a="single")),"single"===a)o.options[i]=s;else if("multiple"===a)e.each(i,function(e,t){o.options[e]=t});else if("responsive"===a)for(n in s)if("array"!==e.type(o.options.responsive))o.options.responsive=[s[n]];else{for(t=o.options.responsive.length-1;t>=0;)o.options.responsive[t].breakpoint===s[n].breakpoint&&o.options.responsive.splice(t,1),t--;o.options.responsive.push(s[n])}r&&(o.unload(),o.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,n,i,s,a=this;n=a.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),a.$slides.eq(e).addClass("slick-current"),a.options.centerMode===!0?(t=Math.floor(a.options.slidesToShow/2),a.options.infinite===!0&&(e>=t&&e<=a.slideCount-1-t?a.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=a.options.slidesToShow+e,n.slice(i-t+1,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-a.options.slidesToShow).addClass("slick-center"):e===a.slideCount-1&&n.eq(a.options.slidesToShow).addClass("slick-center")),a.$slides.eq(e).addClass("slick-center")):e>=0&&e<=a.slideCount-a.options.slidesToShow?a.$slides.slice(e,e+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=a.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(s=a.slideCount%a.options.slidesToShow,i=a.options.infinite===!0?a.options.slidesToShow+e:e,a.options.slidesToShow==a.options.slidesToScroll&&a.slideCount-e<a.options.slidesToShow?n.slice(i-(a.options.slidesToShow-s),i+s).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+a.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===a.options.lazyLoad&&a.lazyLoad()},t.prototype.setupInfinite=function(){var t,n,i,s=this;if(s.options.fade===!0&&(s.options.centerMode=!1),s.options.infinite===!0&&s.options.fade===!1&&(n=null,s.slideCount>s.options.slidesToShow)){for(i=s.options.centerMode===!0?s.options.slidesToShow+1:s.options.slidesToShow,t=s.slideCount;t>s.slideCount-i;t-=1)n=t-1,e(s.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(t=0;t<i;t+=1)n=t,e(s.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var n=this,i=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),s=parseInt(i.attr("data-slick-index"));return s||(s=0),n.slideCount<=n.options.slidesToShow?(n.setSlideClasses(s),void n.asNavFor(s)):void n.slideHandler(s)},t.prototype.slideHandler=function(e,t,n){var i,s,a,o,r,l=null,c=this;if(t=t||!1,(c.animating!==!0||c.options.waitForAnimate!==!0)&&!(c.options.fade===!0&&c.currentSlide===e||c.slideCount<=c.options.slidesToShow))return t===!1&&c.asNavFor(e),i=e,l=c.getLeft(i),o=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?o:c.swipeLeft,c.options.infinite===!1&&c.options.centerMode===!1&&(e<0||e>c.getDotCount()*c.options.slidesToScroll)?void(c.options.fade===!1&&(i=c.currentSlide,n!==!0?c.animateSlide(o,function(){c.postSlide(i)}):c.postSlide(i))):c.options.infinite===!1&&c.options.centerMode===!0&&(e<0||e>c.slideCount-c.options.slidesToScroll)?void(c.options.fade===!1&&(i=c.currentSlide,n!==!0?c.animateSlide(o,function(){c.postSlide(i)}):c.postSlide(i))):(c.options.autoplay&&clearInterval(c.autoPlayTimer),s=i<0?c.slideCount%c.options.slidesToScroll!==0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!==0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,s]),a=c.currentSlide,c.currentSlide=s,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(r=c.getNavTarget(),r=r.slick("getSlick"),r.slideCount<=r.options.slidesToShow&&r.setSlideClasses(c.currentSlide)),c.updateDots(),c.updateArrows(),c.options.fade===!0?(n!==!0?(c.fadeSlideOut(a),c.fadeSlide(s,function(){c.postSlide(s)})):c.postSlide(s),void c.animateHeight()):void(n!==!0?c.animateSlide(l,function(){c.postSlide(s)}):c.postSlide(s)))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,n,i,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,n=Math.atan2(t,e),i=Math.round(180*n/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0?s.options.rtl===!1?"left":"right":i<=360&&i>=315?s.options.rtl===!1?"left":"right":i>=135&&i<=225?s.options.rtl===!1?"right":"left":s.options.verticalSwiping===!0?i>=35&&i<=135?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.interrupted=!1,i.shouldClick=!(i.touchObject.swipeLength>10),
void 0===i.touchObject.curX)return!1;if(i.touchObject.edgeHit===!0&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&e.type.indexOf("mouse")!==-1))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,n,i,s,a,o=this;return a=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!o.dragging||a&&1!==a.length)&&(t=o.getLeft(o.currentSlide),o.touchObject.curX=void 0!==a?a[0].pageX:e.clientX,o.touchObject.curY=void 0!==a?a[0].pageY:e.clientY,o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curX-o.touchObject.startX,2))),o.options.verticalSwiping===!0&&(o.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(o.touchObject.curY-o.touchObject.startY,2)))),n=o.swipeDirection(),"vertical"!==n?(void 0!==e.originalEvent&&o.touchObject.swipeLength>4&&e.preventDefault(),s=(o.options.rtl===!1?1:-1)*(o.touchObject.curX>o.touchObject.startX?1:-1),o.options.verticalSwiping===!0&&(s=o.touchObject.curY>o.touchObject.startY?1:-1),i=o.touchObject.swipeLength,o.touchObject.edgeHit=!1,o.options.infinite===!1&&(0===o.currentSlide&&"right"===n||o.currentSlide>=o.getDotCount()&&"left"===n)&&(i=o.touchObject.swipeLength*o.options.edgeFriction,o.touchObject.edgeHit=!0),o.options.vertical===!1?o.swipeLeft=t+i*s:o.swipeLeft=t+i*(o.$list.height()/o.listWidth)*s,o.options.verticalSwiping===!0&&(o.swipeLeft=t+i*s),o.options.fade!==!0&&o.options.touchMove!==!1&&(o.animating===!0?(o.swipeLeft=null,!1):void o.setCSS(o.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,n=this;return n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow?(n.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(n.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,n,i=this,s=arguments[0],a=Array.prototype.slice.call(arguments,1),o=i.length;for(e=0;e<o;e++)if("object"==typeof s||"undefined"==typeof s?i[e].slick=new t(i[e],s):n=i[e].slick[s].apply(i[e].slick,a),"undefined"!=typeof n)return n;return i}}),angular.module("slickCarousel",[]).constant("slickCarouselConfig",{method:{},event:{}}).directive("slick",["$timeout","slickCarouselConfig",function(e,t){var n,i;return n=["slickGoTo","slickNext","slickPrev","slickPause","slickPlay","slickAdd","slickRemove","slickFilter","slickUnfilter","unslick"],i=["afterChange","beforeChange","breakpoint","destroy","edge","init","reInit","setPosition","swipe","lazyLoaded","lazyLoadError"],{scope:{settings:"=",enabled:"@",accessibility:"@",adaptiveHeight:"@",autoplay:"@",autoplaySpeed:"@",arrows:"@",asNavFor:"@",appendArrows:"@",prevArrow:"@",nextArrow:"@",centerMode:"@",centerPadding:"@",cssEase:"@",customPaging:"&",dots:"@",draggable:"@",fade:"@",focusOnSelect:"@",easing:"@",edgeFriction:"@",infinite:"@",initialSlide:"@",lazyLoad:"@",mobileFirst:"@",pauseOnHover:"@",pauseOnDotsHover:"@",respondTo:"@",responsive:"=?",rows:"@",slide:"@",slidesPerRow:"@",slidesToShow:"@",slidesToScroll:"@",speed:"@",swipe:"@",swipeToSlide:"@",touchMove:"@",touchThreshold:"@",useCSS:"@",variableWidth:"@",vertical:"@",verticalSwiping:"@",rtl:"@"},restrict:"AE",link:function(i,s,a){angular.element(s).css("display","none");var o,r,l,c,d,u;return r=function(){o=angular.extend(angular.copy(t),{enabled:"false"!==i.enabled,accessibility:"false"!==i.accessibility,adaptiveHeight:"true"===i.adaptiveHeight,autoplay:"true"===i.autoplay,autoplaySpeed:null!=i.autoplaySpeed?parseInt(i.autoplaySpeed,10):3e3,arrows:"false"!==i.arrows,asNavFor:i.asNavFor?i.asNavFor:void 0,appendArrows:angular.element(i.appendArrows?i.appendArrows:s),prevArrow:i.prevArrow?angular.element(i.prevArrow):void 0,nextArrow:i.nextArrow?angular.element(i.nextArrow):void 0,centerMode:"true"===i.centerMode,centerPadding:i.centerPadding||"50px",cssEase:i.cssEase||"ease",customPaging:a.customPaging?function(e,t){return i.customPaging({slick:e,index:t})}:void 0,dots:"true"===i.dots,draggable:"false"!==i.draggable,fade:"true"===i.fade,focusOnSelect:"true"===i.focusOnSelect,easing:i.easing||"linear",edgeFriction:i.edgeFriction||.15,infinite:"false"!==i.infinite,initialSlide:parseInt(i.initialSlide)||0,lazyLoad:i.lazyLoad||"ondemand",mobileFirst:"true"===i.mobileFirst,pauseOnHover:"false"!==i.pauseOnHover,pauseOnDotsHover:"true"===i.pauseOnDotsHover,respondTo:null!=i.respondTo?i.respondTo:"window",responsive:i.responsive||void 0,rows:null!=i.rows?parseInt(i.rows,10):1,slide:i.slide||"",slidesPerRow:null!=i.slidesPerRow?parseInt(i.slidesPerRow,10):1,slidesToShow:null!=i.slidesToShow?parseInt(i.slidesToShow,10):1,slidesToScroll:null!=i.slidesToScroll?parseInt(i.slidesToScroll,10):1,speed:null!=i.speed?parseInt(i.speed,10):300,swipe:"false"!==i.swipe,swipeToSlide:"true"===i.swipeToSlide,touchMove:"false"!==i.touchMove,touchThreshold:i.touchThreshold?parseInt(i.touchThreshold,10):5,useCSS:"false"!==i.useCSS,variableWidth:"true"===i.variableWidth,vertical:"true"===i.vertical,verticalSwiping:"true"===i.verticalSwiping,rtl:"true"===i.rtl},i.settings)},l=function(){var e=angular.element(s);return e.hasClass("slick-initialized")&&(e.remove("slick-list"),e.slick("unslick")),e},c=function(){r();var t=angular.element(s);if(angular.element(s).hasClass("slick-initialized")){if(o.enabled)return t.slick("getSlick");l()}else{if(!o.enabled)return;t.on("init",function(e,t){return"undefined"!=typeof o.event.init&&o.event.init(e,t),"undefined"!=typeof u?t.slideHandler(u):void 0}),e(function(){angular.element(s).css("display","block"),t.not(".slick-initialized").slick(o)})}i.internalControl=o.method||{},n.forEach(function(e){i.internalControl[e]=function(){var n;n=Array.prototype.slice.call(arguments),n.unshift(e),t.slick.apply(s,n)}}),t.on("afterChange",function(t,n,s){u=s,"undefined"!=typeof o.event.afterChange&&e(function(){i.$apply(function(){o.event.afterChange(t,n,s)})})}),t.on("beforeChange",function(t,n,s,a){"undefined"!=typeof o.event.beforeChange&&e(function(){e(function(){i.$apply(function(){o.event.beforeChange(t,n,s,a)})})})}),t.on("reInit",function(t,n){"undefined"!=typeof o.event.reInit&&e(function(){i.$apply(function(){o.event.reInit(t,n)})})}),"undefined"!=typeof o.event.breakpoint&&t.on("breakpoint",function(t,n,s){e(function(){i.$apply(function(){o.event.breakpoint(t,n,s)})})}),"undefined"!=typeof o.event.destroy&&t.on("destroy",function(t,n){e(function(){i.$apply(function(){o.event.destroy(t,n)})})}),"undefined"!=typeof o.event.edge&&t.on("edge",function(t,n,s){e(function(){i.$apply(function(){o.event.edge(t,n,s)})})}),"undefined"!=typeof o.event.setPosition&&t.on("setPosition",function(t,n){e(function(){i.$apply(function(){o.event.setPosition(t,n)})})}),"undefined"!=typeof o.event.swipe&&t.on("swipe",function(t,n,s){e(function(){i.$apply(function(){o.event.swipe(t,n,s)})})}),"undefined"!=typeof o.event.lazyLoaded&&t.on("lazyLoaded",function(t,n,s,a){e(function(){i.$apply(function(){o.event.lazyLoaded(t,n,s,a)})})}),"undefined"!=typeof o.event.lazyLoadError&&t.on("lazyLoadError",function(t,n,s,a){e(function(){i.$apply(function(){o.event.lazyLoadError(t,n,s,a)})})})},d=function(){l(),c()},s.one("$destroy",function(){l()}),i.$watch("settings",function(e,t){return null!==e?d():void 0},!0)}}}]),function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return e.Bloodhound=t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,s){if(!(i=n.call(null,s,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,s){if(i=n.call(null,s,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,s;return function(){var a,o,r=this,l=arguments;return a=function(){i=null,n||(s=e.apply(r,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,t),o&&(s=e.apply(r,l)),s}},throttle:function(e,t){var n,i,s,a,o,r;return o=0,r=function(){o=new Date,s=null,a=e.apply(n,i)},function(){var l=new Date,c=t-(l-o);return n=this,i=arguments,c<=0?(clearTimeout(s),s=null,o=l,a=e.apply(n,i)):s||(s=setTimeout(r,c)),a}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(i){var s=[];return t.each(n,function(n){s=s.concat(e(t.toStr(i[n])))}),s}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),s=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function s(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new s(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),a=function(){"use strict";function n(e,n){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=n||r,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function s(e){return JSON.stringify(t.isUndefined(e)?null:e)}function a(t){return e.parseJSON(t)}function o(e){var t,n,i=[],s=r.length;for(t=0;t<s;t++)(n=r.key(t)).match(e)&&i.push(n.replace(e,""));return i}var r;try{r=window.localStorage,r.setItem("~~~","!"),r.removeItem("~~~")}catch(l){r=null}return t.mixin(n.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),a(this.ls.getItem(this._prefix(e)))},set:function(e,n,a){return t.isNumber(a)?this._safeSet(this._ttlKey(e),s(i()+a)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),s(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=o(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=a(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&i()>n)}}),n}(),o=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new s(0):r}var i=0,a={},o=6,r=new s(10);return n.setMaxPendingRequests=function(e){o=e},n.resetCache=function(){r.reset()},t.mixin(n.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function n(e){t(null,e),d._cache.set(l,e)}function s(){t(!0)}function r(){i--,delete a[l],d.onDeckRequestArgs&&(d._get.apply(d,d.onDeckRequestArgs),d.onDeckRequestArgs=null)}var l,c,d=this;l=this._fingerprint(e),this.cancelled||l!==this.lastReq||((c=a[l])?c.done(n).fail(s):i<o?(i++,a[l]=this._send(e).done(n).fail(s).always(r)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var s,a;i=i||e.noop,n=t.isString(n)?{url:n}:n||{},a=this._fingerprint(n),this.cancelled=!1,this.lastReq=a,(s=this._cache.get(a))?i(null,s):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),r=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function s(){var e={};return e[l]=[],e[r]={},e}function a(e){for(var t={},n=[],i=0,s=e.length;i<s;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function o(e,t){var n=0,i=0,s=[];e=e.sort(),t=t.sort();for(var a=e.length,o=t.length;n<a&&i<o;)e[n]<t[i]?n++:e[n]>t[i]?i++:(s.push(e[n]),n++,i++);return s}var r="c",l="i";return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var a,o;n.datums[a=n.identify(e)]=e,o=i(n.datumTokenizer(e)),t.each(o,function(e){var t,i,o;for(t=n.trie,i=e.split("");o=i.shift();)t=t[r][o]||(t[r][o]=s()),t[l].push(a)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var n,s,c=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,a;if(s&&0===s.length)return!1;for(t=c.trie,n=e.split("");t&&(i=n.shift());)t=t[r][i];return t&&0===n.length?(a=t[l].slice(0),void(s=s?o(s,a):a)):(s=[],!1)}),s?t.map(a(s),function(e){return c.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new a(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,s.transform(t))}var i,s=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function(){return this.storage.clear(),this}}),e}(),c=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new o({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function n(e,n){t(e?[]:s.transform(n))}var i,s=this;if(t)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),e}(),d=function(){"use strict";function i(i){var s;return i?(s={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,i=t.mixin(s,i),!i.url&&e.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?r(i.transport):e.ajax,i):null}function s(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(i,n),!n.url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=a(n),n.limiter=o(n),n.transport=n.transport?r(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function a(e){function t(e,t){return t.url=a(t.url,e),t}function n(e,t){return t.url=t.url.replace(o,encodeURIComponent(e)),t}function i(e,t){return t}var s,a,o;return s=e.prepare,a=e.replace,o=e.wildcard,s?s:s=a?t:e.wildcard?n:i}function o(e){function n(e){return function(n){return t.debounce(n,e)}}function i(e){return function(n){return t.throttle(n,e)}}var s,a,o;return s=e.limiter,a=e.rateLimitBy,o=e.rateLimitWait,s||(s=/^throttle$/i.test(a)?i(o):n(o)),s}function r(n){return function(i){function s(e){t.defer(function(){o.resolve(e)})}function a(e){t.defer(function(){o.reject(e)})}var o=e.Deferred();return n(i,s,a),o}}return function(n){var a,o;return a={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=t.mixin(a,n||{}),!n.datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),o=n.sorter,n.sorter=o?function(e){return e.sort(o)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=s(n.remote),n}}(),u=function(){"use strict";function n(e){e=d(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new c(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new r({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}var s;return s=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=s),n},n.tokenizers=i,t.mixin(n.prototype,{__ttAdapter:function(){function e(e,t,i){return n.search(e,t,i)}function t(e,t){return n.search(e,t)}var n=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){return e?n.reject():(s.add(t),s.prefetch.store(s.index.serialize()),void n.resolve())}var n,i,s=this;return n=e.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,i){function s(e){var n=[];t.each(e,function(e){!t.some(a,function(t){return o.identify(e)===o.identify(t)})&&n.push(e)}),i&&i(n)}var a,o=this;return a=this.sorter(this.index.search(e)),n(this.remote?a.slice():a),this.remote&&a.length<this.sufficient?this.remote.get(e,s):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return u}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,s){if(!(i=n.call(null,s,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,s){if(i=n.call(null,s,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,s;return function(){var a,o,r=this,l=arguments;return a=function(){i=null,n||(s=e.apply(r,l))},o=n&&!i,clearTimeout(i),i=setTimeout(a,t),o&&(s=e.apply(r,l)),s}},throttle:function(e,t){var n,i,s,a,o,r;return o=0,r=function(){o=new Date,s=null,a=e.apply(n,i)},function(){var l=new Date,c=t-(l-o);return n=this,i=arguments,c<=0?(clearTimeout(s),s=null,o=l,a=e.apply(n,i)):s||(s=setTimeout(r,c)),a}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function e(e){var o,r;return r=t.mixin({},a,e),o={css:s(),classes:r,html:n(r),selectors:i(r)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(e){t.mixin(e,o)}}}function n(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function s(){var e={wrapper:{position:"relative",display:"block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"middle",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"middle"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),i=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i,s;return i="typeahead:",s={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var s;return s=e.Event(i+t),(n=n||[]).unshift(s),this.$el.trigger.apply(this.$el,n),s},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=s[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),s=function(){"use strict";function e(e,t,n,i){var s;if(!n)return this;for(t=t.split(l),n=i?r(n,i):n,this._callbacks=this._callbacks||{};s=t.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function s(e){var t,n,i,s,o;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)s=a(n.sync,this,[t].concat(i)),o=a(n.async,this,[t].concat(i)),s()&&c(o);return this}function a(e,t,n){function i(){for(var i,s=0,a=e.length;!i&&s<a;s+=1)i=e[s].apply(t,n)===!1;return!i}return i}function o(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function r(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,c=o();return{onSync:n,onAsync:t,off:i,trigger:s}}(),a=function(e){"use strict";function n(e,n,i){for(var s,a=[],o=0,r=e.length;o<r;o++)a.push(t.escapeRegExChars(e[o]));return s=i?"\\b("+a.join("|")+")\\b":"("+a.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function a(t){var n,i,a;return(n=r.exec(t.data))&&(a=e.createElement(s.tagName),s.className&&(a.className=s.className),i=t.splitText(n.index),i.splitText(n[0].length),a.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(a,i)),!!n}function o(e,t){for(var n,i=3,s=0;s<e.childNodes.length;s++)n=e.childNodes[s],n.nodeType===i?s+=t(n)?1:0:o(n,t)}var r;s=t.mixin({},i,s),s.node&&s.pattern&&(s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],r=n(s.pattern,s.caseSensitive,s.wordsOnly),o(s.node,a))}}(window.document),o=function(){"use strict";function n(n,s){n=n||{},n.input||e.error("input is missing"),s.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function a(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var r;return r={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,s,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=r[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!o(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!o(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i;n=a(e,this.query),i=!!n&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,i,s,a=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),i=t.bind(this._onKeydown,this),s=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){r[e.which||e.keyCode]||t.defer(t.bind(a._onInput,a,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query);
},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:!document.selection||(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),r=function(){"use strict";function n(n,s){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!r(n.name)&&e.error("invalid dataset name: "+n.name),s.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=o(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function o(n,i){function s(t){return e("<div>").text(i(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||s}}function r(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},t.mixin(n.prototype,s,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,i;n=this._getSuggestionsFragment(e,t),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var s,o=this;return s=document.createDocumentFragment(),t.each(i,function(t){var i,a;a=o._injectQuery(n,t),i=e(o.templates.suggestion(a)).data(l.obj,t).data(l.val,o.displayFn(t)).addClass(o.classes.suggestion+" "+o.classes.selectable),s.appendChild(i[0])}),this.highlight&&a({className:this.classes.highlight,node:s,pattern:n}),e(s)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){o||(o=!0,e=(e||[]).slice(0,s.limit),r=e.length,s._overwrite(t,e),r<s.limit&&s.async&&s.trigger("asyncRequested",t))}function i(n){n=n||[],!a&&r<s.limit&&(s.cancel=e.noop,r+=n.length,s._append(t,n.slice(0,s.limit-r)),s.async&&s.trigger("asyncReceived",t))}var s=this,a=!1,o=!1,r=0;this.cancel(),this.cancel=function(){a=!0,s.cancel=e.noop,s.async&&s.trigger("asyncCanceled",t)},this.source(t,n,i),!o&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function s(t){var n=a.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(a.$node),new r(t,i)}var a=this;n=n||{},n.node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,s)}return t.mixin(n.prototype,s,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,i,s;t=e.position().top,n=t+e.outerHeight(!0),i=this.$node.scrollTop(),s=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):s<n&&this.$node.scrollTop(i+(n-s))},bind:function(){var e,n=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i,s;return n=this.getActiveSelectable(),t=this._getSelectables(),i=n?t.index(n):-1,s=i+e,s=(s+1)%(t.length+1)-1,s=s<-1?t.length-1:s,s===-1?null:t.eq(s)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?r.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function n(t){t.update(e)}var i=e!==this.query;return i&&(this.query=e,t.each(this.datasets,n)),i},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,n)}}),n}(),c=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),d=function(){"use strict";function n(n,s){var a,o,r,l,c,d,u,p,h,f,g;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),s.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),a=i(this,"activate","open","_onFocused"),o=i(this,"deactivate","_onBlurred"),r=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),d=i(this,"isActive","open","_onUpKeyed"),u=i(this,"isActive","open","_onDownKeyed"),p=i(this,"isActive","isOpen","_onLeftKeyed"),h=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",a,this).onSync("blurred",o,this).onSync("enterKeyed",r,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",d,this).onSync("downKeyed",u,this).onSync("leftKeyed",p,this).onSync("rightKeyed",h,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(e){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,i)})}}return t.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var s,a,o;s=document.activeElement,a=i.is(s),o=i.has(s).length>0,t.isMsie()&&(a||o)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,n,i,s,a,r,l;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||t.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(s=o.normalizeQuery(i),a=t.escapeRegExChars(s),r=new RegExp("^(?:"+a+")(.+$)","i"),l=r.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,n,i;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),i=n&&t!==n.val,!(!i||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(e){var t,n,i,s,a;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),s=i?i.obj:null,a=this._minLengthMet()&&this.menu.update(t),!a&&!this.eventBus.before("cursorchange",s)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",s),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function s(t,n){t.each(function(){var t,i=e(this);(t=i.data(g.typeahead))&&n(t,i)})}function a(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(u(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function r(e,t){e.data(g.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function u(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function p(e){var n,i;n=e.data(g.www),i=e.parent().filter(n.selectors.wrapper),t.each(e.data(g.attrs),function(n,i){t.isUndefined(n)?e.removeAttr(i):e.attr(i,n)}),e.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(e.detach().insertAfter(i),i.remove())}function h(n){var i,s;return i=t.isJQuery(n)||t.isElement(n),s=i?e(n).first():[],s.length?s:null}var f,g,m;f=e.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(s,u){function p(){var n,p,m,v,b,y,w,x,k,$,S;t.each(u,function(e){e.highlight=!!s.highlight}),n=e(this),p=e(f.html.wrapper),m=h(s.hint),v=h(s.menu),b=s.hint!==!1&&!m,y=s.menu!==!1&&!v,b&&(m=a(n,f)),y&&(v=e(f.html.menu).css(f.css.menu)),m&&m.val(""),n=r(n,f),(b||y)&&(p.css(f.css.wrapper),n.css(b?f.css.input:f.css.inputWithNoHint),n.wrap(p).parent().prepend(b?m:null).append(y?v:null)),S=y?c:l,w=new i({el:n}),x=new o({hint:m,input:n},f),k=new S({node:v,datasets:u},f),$=new d({input:x,menu:k,eventBus:w,minLength:s.minLength},f),n.data(g.www,f),n.data(g.typeahead,$)}var f;return u=t.isArray(u)?u:[].slice.call(arguments,1),s=s||{},f=n(s.classNames),this.each(p)},isEnabled:function(){var e;return s(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return s(this,function(e){e.enable()}),this},disable:function(){return s(this,function(e){e.disable()}),this},isActive:function(){var e;return s(this.first(),function(t){e=t.isActive()}),e},activate:function(){return s(this,function(e){e.activate()}),this},deactivate:function(){return s(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return s(this.first(),function(t){e=t.isOpen()}),e},open:function(){return s(this,function(e){e.open()}),this},close:function(){return s(this,function(e){e.close()}),this},select:function(t){var n=!1,i=e(t);return s(this.first(),function(e){n=e.select(i)}),n},autocomplete:function(t){var n=!1,i=e(t);return s(this.first(),function(e){n=e.autocomplete(i)}),n},moveCursor:function(e){var t=!1;return s(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(s(this,function(t){t.setVal(e)}),this):(s(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return s(this,function(e,t){p(t),e.destroy()}),this}},e.fn.typeahead=function(e){return m[e]?m[e].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this}}()});var fixto=function(e,t,n){function i(){this._vendor=null}function s(){var e=!1,t=n.createElement("div"),i=n.createElement("div");t.appendChild(i),t.style[h]="translate(0)",t.style.marginTop="10px",t.style.visibility="hidden",i.style.position="fixed",i.style.top=0,n.body.appendChild(t);var s=i.getBoundingClientRect();return s.top>0&&(e=!0),n.body.removeChild(t),e}function a(t,n,i){this.child=t,this._$child=e(t),this.parent=n,this.options={className:"fixto-fixed",top:0,mindViewport:!1},this._setOptions(i)}function o(e,t,n){a.call(this,e,t,n),this._replacer=new c.MimicNode(e),this._ghostNode=this._replacer.replacer,this._saveStyles(),this._saveViewportHeight(),this._proxied_onscroll=this._bind(this._onscroll,this),this._proxied_onresize=this._bind(this._onresize,this),this.start()}function r(e,t,n){a.call(this,e,t,n),this.start()}var l=function(){var e={getAll:function(e){return n.defaultView.getComputedStyle(e)},get:function(e,t){return this.getAll(e)[t]},toFloat:function(e){return parseFloat(e,10)||0},getFloat:function(e,t){return this.toFloat(this.get(e,t))},_getAllCurrentStyle:function(e){return e.currentStyle}};return n.documentElement.currentStyle&&(e.getAll=e._getAllCurrentStyle),e}(),c=function(){function t(e){this.element=e,this.replacer=n.createElement("div"),this.replacer.style.visibility="hidden",this.hide(),e.parentNode.insertBefore(this.replacer,e)}t.prototype={replace:function(){var e=this.replacer.style,t=l.getAll(this.element);e.width=this._width(),e.height=this._height(),e.marginTop=t.marginTop,e.marginBottom=t.marginBottom,e.marginLeft=t.marginLeft,e.marginRight=t.marginRight,e.cssFloat=t.cssFloat,e.styleFloat=t.styleFloat,e.position=t.position,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.display=t.display},hide:function(){this.replacer.style.display="none"},_width:function(){return this.element.getBoundingClientRect().width+"px"},_widthOffset:function(){return this.element.offsetWidth+"px"},_height:function(){return this.element.getBoundingClientRect().height+"px"},_heightOffset:function(){return this.element.offsetHeight+"px"},destroy:function(){e(this.replacer).remove();for(var t in this)this.hasOwnProperty(t)&&(this[t]=null)}};var i=n.documentElement.getBoundingClientRect();return i.width||(t.prototype._width=t.prototype._widthOffset,t.prototype._height=t.prototype._heightOffset),{MimicNode:t,computedStyle:l}}();i.prototype={_vendors:{webkit:{cssPrefix:"-webkit-",jsPrefix:"Webkit"},moz:{cssPrefix:"-moz-",jsPrefix:"Moz"},ms:{cssPrefix:"-ms-",jsPrefix:"ms"},opera:{cssPrefix:"-o-",jsPrefix:"O"}},_prefixJsProperty:function(e,t){return e.jsPrefix+t[0].toUpperCase()+t.substr(1)},_prefixValue:function(e,t){return e.cssPrefix+t},_valueSupported:function(e,t,n){try{return n.style[e]=t,n.style[e]===t}catch(i){return!1}},propertySupported:function(e){return void 0!==n.documentElement.style[e]},getJsProperty:function(e){if(this.propertySupported(e))return e;if(this._vendor)return this._prefixJsProperty(this._vendor,e);var t;for(var n in this._vendors)if(t=this._prefixJsProperty(this._vendors[n],e),this.propertySupported(t))return this._vendor=this._vendors[n],t;return null},getCssValue:function(e,t){var i=n.createElement("div"),s=this.getJsProperty(e);if(this._valueSupported(s,t,i))return t;var a;if(this._vendor&&(a=this._prefixValue(this._vendor,t),this._valueSupported(s,a,i)))return a;for(var o in this._vendors)if(a=this._prefixValue(this._vendors[o],t),this._valueSupported(s,a,i))return this._vendor=this._vendors[o],a;return null}};var d,u,p=new i,h=p.getJsProperty("transform"),f=p.getCssValue("position","sticky"),g=p.getCssValue("position","fixed"),m="Microsoft Internet Explorer"===navigator.appName;m&&(u=parseFloat(navigator.appVersion.split("MSIE")[1])),a.prototype={_mindtop:function(){var e=0;if(this._$mind)for(var t,n,i=0,s=this._$mind.length;i<s;i++)if(t=this._$mind[i],n=t.getBoundingClientRect(),n.height)e+=n.height;else{var a=l.getAll(t);e+=t.offsetHeight+l.toFloat(a.marginTop)+l.toFloat(a.marginBottom)}return e},stop:function(){this._stop(),this._running=!1},start:function(){this._running||(this._start(),this._running=!0)},destroy:function(){this.stop(),this._destroy(),this._$child.removeData("fixto-instance");for(var e in this)this.hasOwnProperty(e)&&(this[e]=null)},_setOptions:function(t){e.extend(this.options,t),this.options.mind&&(this._$mind=e(this.options.mind)),this.options.zIndex&&(this.child.style.zIndex=this.options.zIndex)},setOptions:function(e){this._setOptions(e),this.refresh()},_stop:function(){},_start:function(){},_destroy:function(){},refresh:function(){}},o.prototype=new a,e.extend(o.prototype,{_bind:function(e,t){return function(){return e.call(t)}},_toresize:8===u?n.documentElement:t,_onscroll:function(){if(this._scrollTop=n.documentElement.scrollTop||n.body.scrollTop,this._parentBottom=this.parent.offsetHeight+this._fullOffset("offsetTop",this.parent),this.options.mindBottomPadding!==!1&&(this._parentBottom-=l.getFloat(this.parent,"paddingBottom")),!this.fixed&&this._shouldFix())this._fix(),this._adjust();else{if(this._scrollTop>this._parentBottom||this._scrollTop<this._fullOffset("offsetTop",this._ghostNode)-this.options.top-this._mindtop())return void this._unfix();this._adjust()}},_shouldFix:function(){if(this._scrollTop<this._parentBottom&&this._scrollTop>this._fullOffset("offsetTop",this.child)-this.options.top-this._mindtop())return!(this.options.mindViewport&&!this._isViewportAvailable())},_isViewportAvailable:function(){var e=l.getAll(this.child);return this._viewportHeight>this.child.offsetHeight+l.toFloat(e.marginTop)+l.toFloat(e.marginBottom)},_adjust:function(){var e=0,t=this._mindtop(),n=0,i=l.getAll(this.child),s=null;d&&(s=this._getContext(),s&&(e=Math.abs(s.getBoundingClientRect().top))),n=this._parentBottom-this._scrollTop-(this.child.offsetHeight+l.toFloat(i.marginBottom)+t+this.options.top),n>0&&(n=0),this.child.style.top=n+t+e+this.options.top-l.toFloat(i.marginTop)+"px"},_fullOffset:function(e,t,n){for(var i=t[e],s=t.offsetParent;null!==s&&s!==n;)i+=s[e],s=s.offsetParent;return i},_getContext:function(){for(var e,t,i=this.child,s=null;!s;){if(e=i.parentNode,e===n.documentElement)return null;if(t=l.getAll(e),"none"!==t[h]){s=e;break}i=e}return s},_fix:function(){var e=this.child,t=e.style,i=l.getAll(e),s=e.getBoundingClientRect().left,a=i.width;if(this._saveStyles(),n.documentElement.currentStyle&&(a=e.offsetWidth-(l.toFloat(i.paddingLeft)+l.toFloat(i.paddingRight)+l.toFloat(i.borderLeftWidth)+l.toFloat(i.borderRightWidth))+"px"),d){var o=this._getContext();o&&(s=e.getBoundingClientRect().left-o.getBoundingClientRect().left)}this._replacer.replace(),t.left=s-l.toFloat(i.marginLeft)+"px",t.width=a,t.position="fixed",t.top=this._mindtop()+this.options.top-l.toFloat(i.marginTop)+"px",this._$child.addClass(this.options.className),this.fixed=!0},_unfix:function(){var e=this.child.style;this._replacer.hide(),e.position=this._childOriginalPosition,e.top=this._childOriginalTop,e.width=this._childOriginalWidth,e.left=this._childOriginalLeft,this._$child.removeClass(this.options.className),this.fixed=!1},_saveStyles:function(){var e=this.child.style;this._childOriginalPosition=e.position,this._childOriginalTop=e.top,this._childOriginalWidth=e.width,this._childOriginalLeft=e.left},_onresize:function(){this.refresh()},_saveViewportHeight:function(){this._viewportHeight=t.innerHeight||n.documentElement.clientHeight},_stop:function(){this._unfix(),e(t).unbind("scroll",this._proxied_onscroll),e(this._toresize).unbind("resize",this._proxied_onresize)},_start:function(){this._onscroll(),e(t).bind("scroll",this._proxied_onscroll),e(this._toresize).bind("resize",this._proxied_onresize)},_destroy:function(){this._replacer.destroy()},refresh:function(){this._saveViewportHeight(),this._unfix(),this._onscroll()}}),r.prototype=new a,e.extend(r.prototype,{_start:function(){var e=l.getAll(this.child);this._childOriginalPosition=e.position,this._childOriginalTop=e.top,this.child.style.position=f,this.refresh()},_stop:function(){this.child.style.position=this._childOriginalPosition,this.child.style.top=this._childOriginalTop},refresh:function(){this.child.style.top=this._mindtop()+this.options.top+"px"}});var v=function(e,t,n){return f&&!n||f&&n&&n.useNativeSticky!==!1?new r(e,t,n):g?(void 0===d&&(d=s()),new o(e,t,n)):"Neither fixed nor sticky positioning supported"};return u<8&&(v=function(){return"not supported"}),e.fn.fixTo=function(t,n){var i=e(t),s=0;return this.each(function(){var a=e(this).data("fixto-instance");if(a){var o=t;a[o].call(a,n)}else e(this).data("fixto-instance",v(this,i[s],n));s++})},{FixToContainer:o,fixTo:v,computedStyle:l,mimicNode:c}}(window.jQuery,window,document);angular.module("bootstrapLightbox",["ui.bootstrap"]);try{angular.module("angular-loading-bar"),angular.module("bootstrapLightbox").requires.push("angular-loading-bar")}catch(e){}try{angular.module("ngTouch"),angular.module("bootstrapLightbox").requires.push("ngTouch")}catch(e){}try{angular.module("videosharing-embed"),angular.module("bootstrapLightbox").requires.push("videosharing-embed")}catch(e){}angular.module("bootstrapLightbox").run(["$templateCache",function(e){"use strict";e.put("lightbox.html",'<div class=modal-body ng-swipe-left=Lightbox.nextImage() ng-swipe-right=Lightbox.prevImage()><div class=lightbox-nav><button class=close aria-hidden=true ng-click=$dismiss()></button><div class=btn-group ng-if="Lightbox.images.length > 1"><a class="btn btn-xs btn-default" ng-click=Lightbox.prevImage()> Previous</a> <a ng-href={{Lightbox.imageUrl}} target=_blank class="btn btn-xs btn-default" title="Open in new tab">Open image in new tab</a> <a class="btn btn-xs btn-default" ng-click=Lightbox.nextImage()>Next </a></div></div><div class=lightbox-image-container><div class=lightbox-image-caption><span>{{Lightbox.imageCaption}}</span></div><img ng-if=!Lightbox.isVideo(Lightbox.image) lightbox-src={{Lightbox.imageUrl}}><div ng-if=Lightbox.isVideo(Lightbox.image) class="embed-responsive embed-responsive-16by9"><video ng-if=!Lightbox.isSharedVideo(Lightbox.image) lightbox-src={{Lightbox.imageUrl}} controls autoplay></video><embed-video ng-if=Lightbox.isSharedVideo(Lightbox.image) lightbox-src={{Lightbox.imageUrl}} ng-href={{Lightbox.imageUrl}} iframe-id=lightbox-video class=embed-responsive-item><a ng-href={{Lightbox.imageUrl}}>Watch video</a></embed-video></div></div></div>')}]),angular.module("bootstrapLightbox").service("ImageLoader",["$q",function(e){this.load=function(t){var n=e.defer(),i=new Image;return i.onload=function(){("boolean"==typeof this.complete&&this.complete===!1||"number"==typeof this.naturalWidth&&0===this.naturalWidth)&&n.reject(),n.resolve(i)},i.onerror=function(){n.reject()},i.src=t,n.promise}}]),angular.module("bootstrapLightbox").provider("Lightbox",function(){this.templateUrl="lightbox.html",this.fullScreenMode=!1,this.getImageUrl=function(e){return"string"==typeof e?e:e.url},this.getImageCaption=function(e){return e.caption},this.calculateImageDimensionLimits=function(e){return e.windowWidth>=768?{maxWidth:e.windowWidth-92,maxHeight:e.windowHeight-126}:{maxWidth:e.windowWidth-52,maxHeight:e.windowHeight-86}},this.calculateModalDimensions=function(e){var t=Math.max(400,e.imageDisplayWidth+32),n=Math.max(200,e.imageDisplayHeight+66);return(t>=e.windowWidth-20||e.windowWidth<768)&&(t="auto"),n>=e.windowHeight&&(n="auto"),{width:t,height:n}},this.isVideo=function(e){return!("object"!=typeof e||!e||!e.type)&&"video"===e.type},this.isSharedVideo=function(e){return this.isVideo(e)&&!this.getImageUrl(e).match(/\.(mp4|ogg|webm)$/)},this.$get=["$document","$injector","$uibModal","$timeout","ImageLoader",function(e,t,n,i,s){var a=t.has("cfpLoadingBar")?t.get("cfpLoadingBar"):null,o={};return o.images=[],o.index=-1,o.templateUrl=this.templateUrl,o.fullScreenMode=this.fullScreenMode,o.getImageUrl=this.getImageUrl,o.getImageCaption=this.getImageCaption,o.calculateImageDimensionLimits=this.calculateImageDimensionLimits,o.calculateModalDimensions=this.calculateModalDimensions,o.isVideo=this.isVideo,o.isSharedVideo=this.isSharedVideo,o.keyboardNavEnabled=!1,o.image={},o.modalInstance=null,o.loading=!1,o.openModal=function(e,t,i){return o.images=e,o.setImage(t),o.modalInstance=n.open(angular.extend({templateUrl:o.templateUrl,controller:["$scope",function(e){e.Lightbox=o,o.keyboardNavEnabled=!0}],windowClass:"lightbox-modal"},i||{})),o.modalInstance.result["finally"](function(){o.images=[],o.index=1,o.image={},o.imageUrl=null,o.imageCaption=null,o.keyboardNavEnabled=!1,a&&a.complete()}),o.modalInstance},o.closeModal=function(e){return o.modalInstance.close(e)},o.setImage=function(e){if(!(e in o.images))throw"Invalid image.";o.loading=!0,a&&a.start();var t=o.images[e],n=o.getImageUrl(t),i=function(i){i=i||{},o.index=i.index||e,o.image=i.image||t,o.imageUrl=i.imageUrl||n,o.imageCaption=i.imageCaption||o.getImageCaption(t),o.loading=!1,a&&a.complete()};o.isVideo(t)?i():s.load(n).then(function(){i()},function(){i({imageUrl:"#",imageCaption:"Failed to load image"})})},o.firstImage=function(){o.setImage(0)},o.prevImage=function(){o.setImage((o.index-1+o.images.length)%o.images.length)},o.nextImage=function(){o.setImage((o.index+1)%o.images.length)},o.lastImage=function(){o.setImage(o.images.length-1)},o.setImages=function(e){o.images=e,o.setImage(o.index)},e.bind("keydown",function(e){if(o.keyboardNavEnabled){var t=null;switch(e.which){case 39:t="nextImage";break;case 37:t="prevImage"}null!==t&&["input","textarea"].indexOf(e.target.tagName.toLowerCase())===-1&&(i(function(){o[t]()}),e.preventDefault())}}),o}]}),angular.module("bootstrapLightbox").directive("lightboxSrc",["$window","ImageLoader","Lightbox",function(e,t,n){var i=function(e,t){var n=e.width,i=e.height,s=e.minWidth,a=e.minHeight,o=e.maxWidth,r=e.maxHeight,l=n,c=i;if(t){var d=Math.min(o/n,r/i),u=Math.round(n*d),p=Math.round(i*d);l=Math.max(s,u),c=Math.max(a,p)}else n<s&&i<a?n/i>o/r?(c=a,l=Math.round(n*a/i)):(l=s,c=Math.round(i*s/n)):n<s?(l=s,c=Math.round(i*s/n)):i<a&&(c=a,l=Math.round(n*a/i)),n>o&&i>r?n/i>o/r?(l=o,c=Math.round(i*o/n)):(c=r,l=Math.round(n*r/i)):n>o?(l=o,
c=Math.round(i*o/n)):i>r&&(c=r,l=Math.round(n*r/i));return{width:l||0,height:c||0}},s=function(e){return"number"==typeof e?e+"px":e},a=0,o=0;return{link:function(r,l,c){var d=function(){var t=e.innerWidth,r=e.innerHeight,c=n.calculateImageDimensionLimits({windowWidth:t,windowHeight:r,imageWidth:a,imageHeight:o}),d=i(angular.extend({width:a,height:o,minWidth:1,minHeight:1,maxWidth:3e3,maxHeight:3e3},c),n.fullScreenMode),u=n.calculateModalDimensions({windowWidth:t,windowHeight:r,imageDisplayWidth:d.width,imageDisplayHeight:d.height});l.css({width:d.width+"px",height:d.height+"px"}),angular.element(document.querySelector(".lightbox-modal .modal-dialog")).css({width:s(u.width)}),angular.element(document.querySelector(".lightbox-modal .modal-content")).css({height:s(u.height)})};r.$watch(function(){return c.lightboxSrc},function(e){if(n.image)if(n.isVideo(n.image))a=1280,o=720,d(),l[0].src=e;else{l[0].src="#";var i=function(){a=0,o=0,d()};e?t.load(e).then(function(t){a=t.naturalWidth,o=t.naturalHeight,d(),l[0].src=e},i):i()}}),angular.element(e).on("resize",d)}}}]),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(i){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,s){n(this),this.__url=i;try{e.apply(this,[t,i,s])}catch(a){a.message.indexOf("Access is denied")>-1&&(this.__origError=a,e.apply(this,[t,"_fix_for_ie_crossdomain__",s]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var s=i(this);s instanceof Function&&s(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&e.indexOf("#2174")!==-1&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var s=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return s}),t(n,"response",function(){return s}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};s.data={},s.files={};for(var a=0;a<i.data.length;a++){var o=i.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?s.files[o.key]=o.val:s.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,s,a,o,r,l=document.createElement("script"),c=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)s=window.FileAPI.jsPath;else for(a=0;a<c.length;a++)if(r=c[a].src,o=r.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){s=r.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=s),l.setAttribute("src",i||s+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(i,s,a){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var o=function(){var t=s.parent();i.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(s.attr("__ngf_flash_")||(s.unbind("change"),s.unbind("click"),s.bind("change",function(e){r.apply(this,[e]),a.apply(this,[e])}),s.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(i)||(t.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),s.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",o);var r=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var s;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),s=n("load",i),e.onload&&e.onload(s),e.dispatchEvent(s)):"progress"===i.type?(s=n("progress",i),e.onprogress&&e.onprogress(s),e.dispatchEvent(s)):(s=n("error",i),e.onerror&&e.onerror(s),e.dispatchEvent(s))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.4",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(i){function s(e){c.notify&&c.notify(e),d.progressFunc&&n(function(){d.progressFunc(e)})}function r(e){return null!=i._start&&o?{loaded:e.loaded+i._start,total:i._file&&i._file.size||e.total,type:e.type,config:i,lengthComputable:!0,target:e.target}:e}function l(){e(i).then(function(e){o&&i._chunkSize&&!i._finished&&i._file?(s({loaded:i._end,total:i._file&&i._file.size,config:i,type:"progress"}),a.upload(i,!0)):(i._finished&&delete i._finished,c.resolve(e))},function(e){c.reject(e)},function(e){c.notify(e)})}i.method=i.method||"POST",i.headers=i.headers||{};var c=i._deferred=i._deferred||t.defer(),d=c.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(i.__XHR=e,i.xhrFn&&i.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=i,s(r(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=i,s(r(e)))},!1))}}),o?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?e.get(i.resumeSizeUrl).then(function(e){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(e.data):i._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(e){throw e}):i.resumeSize?i.resumeSize().then(function(e){i._start=e,l()},function(e){throw e}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),d.success=function(e){return d.then(function(t){e(t.data,t.status,t.headers,i)}),d},d.error=function(e){return d.then(null,function(t){e(t.data,t.status,t.headers,i)}),d},d.progress=function(e){return d.progressFunc=e,d.then(null,null,function(t){e(t)}),d},d.abort=d.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),d},d.xhr=function(e){return i.xhrFn=function(t){return function(){t&&t.apply(d,arguments),e.apply(d,arguments)}}(i.xhrFn),d},a.promisesCount++,d["finally"](function(){a.promisesCount--}),d}function s(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=this;a.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var o=this.isResumeSupported();this.isUploadInProgress=function(){return a.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&o){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}function r(t,i,s){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(s,i);else if(a.isFile(i)){var o=n(i,t),l=s.split(",");l[1]&&(o.ngfName=l[1].replace(/^\s+|\s+$/g,""),s=l[0]),e._fileKey=e._fileKey||s,t.append(s,o,o.ngfName||o.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+s;i.$$ngfCircularDetection=!0;try{for(var c in i)if(i.hasOwnProperty(c)&&"$$ngfCircularDetection"!==c){var d=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(c)>-1&&(d=null==e.arrayKey?d:e.arrayKey),r(t,i[c],s+d.replace(/[ik]/g,c))}}finally{delete i.$$ngfCircularDetection}}else t.append(s,i)}function l(){e._chunkSize=a.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,i=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var s=t[n];e.formDataAppender?e.formDataAppender(i,n,s):r(i,s,n)}return i})}return t||(e=s(e)),e._isDigested||(e._isDigested=!0,l()),i(e)},this.http=function(t){return t=s(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=a.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var i=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),n=e.headers("content-type")||"image/WebP",s=new window.Blob([t],{type:n});i.resolve(s)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,s){function a(e,t,n){var s=[l.emptyPromise()];return angular.forEach(e,function(i,a){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:i})&&s.push(l.happyPromise(l.applyExifRotation(i),i).then(function(t){e.splice(a,1,t)}))}),i.all(s)}function o(e,t,n){var s=l.attrGetter("ngfResize",t,n);if(!s||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(!(s instanceof Function))return r(s,e,t,n);var a=i.defer();s(e).then(function(i){r(i,e,t,n).then(function(e){a.resolve(e)},function(e){a.reject(e)})},function(e){a.reject(e)})}function r(e,t,n,s){function a(i,a){if(0===i.type.indexOf("image")){if(e.pattern&&!l.validatePattern(i,e.pattern))return;var r=l.resize(i,e.width,e.height,e.quality,e.type,e.ratio,e.centerCrop,function(e,t){return l.attrGetter("ngfResizeIf",n,s,{$width:e,$height:t,$file:i})},e.restoreExif!==!1);o.push(r),r.then(function(e){t.splice(a,1,e)},function(e){i.$error="resize",i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name)})}}for(var o=[l.emptyPromise()],r=0;r<t.length;r++)a(t[r],r);return i.all(o)}var l=s;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,i,s){var a=this.getAttrWithDefaults(n,t);if(!i)return a;try{return s?e(a)(i,s):e(a)(i)}catch(o){if(t.search(/min|max|pattern/i))return a;throw o}},l.shouldUpdateOn=function(e,t,n){var i=l.attrGetter("ngModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var s=i.defer();return e.then(function(e){s.resolve(e)},function(e){t(function(){throw e}),s.resolve(n)}),s.promise},l.updateModel=function(n,i,s,r,c,d,u){function p(a,o,c,u,p){i.$$ngfPrevValidFiles=a,i.$$ngfPrevInvalidFiles=o;var h=a&&a.length?a[0]:null,f=o&&o.length?o[0]:null;n&&(l.applyModelValidation(n,a),n.$setViewValue(p?h:a)),r&&e(r)(s,{$files:a,$file:h,$newFiles:c,$duplicateFiles:u,$invalidFiles:o,$invalidFile:f,$event:d});var g=l.attrGetter("ngfModelInvalid",i);g&&t(function(){e(g).assign(s,p?f:o)}),t(function(){})}function h(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<b.length;n++)if(e(t,b[n]))return!0;for(n=0;n<y.length;n++)if(e(t,y[n]))return!0;return!1}if(c){v=[],w=[];for(var n=0;n<c.length;n++)t(c[n])?w.push(c[n]):v.push(c[n])}}function f(e){return angular.isArray(e)?e:[e]}function g(){k=[],x=[],angular.forEach(v,function(e){e.$error?x.push(e):k.push(e)})}function m(){function e(){t(function(){p($?b.concat(k):k,$?y.concat(x):x,c,w,S)},T&&T.debounce?T.debounce.change||T.debounce:0)}o(C?v:k,i,s).then(function(){C?l.validate(v,b.length,n,i,s).then(function(){g(),e()}):e()},function(e){throw"Could not resize files "+e})}var v,b,y,w=[],x=[],k=[];b=i.$$ngfPrevValidFiles||[],y=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(b=f(n.$modelValue));var $=l.attrGetter("ngfKeep",i,s);v=(c||[]).slice(0),"distinct"!==$&&l.attrGetter("ngfKeepDistinct",i,s)!==!0||h(i,s);var S=!$&&!l.attrGetter("ngfMultiple",i,s)&&!l.attrGetter("multiple",i);if(!$||v.length){l.attrGetter("ngfBeforeModelChange",i,s,{$files:c,$file:c&&c.length?c[0]:null,$newFiles:v,$duplicateFiles:w,$event:d});var C=l.attrGetter("ngfValidateAfterResize",i,s),T=l.attrGetter("ngModelOptions",i,s);l.validate(v,b.length,n,i,s).then(function(){u?p(v,[],c,w,S):(T&&T.allowInvalid||C?k=v:g(),l.attrGetter("ngfFixOrientation",i,s)&&l.isExifSupported()?a(k,i,s).then(function(){m()}):m())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){function s(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return e.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(e)}function a(e,t,n,i,a,r,l,c){function d(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function u(){return y("ngfChange")||y("ngfSelect")}function p(t){if(c.shouldUpdateOn("change",n,e)){for(var s=t.__files_||t.target&&t.target.files,a=[],o=0;o<s.length;o++)a.push(s[o]);c.updateModel(i,n,e,u(),a.length?a:null,t)}}function h(e){if(t!==e)for(var n=0;n<t[0].attributes.length;n++){var i=t[0].attributes[n];"type"!==i.name&&"class"!==i.name&&"style"!==i.name&&(null!=i.value&&""!==i.value||("required"===i.name&&(i.value="required"),"multiple"===i.name&&(i.value="multiple")),e.attr(i.name,"id"===i.name?"ngf-"+i.value:i.value))}}function f(){if(d())return t;var e=angular.element('<input type="file">');h(e);var n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),o.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function g(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var i=m(n);if(null!=i)return i;v(n);try{d()||document.body.contains(k[0])||(o.push({el:t,ref:k.parent()}),document.body.appendChild(k.parent()[0]),k.bind("change",p))}catch(a){}return s(navigator.userAgent)?setTimeout(function(){k[0].click()},0):k[0].click(),!1}}function m(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return x=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-x)>20)return!1}}function v(t){c.shouldUpdateOn("click",n,e)&&k.val()&&(k.val(null),c.updateModel(i,n,e,u(),null,t,!0))}function b(e){if(k&&!k.attr("__ngf_ie10_Fix_")){if(!k[0].parentNode)return void(k=null);e.preventDefault(),e.stopPropagation(),k.unbind("click");var t=k.clone();return k.replaceWith(t),k=t,k.attr("__ngf_ie10_Fix_","true"),k.bind("change",p),k.bind("click",b),k[0].click(),!1}k.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return c.attrGetter(e,n,t)};c.registerModelChangeValidator(i,n,e);var w=[];w.push(e.$watch(y("ngfMultiple"),function(){k.attr("multiple",y("ngfMultiple",e))})),w.push(e.$watch(y("ngfCapture"),function(){k.attr("capture",y("ngfCapture",e))})),w.push(e.$watch(y("ngfAccept"),function(){k.attr("accept",y("ngfAccept",e))})),n.$observe("accept",function(){k.attr("accept",y("accept"))}),w.push(function(){n.$$observers&&delete n.$$observers.accept});var x=0,k=t;d()||(k=f()),k.bind("change",p),d()?t.bind("click",v):t.bind("click touchstart touchend",g),navigator.appVersion.indexOf("MSIE 10")!==-1&&k.bind("click",b),i&&i.$formatters.push(function(e){return null!=e&&0!==e.length||k.val()&&k.val(null),e}),e.$on("$destroy",function(){d()||k.parent().remove(),angular.forEach(w,function(e){e()})}),r(function(){for(var e=0;e<o.length;e++){var t=o[e];document.body.contains(t.el[0])||(o.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,k,p)}var o=[];return{restrict:"AEC",require:"?ngModel",link:function(s,o,r,l){a(s,o,r,l,e,t,n,i)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,i,s,a,o,r,l){function c(e){var o=t.attrGetter("ngfNoObjectUrl",a,i);t.dataUrl(e,o)["finally"](function(){n(function(){var t=(o?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?s.css("background-image","url('"+(t||"")+"')"):s.attr("src",t),t?s.removeClass("ng-hide"):s.addClass("ng-hide")})})}n(function(){var n=i.$watch(a[o],function(n){var i=r;if("ngfThumbnail"===o&&(i||(i={width:s[0].clientWidth,height:s[0].clientHeight}),0===i.width&&window.getComputedStyle)){var a=getComputedStyle(s[0]);i={width:parseInt(a.width.slice(0,-2)),height:parseInt(a.height.slice(0,-2))}}return angular.isString(n)?(s.removeClass("ng-hide"),l?s.css("background-image","url('"+n+"')"):s.attr("src",n)):void(!n||!n.type||0!==n.type.search(e(s[0]))||l&&0!==n.type.indexOf("image")?s.addClass("ng-hide"):i&&t.isResizeSupported()?t.resize(n,i.width,i.height,i.quality).then(function(e){c(e)},function(e){throw e}):c(n))});i.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),s=0;return angular.forEach(e,function(n){i.dataUrl(n,!0)["finally"](function(){if(s++,s===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,s){if(!e)return i.emptyPromise(e,e);if(s&&null!=e.$ngfDataUrl||!s&&null!=e.$ngfBlobUrl)return i.emptyPromise(s?e.$ngfDataUrl:e.$ngfBlobUrl,e);var a=s?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(a)return a;var o=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||e.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!s){var a;try{a=n.createObjectURL(e)}catch(r){return void t(function(){e.$ngfBlobUrl="",o.reject()})}t(function(){if(e.$ngfBlobUrl=a,a){o.resolve(a,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:a,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,s=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>s)&&i.blobUrls.length>1;){var r=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(r.url),i.blobUrlsTotalSize-=r.size}}})}else{var l=new FileReader;l.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,o.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},l.onerror=function(){t(function(){e.$ngfDataUrl="",o.reject()})},l.readAsDataURL(e)}}else t(function(){e[s?"$ngfDataUrl":"$ngfBlobUrl"]="",o.reject()})}),a=s?e.$$ngfDataUrlPromise=o.promise:e.$$ngfBlobUrlPromise=o.promise,a["finally"](function(){delete e[s?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),a},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,s,a){t(e,n,i,s,a,"ngfSrc",e.attrGetter("ngfResize",a,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,s,a){t(e,n,i,s,a,"ngfBackground",e.attrGetter("ngfResize",a,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,s,a){var o=e.attrGetter("ngfSize",a,i);t(e,n,i,s,a,"ngfThumbnail",o,e.attrGetter("ngfAsBackground",a,i))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,s){if(angular.isString(n))return t.trustAsResourceUrl(n);var a=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!a?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&a?s?t.trustAsResourceUrl(a):a:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function i(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var s=e.split(",");if(s.length>1)for(var a=0;a<s.length;a++){var o=i(s[a]);o.regexp?(t+="("+o.regexp+")",a<s.length-1&&(t+="|")):n=n.concat(o.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+i(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function s(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var a=e;return a.validatePattern=function(e,t){if(!t)return!0;var n=i(t),s=!0;if(n.regexp&&n.regexp.length){var a=new RegExp(n.regexp,"i");s=null!=e.type&&a.test(e.type)||null!=e.name&&a.test(e.name)}for(var o=n.excludes.length;o--;){var r=new RegExp(n.excludes[o],"i");s=s&&(null==e.type||r.test(e.type))&&(null==e.name||r.test(e.name))}return s},a.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},a.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(i){e.$dirty&&(i&&!angular.isArray(i)&&(i=[i]),a.validate(i,0,e,t,n).then(function(){a.applyModelValidation(e,i)}))})},a.applyModelValidation=function(e,t){s(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},a.getValidationAttr=function(e,t,n,i,s){var o="ngf"+n[0].toUpperCase()+n.substr(1),r=a.attrGetter(o,e,t,{$file:s});if(null==r&&(r=a.attrGetter("ngfValidate",e,t,{$file:s}))){var l=(i||n).split(".");r=r[l[0]],l.length>1&&(r=r&&r[l[1]])}return r},a.validate=function(e,n,i,s,o){function r(t,n,r){if(e){for(var l=e.length,c=null;l--;){var d=e[l];if(d){var u=a.getValidationAttr(s,o,t,n,d);null!=u&&(r(d,u,l)||(d.$error=t,(d.$errorMessages=d.$errorMessages||{})[t]=!0,d.$errorParam=u,e.splice(l,1),c=!1))}}null!==c&&i.$ngfValidations.push({name:t,valid:c})}}function l(n,r,l,d,u){function p(e,t,i){null!=i?d(t,i).then(function(s){u(s,i)?e.resolve():(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=i,e.reject())},function(){c("ngfValidateForce",{$file:t})?(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=i,e.reject()):e.resolve()}):e.resolve()}var h=[a.emptyPromise()];if(e)return e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var i=t.defer();return h.push(i.promise),!l||null!=e.type&&0===e.type.search(l)?void("dimensions"===n&&null!=a.attrGetter("ngfDimensions",s)?a.imageDimensions(e).then(function(t){p(i,e,c("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){i.reject()}):"duration"===n&&null!=a.attrGetter("ngfDuration",s)?a.mediaDuration(e).then(function(t){p(i,e,c("ngfDuration",{$file:e,$duration:t}))},function(){i.reject()}):p(i,e,a.getValidationAttr(s,o,n,r,e))):void i.resolve()}),t.all(h).then(function(){i.$ngfValidations.push({name:n,valid:!0})},function(){i.$ngfValidations.push({name:n,valid:!1})})}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return a.attrGetter(e,s,o,t)};if(null==e||0===e.length)return a.emptyPromise(i);e=void 0===e.length?[e]:e.slice(0),r("maxFiles",null,function(e,t,i){return n+i<t}),r("pattern",null,a.validatePattern),r("minSize","size.min",function(e,t){return e.size+.1>=a.translateScalars(t)}),r("maxSize","size.max",function(e,t){return e.size-.1<=a.translateScalars(t)});var d=0;if(r("maxTotalSize",null,function(t,n){return d+=t.size,!(d>a.translateScalars(n))||(e.splice(0,e.length),!1)}),r("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return a.emptyPromise(i,i.$ngfValidations);var u=t.defer(),p=[];return p.push(a.happyPromise(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t}))),p.push(a.happyPromise(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t}))),p.push(a.happyPromise(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t}))),p.push(a.happyPromise(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t}))),p.push(a.happyPromise(l("dimensions",null,/image/,function(e,t){return a.emptyPromise(t)},function(e){return e}))),p.push(a.happyPromise(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,s=0;s<n.length;s++)Math.abs(e.width/e.height-a.ratioToFloat(n[s]))<1e-4&&(i=!0);return i}))),p.push(a.happyPromise(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)<1e-4}))),p.push(a.happyPromise(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)>-1e-4}))),p.push(a.happyPromise(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=a.translateScalars(t)}))),p.push(a.happyPromise(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=a.translateScalars(t)}))),p.push(a.happyPromise(l("duration",null,/audio|video/,function(e,t){return a.emptyPromise(t)},function(e){return e}))),p.push(a.happyPromise(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e}))),t.all(p).then(function(){u.resolve(i,i.$ngfValidations)})},a.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var s=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void s.reject("not image"):void a.dataUrl(e).then(function(t){function i(){var t=r[0].clientWidth,n=r[0].clientHeight;
r.remove(),e.$ngfWidth=t,e.$ngfHeight=n,s.resolve({width:t,height:n})}function a(){r.remove(),s.reject("load error")}function o(){n(function(){r[0].parentNode&&(r[0].clientWidth?i():l>10?a():o())},1e3)}var r=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");r.on("load",i),r.on("error",a);var l=0;o(),angular.element(document.getElementsByTagName("body")[0]).append(r)},function(){s.reject("load error")})}),e.$ngfDimensionPromise=s.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},a.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n(function(){i.resolve(e.$ngfDuration)}),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var s=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void s.reject("not media"):void a.dataUrl(e).then(function(t){function i(){var t=r[0].duration;e.$ngfDuration=t,r.remove(),s.resolve(t)}function a(){r.remove(),s.reject("load error")}function o(){n(function(){r[0].parentNode&&(r[0].duration?i():l>10?a():o())},1e3)}var r=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");r.on("loadedmetadata",i),r.on("error",a);var l=0;o(),angular.element(document.body).append(r)},function(){s.reject("load error")})}),e.$ngfDurationPromise=s.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},a}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,i=function(e,t,n,i,s){var a=s?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*a,height:t*a,marginX:e*a-n,marginY:t*a-i}},s=function(e,s,a,o,r,l,c,d){var u=t.defer(),p=document.createElement("canvas"),h=document.createElement("img");return h.onload=function(){if(null!=d&&d(h.width,h.height)===!1)return void u.reject("resizeIf");try{if(l){var e=n.ratioToFloat(l),t=h.width/h.height;t<e?(s=h.width,a=s/e):(a=h.height,s=a*e)}s||(s=h.width),a||(a=h.height);var f=i(h.width,h.height,s,a,c);p.width=Math.min(f.width,s),p.height=Math.min(f.height,a);var g=p.getContext("2d");g.drawImage(h,Math.min(0,-f.marginX/2),Math.min(0,-f.marginY/2),f.width,f.height),u.resolve(p.toDataURL(r||"image/WebP",o||.934))}catch(m){u.reject(m)}},h.onerror=function(){u.reject()},h.src=e,u.promise};return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),s=i[0].match(/:(.*?);/)[1],a=atob(i[1]),o=a.length,r=new Uint8Array(o);o--;)r[o]=a.charCodeAt(o);var l=new window.Blob([r],{type:s});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i,a,o,r,l,c,d,u){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var p=t.defer();return n.dataUrl(e,!0).then(function(t){s(t,i,a,o,r||e.type,l,c,d).then(function(i){if("image/jpeg"===e.type&&u)try{i=n.restoreExif(t,i)}catch(s){setTimeout(function(){throw s},1)}try{var a=n.dataUrltoBlob(i,e.name,e.size);p.resolve(a)}catch(s){p.reject(s)}},function(t){"resizeIf"===t&&p.resolve(e),p.reject(t)})},function(e){p.reject(e)}),p.promise},n}]),function(){function e(e,n,i,s,a,o,r,l,c,d){function u(){return n.attr("disabled")||v("ngfDropDisabled",e)}function p(t,n){l.updateModel(s,i,e,v("ngfChange")||v("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,i,e)||!n)return l.rejectPromise([]);var s=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){s.push(n)});var a=[],o=[];if(s.length){angular.forEach(s,function(e){a.push(l.urlToBlob(e).then(function(e){o.push(e)}))});var r=d.defer();return d.all(a).then(function(){r.resolve(o)},function(e){r.reject(e)}),r.promise}return l.emptyPromise()}function f(e,t,n,i){var s=v("ngfDragOverClass",e,{$event:n}),a="dragover";if(angular.isString(s))a=s;else if(s&&(s.delay&&(x=s.delay),s.accept||s.reject)){var o=n.dataTransfer.items;if(null!=o&&o.length)for(var r=s.pattern||v("ngfPattern",e,{$event:n}),c=o.length;c--;){if(!l.validatePattern(o[c],r)){a=s.reject;break}a=s.accept}else a=s.accept}i(a)}function g(t,n,s,a){function o(e,t){var n=d.defer();if(null!=e)if(e.isDirectory){var i=[l.emptyPromise()];if(p){var s={type:"directory"};s.name=s.path=(t||"")+e.name+e.name,h.push(s)}var a=e.createReader(),r=[],g=function(){a.readEntries(function(s){try{s.length?(r=r.concat(Array.prototype.slice.call(s||[],0)),g()):(angular.forEach(r.slice(0),function(n){h.length<=c&&f<=u&&i.push(o(n,(t?t:"")+e.name+"/"))}),d.all(i).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(a){n.reject(a)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t?t:"")+e.name,p&&(e=l.rename(e,e.path)),h.push(e),f+=e.size,n.resolve()}catch(i){n.reject(i)}},function(e){n.reject(e)});return n.promise}var c=l.getValidationAttr(i,e,"maxFiles")||Number.MAX_VALUE,u=l.getValidationAttr(i,e,"maxTotalSize")||Number.MAX_VALUE,p=v("ngfIncludeDir",e),h=[],f=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file"!==r.protocol())for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var b=t[m].webkitGetAsEntry();if(b.isDirectory&&!s)continue;null!=b&&g.push(o(b))}else{var y=t[m].getAsFile();null!=y&&(h.push(y),f+=y.size)}if(h.length>c||f>u||!a&&h.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(h.push(x),f+=x.size),h.length>c||f>u||!a&&h.length>0)break}var k=d.defer();return d.all(g).then(function(){if(a||p||!h.length)k.resolve(h);else{for(var e=0;h[e]&&"directory"===h[e].type;)e++;k.resolve([h[e]])}},function(e){k.reject(e)}),k.promise}var m=t(),v=function(e,t,n){return l.attrGetter(e,i,t,n)};if(v("dropAvailable")&&o(function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=m:e[v("dropAvailable")]=m}),!m)return void(v("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"));null==v("ngfSelect")&&l.registerModelChangeValidator(s,i,e);var b,y=null,w=a(v("ngfStopPropagation")),x=1;n[0].addEventListener("dragover",function(t){if(!u()&&l.shouldUpdateOn("drop",i,e)){if(t.preventDefault(),w(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var s=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===s||"linkMove"===s?"move":"copy"}o.cancel(y),b||(b="C",f(e,i,t,function(i){b=i,n.addClass(b),v("ngfDrag",e,{$isDragging:!0,$class:b,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!u()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),w(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!u()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),w(e)&&t.stopPropagation(),y=o(function(){b&&n.removeClass(b),b=null,v("ngfDrag",e,{$isDragging:!1,$event:t})},x||100))},!1),n[0].addEventListener("drop",function(t){if(!u()&&l.shouldUpdateOn("drop",i,e)){t.preventDefault(),w(e)&&t.stopPropagation(),b&&n.removeClass(b),b=null;var s,a=t.dataTransfer.items;try{s=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(o){}g(a,t.dataTransfer.files,v("ngfAllowDir",e)!==!1,v("multiple")||v("ngfMultiple",e)).then(function(e){e.length?p(e,t):h("dropUrl",s).then(function(e){p(e,t)})})}},!1),n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!u()&&l.shouldUpdateOn("paste",i,e)){var n=[],s=t.clipboardData||t.originalEvent.clipboardData;if(s&&s.items)for(var a=0;a<s.items.length;a++)s.items[a].type.indexOf("image")!==-1&&n.push(s.items[a].getAsFile());n.length?p(n,t):h("pasteUrl",s).then(function(e){p(e,t)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(t,n,i,s,a,o){return{restrict:"AEC",require:"?ngModel",link:function(r,l,c,d){e(r,l,c,d,t,n,i,s,a,o)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,i){return function(s,a,o){if(t()){var r=e(i.attrGetter("ngfDropAvailable",o));n(function(){r(s),r.assign&&r.assign(s,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:return e.transform(0,-1,1,0,0,n)}}function i(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,s=0;s<i;s++)t+=String.fromCharCode(n[s]);return window.btoa(t)}var s=e;return s.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&s.isResizeSupported()},s.readOrientation=function(e){var n=t.defer(),i=new FileReader,s=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(s),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var s=i.byteLength,a=2;a<s;){var o=i.getUint16(a,!1);if(a+=2,65505===o){if(1165519206!==i.getUint32(a+=2,!1))return n.resolve(t);var r=18761===i.getUint16(a+=6,!1);a+=i.getUint32(a+4,r);var l=i.getUint16(a,r);a+=2;for(var c=0;c<l;c++)if(274===i.getUint16(a+12*c,r)){var d=i.getUint16(a+12*c+8,r);return d>=2&&d<=8&&(i.setUint16(a+12*c+8,1,r),t.fixedArrayBuffer=e.target.result),t.orientation=d,n.resolve(t)}}else{if(65280!==(65280&o))break;a+=i.getUint16(a,!1)}}return n.resolve(t)},n.promise},s.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return s.emptyPromise(e);var a=t.defer();return s.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?a.resolve(e):void s.dataUrl(e,!0).then(function(o){var r=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{r.width=t.orientation>4?l.height:l.width,r.height=t.orientation>4?l.width:l.height;var o=r.getContext("2d");n(o,t.orientation,l.width,l.height),o.drawImage(l,0,0);var c=r.toDataURL(e.type||"image/WebP",.934);c=s.restoreExif(i(t.fixedArrayBuffer),c);var d=s.dataUrltoBlob(c,e.name);a.resolve(d)}catch(u){return a.reject(u)}},l.onerror=function(){a.reject()},l.src=o},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise},s.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,i,s,a,o="",r="",l="",c=0;do t=e[c++],n=e[c++],r=e[c++],i=t>>2,s=(3&t)<<4|n>>4,a=(15&n)<<2|r>>6,l=63&r,isNaN(n)?a=l=64:isNaN(r)&&(l=64),o=o+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),t=n=r="",i=s=a=l="";while(c<e.length);return o},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),s=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(s)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),s=i.indexOf(255,3),a=i.slice(0,s),o=i.slice(s),r=a;return r=r.concat(t),r=r.concat(o)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],s=t+i+2,a=e.slice(t,s);n.push(a),t=s}if(t>e.length)break}return n},n.decode64=function(e){var t,n,i,s,a,o="",r="",l=0,c=[],d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),r=this.KEY_STR.indexOf(e.charAt(l++)),t=i<<2|s>>4,n=(15&s)<<4|a>>2,o=(3&a)<<6|r,c.push(t),64!==a&&c.push(n),64!==r&&c.push(o),t=n=o="",i=s=a=r="";while(l<e.length);return c},n.restore(e,t)},s}]),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(i){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,s){n(this),this.__url=i;try{e.apply(this,[t,i,s])}catch(a){a.message.indexOf("Access is denied")>-1&&(this.__origError=a,e.apply(this,[t,"_fix_for_ie_crossdomain__",s]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var s=i(this);s instanceof Function&&s(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&e.indexOf("#2174")!==-1&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var s=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return s}),t(n,"response",function(){return s}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};s.data={},s.files={};for(var a=0;a<i.data.length;a++){var o=i.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?s.files[o.key]=o.val:s.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,s,a,o,r,l=document.createElement("script"),c=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)s=window.FileAPI.jsPath;else for(a=0;a<c.length;a++)if(r=c[a].src,o=r.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){s=r.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=s),l.setAttribute("src",i||s+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(i,s,a){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var o=function(){var t=s.parent();i.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(s.attr("__ngf_flash_")||(s.unbind("change"),s.unbind("click"),s.bind("change",function(e){r.apply(this,[e]),a.apply(this,[e])}),s.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(i)||(t.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),s.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",o);var r=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var s;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),s=n("load",i),e.onload&&e.onload(s),e.dispatchEvent(s)):"progress"===i.type?(s=n("progress",i),e.onprogress&&e.onprogress(s),e.dispatchEvent(s)):(s=n("error",i),e.onerror&&e.onerror(s),e.dispatchEvent(s))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),function(){var e,t;e=window.jQuery,t=e(window),e.fn.stick_in_parent=function(n){var i,s,a,o,r,l,c,d,u,p,h,f;for(null==n&&(n={}),f=n.sticky_class,r=n.inner_scrolling,h=n.recalc_every,p=n.parent,d=n.offset_top,c=n.spacer,s=n.bottoming,null==d&&(d=0),null==p&&(p=void 0),null==r&&(r=!0),null==f&&(f="is_stuck"),i=e(document),null==s&&(s=!0),u=function(e){var t;return window.getComputedStyle?(e=window.getComputedStyle(e[0]),t=parseFloat(e.getPropertyValue("width"))+parseFloat(e.getPropertyValue("margin-left"))+parseFloat(e.getPropertyValue("margin-right")),"border-box"!==e.getPropertyValue("box-sizing")&&(t+=parseFloat(e.getPropertyValue("border-left-width"))+parseFloat(e.getPropertyValue("border-right-width"))+parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right"))),t):e.outerWidth(!0)},a=function(n,a,o,l,g,m,v,b){var y,w,x,k,$,S,C,T,A,_,I,D;if(!n.data("sticky_kit")){if(n.data("sticky_kit",!0),$=i.height(),C=n.parent(),null!=p&&(C=C.closest(p)),!C.length)throw"failed to find stick parent";if(y=x=!1,(I=null!=c?c&&n.closest(c):e("<div />"))&&I.css("position",n.css("position")),T=function(){var e,t,s;if(!b&&($=i.height(),e=parseInt(C.css("border-top-width"),10),t=parseInt(C.css("padding-top"),10),a=parseInt(C.css("padding-bottom"),10),o=C.offset().top+e+t,l=C.height(),x&&(y=x=!1,null==c&&(n.insertAfter(I),I.detach()),n.css({position:"",top:"",width:"",bottom:""}).removeClass(f),s=!0),g=n.offset().top-(parseInt(n.css("margin-top"),10)||0)-d,m=n.outerHeight(!0),v=n.css("float"),I&&I.css({width:u(n),height:m,display:n.css("display"),"vertical-align":n.css("vertical-align"),"float":v}),s))return D()},T(),m!==l)return k=void 0,S=d,_=h,D=function(){var e,u,p,w;if(!b&&(p=!1,null!=_&&(--_,0>=_&&(_=h,T(),p=!0)),p||i.height()===$||T(),p=t.scrollTop(),null!=k&&(u=p-k),k=p,x?(s&&(w=p+m+S>l+o,y&&!w&&(y=!1,n.css({position:"fixed",bottom:"",top:S}).trigger("sticky_kit:unbottom"))),p<g&&(x=!1,S=d,null==c&&("left"!==v&&"right"!==v||n.insertAfter(I),I.detach()),e={position:"",width:"",top:""},n.css(e).removeClass(f).trigger("sticky_kit:unstick")),r&&(e=t.height(),m+d>e&&!y&&(S-=u,S=Math.max(e-m,S),S=Math.min(d,S),x&&n.css({top:S+"px"})))):p>g&&(x=!0,e={position:"fixed",top:S},e.width="border-box"===n.css("box-sizing")?n.outerWidth()+"px":n.width()+"px",n.css(e).addClass(f),null==c&&(n.after(I),"left"!==v&&"right"!==v||I.append(n)),n.trigger("sticky_kit:stick")),x&&s&&(null==w&&(w=p+m+S>l+o),!y&&w)))return y=!0,"static"===C.css("position")&&C.css({position:"relative"}),n.css({position:"absolute",bottom:a,top:"auto"}).trigger("sticky_kit:bottom")},A=function(){return T(),D()},w=function(){if(b=!0,t.off("touchmove",D),t.off("scroll",D),t.off("resize",A),e(document.body).off("sticky_kit:recalc",A),n.off("sticky_kit:detach",w),n.removeData("sticky_kit"),n.css({position:"",bottom:"",top:"",width:""}),C.position("position",""),x)return null==c&&("left"!==v&&"right"!==v||n.insertAfter(I),I.remove()),n.removeClass(f)},t.on("touchmove",D),t.on("scroll",D),t.on("resize",A),e(document.body).on("sticky_kit:recalc",A),n.on("sticky_kit:detach",w),setTimeout(D,0)}},o=0,l=this.length;o<l;o++)n=this[o],a(e(n));return this}}.call(this),function(e,t,n){"use strict";var i=e(t),s=t.document,a=e(s),o=function(){for(var e,t=3,n=s.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),r=function(){var e=t.pageXOffset!==n?t.pageXOffset:"CSS1Compat"==s.compatMode?t.document.documentElement.scrollLeft:t.document.body.scrollLeft,i=t.pageYOffset!==n?t.pageYOffset:"CSS1Compat"==s.compatMode?t.document.documentElement.scrollTop:t.document.body.scrollTop;"undefined"==typeof r.x&&(r.x=e,r.y=i),"undefined"==typeof r.distanceX?(r.distanceX=e,r.distanceY=i):(r.distanceX=e-r.x,r.distanceY=i-r.y);var a=r.x-e,o=r.y-i;r.direction=a<0?"right":a>0?"left":o<=0?"down":o>0?"up":"first",r.x=e,r.y=i};i.on("scroll",r),e.fn.style=function(n){if(!n)return null;var i,a=e(this),o=a.clone().css("display","none");o.find("input:radio").attr("name","copy-"+Math.floor(100*Math.random()+1)),a.after(o);var r=function(e,n){var i;return e.currentStyle?i=e.currentStyle[n.replace(/-\w/g,function(e){return e.toUpperCase().replace("-","")})]:t.getComputedStyle&&(i=s.defaultView.getComputedStyle(e,null).getPropertyValue(n)),i=/margin/g.test(n)?parseInt(i)===a[0].offsetLeft?i:"auto":i};return"string"==typeof n?i=r(o[0],n):(i={},e.each(n,function(e,t){i[t]=r(o[0],t)})),o.remove(),i||null},e.fn.extend({hcSticky:function(s){return 0==this.length?this:(this.pluginOptions("hcSticky",{top:0,bottom:0,bottomEnd:0,innerTop:0,innerSticker:null,className:"sticky",wrapperClassName:"wrapper-sticky",stickTo:null,responsive:!0,followScroll:!0,offResolutions:null,onStart:e.noop,onStop:e.noop,on:!0,fn:null},s||{},{reinit:function(){e(this).hcSticky()},stop:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),n=t.pluginOptions("hcSticky"),i=t.parent("."+n.wrapperClassName),s=t.offset().top-i.offset().top;t.css({position:"absolute",top:s,bottom:"auto",left:"auto",right:"auto"}).removeClass(n.className)})},off:function(){e(this).pluginOptions("hcSticky",{on:!1}).each(function(){var t=e(this),n=t.pluginOptions("hcSticky"),i=t.parent("."+n.wrapperClassName);t.css({position:"relative",top:"auto",bottom:"auto",left:"auto",right:"auto"}).removeClass(n.className),i.css("height","auto")})},on:function(){e(this).each(function(){e(this).pluginOptions("hcSticky",{on:!0,remember:{offsetTop:i.scrollTop()}}).hcSticky()})},destroy:function(){var t=e(this),n=t.pluginOptions("hcSticky"),s=t.parent("."+n.wrapperClassName);t.removeData("hcStickyInit").css({position:s.css("position"),top:s.css("top"),bottom:s.css("bottom"),left:s.css("left"),right:s.css("right")}).removeClass(n.className),i.off("resize",n.fn.resize).off("scroll",n.fn.scroll),t.unwrap()}}),s&&"undefined"!=typeof s.on&&(s.on?this.hcSticky("on"):this.hcSticky("off")),"string"==typeof s?this:this.each(function(){var s=e(this),l=s.pluginOptions("hcSticky"),c=function(){var e=s.parent("."+l.wrapperClassName);return e.length>0&&(e.css({height:s.outerHeight(!0),width:function(){var t=e.style("width");return t.indexOf("%")>=0||"auto"==t?("border-box"==s.css("box-sizing")||"border-box"==s.css("-moz-box-sizing")?s.css("width",e.width()):s.css("width",e.width()-parseInt(s.css("padding-left")-parseInt(s.css("padding-right")))),t):s.outerWidth(!0)}()}),e)}()||function(){var t=s.style(["width","margin-left","left","right","top","bottom","float","display"]),n=s.css("display"),i=e("<div>",{"class":l.wrapperClassName}).css({display:n,height:s.outerHeight(!0),width:function(){return t.width.indexOf("%")>=0||"auto"==t.width&&"inline-block"!=n&&"inline"!=n?(s.css("width",parseFloat(s.css("width"))),t.width):"auto"!=t.width||"inline-block"!=n&&"inline"!=n?"auto"==t["margin-left"]?s.outerWidth():s.outerWidth(!0):s.width()}(),margin:t["margin-left"]?"auto":null,position:function(){var e=s.css("position");return"static"==e?"relative":e}(),"float":t["float"]||null,left:t.left,right:t.right,top:t.top,bottom:t.bottom,"vertical-align":"top"});return s.wrap(i),7===o&&0===e("head").find("style#hcsticky-iefix").length&&e('<style id="hcsticky-iefix">.'+l.wrapperClassName+" {zoom: 1;}</style>").appendTo("head"),s.parent()}();if(!s.data("hcStickyInit")){s.data("hcStickyInit",!0);var d=!(!l.stickTo||!("document"==l.stickTo||l.stickTo.nodeType&&9==l.stickTo.nodeType||"object"==typeof l.stickTo&&l.stickTo instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document))),u=l.stickTo?d?a:"string"==typeof l.stickTo?e(l.stickTo):l.stickTo:c.parent();s.css({top:"auto",bottom:"auto",left:"auto",right:"auto"}),i.load(function(){s.outerHeight(!0)>u.height()&&(c.css("height",s.outerHeight(!0)),s.hcSticky("reinit"))});var p=function(e){s.hasClass(l.className)||(e=e||{},s.css({position:"fixed",top:e.top||0,left:e.left||c.offset().left}).addClass(l.className),l.onStart.apply(s[0]),c.addClass("sticky-active"))},h=function(e){e=e||{},e.position=e.position||"absolute",e.top=e.top||0,e.left=e.left||0,"fixed"!=s.css("position")&&parseInt(s.css("top"))==e.top||(s.css({position:e.position,top:e.top,left:e.left}).removeClass(l.className),l.onStop.apply(s[0]),c.removeClass("sticky-active"))},f=function(t){if(l.on&&s.is(":visible")){if(s.outerHeight(!0)>=u.height())return void h();var n,a=l.innerSticker?e(l.innerSticker).position().top:l.innerTop?l.innerTop:0,o=c.offset().top,f=u.height()-l.bottomEnd+(d?0:o),g=c.offset().top-l.top+a,m=s.outerHeight(!0)+l.bottom,v=i.height(),b=i.scrollTop(),y=s.offset().top,w=y-b;if("undefined"!=typeof l.remember&&l.remember){var x=y-l.top-a;return void(m-a>v&&l.followScroll?x<b&&b+v<=x+s.height()&&(l.remember=!1):l.remember.offsetTop>x?b<=x&&(p({top:l.top-a}),l.remember=!1):b>=x&&(p({top:l.top-a}),l.remember=!1))}b>g?f+l.bottom-(l.followScroll&&v<m?0:l.top)<=b+m-a-(m-a>v-(g-a)&&l.followScroll&&(n=m-v-a)>0?n:0)?h({top:f-m+l.bottom-o}):m-a>v&&l.followScroll?w+m<=v?"down"==r.direction?p({top:v-m}):w<0&&"fixed"==s.css("position")&&h({top:y-(g+l.top-a)-r.distanceY}):"up"==r.direction&&y>=b+l.top-a?p({top:l.top-a}):"down"==r.direction&&y+m>v&&"fixed"==s.css("position")&&h({top:y-(g+l.top-a)-r.distanceY}):p({top:l.top-a}):h()}},g=!1,m=!1,v=function(){if(y(),b(),l.on){var e=function(){"fixed"==s.css("position")?s.css("left",c.offset().left):s.css("left",0)};if(l.responsive){m||(m=s.clone().attr("style","").css({visibility:"hidden",height:0,overflow:"hidden",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}),c.after(m));var t=c.style("width"),n=m.style("width");"auto"==n&&"auto"!=t&&(n=parseInt(s.css("width"))),n!=t&&c.width(n),g&&clearTimeout(g),g=setTimeout(function(){g=!1,m.remove(),m=!1},250)}if(e(),s.outerWidth(!0)!=c.width()){var i="border-box"==s.css("box-sizing")||"border-box"==s.css("-moz-box-sizing")?c.width():c.width()-parseInt(s.css("padding-left"))-parseInt(s.css("padding-right"));i=i-parseInt(s.css("margin-left"))-parseInt(s.css("margin-right")),s.css("width",i)}}};s.pluginOptions("hcSticky",{fn:{scroll:f,resize:v}});var b=function(){if(l.offResolutions){e.isArray(l.offResolutions)||(l.offResolutions=[l.offResolutions]);var t=!0;e.each(l.offResolutions,function(e,n){n<0?i.width()<n*-1&&(t=!1,s.hcSticky("off")):i.width()>n&&(t=!1,s.hcSticky("off"))}),t&&!l.on&&s.hcSticky("on")}};b(),i.on("resize",v);var y=function(){var s=!1;e._data(t,"events").scroll!=n&&e.each(e._data(t,"events").scroll,function(e,t){t.handler==l.fn.scroll&&(s=!0)}),s||(l.fn.scroll(!0),i.on("scroll",l.fn.scroll))};y()}}))}})}(jQuery,this),function(e,t){"use strict";e.fn.extend({pluginOptions:function(n,i,s,a){return this.data(n)||this.data(n,{}),n&&"undefined"==typeof i?this.data(n).options:(s=s||i||{},"object"==typeof s||s===t?this.each(function(){var t=e(this);t.data(n).options?t.data(n,e.extend(t.data(n),{options:e.extend(t.data(n).options,s||{})})):(t.data(n,{options:e.extend(i,s||{})}),a&&(t.data(n).commands=a))}):"string"==typeof s?this.each(function(){e(this).data(n).commands[s].call(this)}):this)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){return e.filter(function(e){return!this[e]&&(this[e]=!0)},{})}function t(e,t){return Math.round(e/t)*t}function n(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,s=u();return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),{top:t.top+s.y-i.clientTop,left:t.left+s.x-i.clientLeft}}function i(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function s(e,t,n){l(e,t),setTimeout(function(){c(e,t)},n)}function a(e){return Math.max(Math.min(e,100),0)}function o(e){return Array.isArray(e)?e:[e]}function r(e){var t=e.split(".");return t.length>1?t[1].length:0}function l(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function c(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ");
}function d(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function u(){var e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),n=e?window.pageXOffset:t?document.documentElement.scrollLeft:document.body.scrollLeft,i=e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop;return{x:n,y:i}}function p(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function h(e,t){return 100/(t-e)}function f(e,t){return 100*t/(e[1]-e[0])}function g(e,t){return f(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}function m(e,t){return t*(e[1]-e[0])/100+e[0]}function v(e,t){for(var n=1;e>=t[n];)n+=1;return n}function b(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,s,a,o,r=v(n,e);return i=e[r-1],s=e[r],a=t[r-1],o=t[r],a+g([i,s],n)/h(a,o)}function y(e,t,n){if(n>=100)return e.slice(-1)[0];var i,s,a,o,r=v(n,t);return i=e[r-1],s=e[r],a=t[r-1],o=t[r],m([i,s],(n-a)*h(a,o))}function w(e,n,i,s){if(100===s)return s;var a,o,r=v(s,e);return i?(a=e[r-1],o=e[r],s-a>(o-a)/2?o:a):n[r-1]?e[r-1]+t(s-e[r-1],n[r-1]):s}function x(e,t,n){var s;if("number"==typeof t&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("noUiSlider: 'range' contains invalid value.");if(s="min"===e?0:"max"===e?100:parseFloat(e),!i(s)||!i(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(s),n.xVal.push(t[0]),s?n.xSteps.push(!isNaN(t[1])&&t[1]):isNaN(t[1])||(n.xSteps[0]=t[1])}function k(e,t,n){return!t||void(n.xSteps[e]=f([n.xVal[e],n.xVal[e+1]],t)/h(n.xPct[e],n.xPct[e+1]))}function $(e,t,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=t,this.direction=n;var s,a=[];for(s in e)e.hasOwnProperty(s)&&a.push([e[s],s]);for(a.length&&"object"==typeof a[0][0]?a.sort(function(e,t){return e[0][0]-t[0][0]}):a.sort(function(e,t){return e[0]-t[0]}),s=0;s<a.length;s++)x(a[s][1],a[s][0],this);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)k(s,this.xNumSteps[s],this)}function S(e,t){if(!i(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function C(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider: 'range' 'min' and 'max' cannot be equal.");e.spectrum=new $(t,e.snap,e.dir,e.singleStep)}function T(e,t){if(t=o(t),!Array.isArray(t)||!t.length||t.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function A(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function _(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function I(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.")}function D(e,t){if("lower"===t&&1===e.handles)e.connect=1;else if("upper"===t&&1===e.handles)e.connect=2;else if(t===!0&&2===e.handles)e.connect=3;else{if(t!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");e.connect=0}}function P(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function M(e,t){if(!i(t))throw new Error("noUiSlider: 'margin' option must be numeric.");if(0!==t&&(e.margin=e.spectrum.getMargin(t),!e.margin))throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function E(e,t){if(!i(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(t),!e.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function O(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1,e.connect=[0,2,1,3][e.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function R(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,s=t.indexOf("fixed")>=0,a=t.indexOf("snap")>=0,o=t.indexOf("hover")>=0;if(i&&!e.connect)throw new Error("noUiSlider: 'drag' behaviour must be used with 'connect': true.");e.events={tap:n||a,drag:i,fixed:s,snap:a,hover:o}}function L(e,t){var n;if(t!==!1)if(t===!0)for(e.tooltips=[],n=0;n<e.handles;n++)e.tooltips.push(!0);else{if(e.tooltips=o(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})}}function N(e,t){if(e.format=t,"function"==typeof t.to&&"function"==typeof t.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function F(e,t){if(void 0!==t&&"string"!=typeof t&&t!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function B(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function U(e){var t,n={margin:0,limit:0,animate:!0,animationDuration:300,format:z};t={step:{r:!1,t:S},start:{r:!0,t:T},connect:{r:!0,t:D},direction:{r:!0,t:O},snap:{r:!1,t:A},animate:{r:!1,t:_},animationDuration:{r:!1,t:I},range:{r:!0,t:C},orientation:{r:!1,t:P},margin:{r:!1,t:M},limit:{r:!1,t:E},behaviour:{r:!0,t:R},format:{r:!1,t:N},tooltips:{r:!1,t:L},cssPrefix:{r:!1,t:F},cssClasses:{r:!1,t:B}};var i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",stacking:"stacking",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};return Object.keys(t).forEach(function(s){if(void 0===e[s]&&void 0===i[s]){if(t[s].r)throw new Error("noUiSlider: '"+s+"' is required.");return!0}t[s].t(n,void 0===e[s]?i[s]:e[s])}),n.pips=e.pips,n.style=n.ort?"top":"left",n}function V(t,i,h){function f(e,t,n){var i=e+t[0],s=e+t[1];return n?(i<0&&(s+=Math.abs(i)),s>100&&(i-=s-100),[a(i),a(s)]):[i,s]}function g(e,t){e.preventDefault();var n,i,s=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),o=0===e.type.indexOf("pointer"),r=e;return 0===e.type.indexOf("MSPointer")&&(o=!0),s&&(n=e.changedTouches[0].pageX,i=e.changedTouches[0].pageY),t=t||u(),(a||o)&&(n=e.clientX+t.x,i=e.clientY+t.y),r.pageOffset=t,r.points=[n,i],r.cursor=a||o,r}function m(e,t){var n=document.createElement("div"),s=document.createElement("div"),a=[i.cssClasses.handleLower,i.cssClasses.handleUpper];return e&&a.reverse(),l(s,i.cssClasses.handle),l(s,a[t]),l(n,i.cssClasses.origin),n.appendChild(s),n}function v(e,t,n){switch(e){case 1:l(t,i.cssClasses.connect),l(n[0],i.cssClasses.background);break;case 3:l(n[1],i.cssClasses.background);case 2:l(n[0],i.cssClasses.connect);case 0:l(t,i.cssClasses.background)}}function b(e,t,n){var i,s=[];for(i=0;i<e;i+=1)s.push(n.appendChild(m(t,i)));return s}function y(e,t,n){l(n,i.cssClasses.target),0===e?l(n,i.cssClasses.ltr):l(n,i.cssClasses.rtl),0===t?l(n,i.cssClasses.horizontal):l(n,i.cssClasses.vertical);var s=document.createElement("div");return l(s,i.cssClasses.base),n.appendChild(s),s}function w(e,t){if(!i.tooltips[t])return!1;var n=document.createElement("div");return n.className=i.cssClasses.tooltip,e.firstChild.appendChild(n)}function x(){i.dir&&i.tooltips.reverse();var e=Y.map(w);i.dir&&(e.reverse(),i.tooltips.reverse()),H("update",function(t,n,s){e[n]&&(e[n].innerHTML=i.tooltips[n]===!0?t[n]:i.tooltips[n].to(s[n]))})}function k(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){var i,s=100/(t-1),a=0;for(t=[];(i=a++*s)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}function $(t,n,i){function s(e,t){return(e+t).toFixed(7)/1}var a=J.direction,o={},r=J.xVal[0],l=J.xVal[J.xVal.length-1],c=!1,d=!1,u=0;return J.direction=0,i=e(i.slice().sort(function(e,t){return e-t})),i[0]!==r&&(i.unshift(r),c=!0),i[i.length-1]!==l&&(i.push(l),d=!0),i.forEach(function(e,a){var r,l,p,h,f,g,m,v,b,y,w=e,x=i[a+1];if("steps"===n&&(r=J.xNumSteps[a]),r||(r=x-w),w!==!1&&void 0!==x)for(l=w;l<=x;l=s(l,r)){for(h=J.toStepping(l),f=h-u,v=f/t,b=Math.round(v),y=f/b,p=1;p<=b;p+=1)g=u+p*y,o[g.toFixed(5)]=["x",0];m=i.indexOf(l)>-1?1:"steps"===n?2:0,!a&&c&&(m=0),l===x&&d||(o[h.toFixed(5)]=[l,m]),u=h}}),J.direction=a,o}function S(e,t,n){function s(e,t){var n=t===i.cssClasses.value,s=n?p:h,a=n?d:u;return t+" "+s[i.ort]+" "+a[e]}function a(e,t,n){return'class="'+s(n[1],t)+'" style="'+i.style+": "+e+'%"'}function o(e,s){J.direction&&(e=100-e),s[1]=s[1]&&t?t(s[0],s[1]):s[1],c+="<div "+a(e,i.cssClasses.marker,s)+"></div>",s[1]&&(c+="<div "+a(e,i.cssClasses.value,s)+">"+n.to(s[0])+"</div>")}var r=document.createElement("div"),c="",d=[i.cssClasses.valueNormal,i.cssClasses.valueLarge,i.cssClasses.valueSub],u=[i.cssClasses.markerNormal,i.cssClasses.markerLarge,i.cssClasses.markerSub],p=[i.cssClasses.valueHorizontal,i.cssClasses.valueVertical],h=[i.cssClasses.markerHorizontal,i.cssClasses.markerVertical];return l(r,i.cssClasses.pips),l(r,0===i.ort?i.cssClasses.pipsHorizontal:i.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){o(t,e[t])}),r.innerHTML=c,r}function C(e){var t=e.mode,n=e.density||1,i=e.filter||!1,s=e.values||!1,a=e.stepped||!1,o=k(t,s,a),r=$(n,t,o),l=e.format||{to:Math.round};return Z.appendChild(S(r,i,l))}function T(){var e=G.getBoundingClientRect(),t="offset"+["Width","Height"][i.ort];return 0===i.ort?e.width||G[t]:e.height||G[t]}function A(e,t,n){var s;for(s=0;s<i.handles;s++)if(Q[s]===-1)return;void 0!==t&&1!==i.handles&&(t=Math.abs(t-i.dir)),Object.keys(te).forEach(function(i){var s=i.split(".")[0];e===s&&te[i].forEach(function(e){e.call(K,o(V()),t,o(_(Array.prototype.slice.call(ee))),n||!1,Q)})})}function _(e){return 1===e.length?e[0]:i.dir?e.reverse():e}function I(e,t,n,s){var a=function(t){return!Z.hasAttribute("disabled")&&(!d(Z,i.cssClasses.tap)&&(t=g(t,s.pageOffset),!(e===X.start&&void 0!==t.buttons&&t.buttons>1)&&((!s.hover||!t.buttons)&&(t.calcPoint=t.points[i.ort],void n(t,s)))))},o=[];return e.split(" ").forEach(function(e){t.addEventListener(e,a,!1),o.push([e,a])}),o}function D(e,t){if(navigator.appVersion.indexOf("MSIE 9")===-1&&0===e.buttons&&0!==t.buttonsProperty)return P(e,t);var n,i,s=t.handles||Y,a=!1,o=100*(e.calcPoint-t.start)/t.baseSize,r=s[0]===Y[0]?0:1;if(n=f(o,t.positions,s.length>1),a=N(s[0],n[r],1===s.length),s.length>1){if(a=N(s[1],n[r?0:1],!1)||a)for(i=0;i<t.handles.length;i++)A("slide",i)}else a&&A("slide",r)}function P(e,t){var n=G.querySelector("."+i.cssClasses.active),s=t.handles[0]===Y[0]?0:1;null!==n&&c(n,i.cssClasses.active),e.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var a=document.documentElement;a.noUiListeners.forEach(function(e){a.removeEventListener(e[0],e[1])}),c(Z,i.cssClasses.drag),A("set",s),A("change",s),void 0!==t.handleNumber&&A("end",t.handleNumber)}function M(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&P(e,t)}function E(e,t){var n=document.documentElement;if(1===t.handles.length){if(t.handles[0].hasAttribute("disabled"))return!1;l(t.handles[0].children[0],i.cssClasses.active)}e.preventDefault(),e.stopPropagation();var s=I(X.move,n,D,{start:e.calcPoint,baseSize:T(),pageOffset:e.pageOffset,handles:t.handles,handleNumber:t.handleNumber,buttonsProperty:e.buttons,positions:[Q[0],Q[Y.length-1]]}),a=I(X.end,n,P,{handles:t.handles,handleNumber:t.handleNumber}),o=I("mouseout",n,M,{handles:t.handles,handleNumber:t.handleNumber});if(n.noUiListeners=s.concat(a,o),e.cursor){document.body.style.cursor=getComputedStyle(e.target).cursor,Y.length>1&&l(Z,i.cssClasses.drag);var r=function(){return!1};document.body.noUiListener=r,document.body.addEventListener("selectstart",r,!1)}void 0!==t.handleNumber&&A("start",t.handleNumber)}function O(e){var t,a,o=e.calcPoint,r=0;return e.stopPropagation(),Y.forEach(function(e){r+=n(e)[i.style]}),t=o<r/2||1===Y.length?0:1,Y[t].hasAttribute("disabled")&&(t=t?0:1),o-=n(G)[i.style],a=100*o/T(),i.events.snap||s(Z,i.cssClasses.tap,i.animationDuration),!Y[t].hasAttribute("disabled")&&(N(Y[t],a),A("slide",t,!0),A("set",t,!0),A("change",t,!0),void(i.events.snap&&E(e,{handles:[Y[t]]})))}function R(e){var t=e.calcPoint-n(G)[i.style],s=J.getStep(100*t/T()),a=J.fromStepping(s);Object.keys(te).forEach(function(e){"hover"===e.split(".")[0]&&te[e].forEach(function(e){e.call(K,a)})})}function L(e){if(e.fixed||Y.forEach(function(e,t){I(X.start,e.children[0],E,{handles:[e],handleNumber:t})}),e.tap&&I(X.start,G,O,{handles:Y}),e.hover&&I(X.move,G,R,{hover:!0}),e.drag){var t=[G.querySelector("."+i.cssClasses.connect)];l(t[0],i.cssClasses.draggable),e.fixed&&t.push(Y[t[0]===Y[0]?1:0].children[0]),t.forEach(function(e){I(X.start,e,E,{handles:Y})})}}function N(e,t,n){var s=e!==Y[0]?1:0,o=Q[0]+i.margin,r=Q[1]-i.margin,d=Q[0]+i.limit,u=Q[1]-i.limit;return Y.length>1&&(t=s?Math.max(t,o):Math.min(t,r)),n!==!1&&i.limit&&Y.length>1&&(t=s?Math.min(t,d):Math.max(t,u)),t=J.getStep(t),t=a(t),t!==Q[s]&&(window.requestAnimationFrame?window.requestAnimationFrame(function(){e.style[i.style]=t+"%"}):e.style[i.style]=t+"%",e.previousSibling||(c(e,i.cssClasses.stacking),t>50&&l(e,i.cssClasses.stacking)),Q[s]=t,ee[s]=J.fromStepping(t),A("update",s),!0)}function F(e,t){var n,s,a;for(i.limit&&(e+=1),n=0;n<e;n+=1)s=n%2,a=t[s],null!==a&&a!==!1&&("number"==typeof a&&(a=String(a)),a=i.format.from(a),(a===!1||isNaN(a)||N(Y[s],J.toStepping(a),n===3-i.dir)===!1)&&A("update",s))}function B(e,t){var n,a,r=o(e);for(t=void 0===t||!!t,i.dir&&i.handles>1&&r.reverse(),i.animate&&Q[0]!==-1&&s(Z,i.cssClasses.tap,i.animationDuration),n=Y.length>1?3:1,1===r.length&&(n=1),F(n,r),a=0;a<Y.length;a++)null!==r[a]&&t&&A("set",a)}function V(){var e,t=[];for(e=0;e<i.handles;e+=1)t[e]=i.format.to(ee[e]);return _(t)}function j(){for(var e in i.cssClasses)i.cssClasses.hasOwnProperty(e)&&c(Z,i.cssClasses[e]);for(;Z.firstChild;)Z.removeChild(Z.firstChild);delete Z.noUiSlider}function z(){var e=Q.map(function(e,t){var n=J.getApplicableStep(e),i=r(String(n[2])),s=ee[t],a=100===e?null:n[2],o=Number((s-n[2]).toFixed(i)),l=0===e?null:o>=n[1]?n[2]:n[0]||!1;return[l,a]});return _(e)}function H(e,t){te[e]=te[e]||[],te[e].push(t),"update"===e.split(".")[0]&&Y.forEach(function(e,t){A("update",t)})}function q(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(te).forEach(function(e){var i=e.split(".")[0],s=e.substring(i.length);t&&t!==i||n&&n!==s||delete te[e]})}function W(e,t){var n=V(),s=U({start:[0,0],margin:e.margin,limit:e.limit,step:void 0===e.step?i.singleStep:e.step,range:e.range,animate:e.animate,snap:void 0===e.snap?i.snap:e.snap});["margin","limit","range","animate"].forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),s.spectrum.direction=J.direction,J=s.spectrum,Q=[-1,-1],B(e.start||n,t)}var G,Y,K,X=p(),Z=t,Q=[-1,-1],J=i.spectrum,ee=[],te={};if(Z.noUiSlider)throw new Error("Slider was already initialized.");return G=y(i.dir,i.ort,Z),Y=b(i.handles,i.dir,G),v(i.connect,Z,Y),i.pips&&C(i.pips),i.tooltips&&x(),K={destroy:j,steps:z,on:H,off:q,get:V,set:B,updateOptions:W,options:h,target:Z,pips:C},L(i.events),K}function j(e,t){if(!e.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=U(t,e),i=V(e,n,t);return i.set(n.start),e.noUiSlider=i,i}$.prototype.getMargin=function(e){return 2===this.xPct.length&&f(this.xVal,e)},$.prototype.toStepping=function(e){return e=b(this.xVal,this.xPct,e),this.direction&&(e=100-e),e},$.prototype.fromStepping=function(e){return this.direction&&(e=100-e),y(this.xVal,this.xPct,e)},$.prototype.getStep=function(e){return this.direction&&(e=100-e),e=w(this.xPct,this.xSteps,this.snap,e),this.direction&&(e=100-e),e},$.prototype.getApplicableStep=function(e){var t=v(e,this.xPct),n=100===e?2:1;return[this.xNumSteps[t-2],this.xVal[t-n],this.xNumSteps[t-n]]},$.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var z={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{create:j}}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.hopscotch=t()}(this,function(){"use strict";var e,t,n,i,s,a,o,r,l,c,d,u,p,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f="bubble_default",g=window.Sizzle||null,m="undefined",v=!1,b=("undefined"==typeof jQuery?"undefined":h(jQuery))!==m,y=!1,w=!1,x=/^[a-zA-Z]+[a-zA-Z0-9_-]*$/,k={left:"right",right:"left"};try{h(window.sessionStorage)!==m&&(y=!0,sessionStorage.setItem("hopscotch.test.storage","ok"),sessionStorage.removeItem("hopscotch.test.storage"),w=!0)}catch($){}u={smoothScroll:!0,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:!0,showPrevButton:!1,showNextButton:!0,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:!0,isRtl:!1,cookieName:"hopscotch.tour.state"},Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),d=function(){v&&p.startTour()},r={addClass:function(e,t){var n,i,s,a;if(e.className){for(i=t.split(/\s+/),n=" "+e.className+" ",s=0,a=i.length;a>s;++s)n.indexOf(" "+i[s]+" ")<0&&(n+=i[s]+" ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=t},removeClass:function(e,t){var n,i,s,a;for(i=t.split(/\s+/),n=" "+e.className+" ",s=0,a=i.length;a>s;++s)n=n.replace(" "+i[s]+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")},hasClass:function(e,t){var n;return!!e.className&&(n=" "+e.className+" ",-1!==n.indexOf(" "+t+" "))},getPixelValue:function(e){var t="undefined"==typeof e?"undefined":h(e);return"number"===t?e:"string"===t?parseInt(e,10):0},valOrDefault:function(e,t){return("undefined"==typeof e?"undefined":h(e))!==m?e:t},invokeCallbackArrayHelper:function(e){var t;return Array.isArray(e)&&(t=c[e[0]],"function"==typeof t)?t.apply(this,e.slice(1)):void 0},invokeCallbackArray:function(e){var t,n;if(Array.isArray(e)){if("string"==typeof e[0])return r.invokeCallbackArrayHelper(e);for(t=0,n=e.length;n>t;++t)r.invokeCallback(e[t])}},invokeCallback:function(e){return"function"==typeof e?e():"string"==typeof e&&c[e]?c[e]():r.invokeCallbackArray(e)},invokeEventCallbacks:function(e,t){var n,i,s=l[e];if(t)return this.invokeCallback(t);for(n=0,i=s.length;i>n;++n)this.invokeCallback(s[n].cb)},getScrollTop:function(){var e;return e=h(window.pageYOffset)!==m?window.pageYOffset:document.documentElement.scrollTop},getScrollLeft:function(){var e;return e=h(window.pageXOffset)!==m?window.pageXOffset:document.documentElement.scrollLeft},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight},addEvtListener:function(e,t,n){return e?e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n):void 0},removeEvtListener:function(e,t,n){return e?e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n):void 0},documentIsReady:function(){return"complete"===document.readyState},evtPreventDefault:function(e){e.preventDefault?e.preventDefault():event&&(event.returnValue=!1)},extend:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},getStepTargetHelper:function(e){var t=document.getElementById(e);if(t)return t;if(b)return t=jQuery(e),t.length?t[0]:null;if(g)return t=new g(e),t.length?t[0]:null;if(document.querySelector)try{return document.querySelector(e)}catch(n){}return/^#[a-zA-Z][\w-_:.]*$/.test(e)?document.getElementById(e.substring(1)):null},getStepTarget:function(e){var t;if(!e||!e.target)return null;if("string"==typeof e.target)return r.getStepTargetHelper(e.target);if(Array.isArray(e.target)){var n,i;for(n=0,i=e.target.length;i>n;n++)if("string"==typeof e.target[n]&&(t=r.getStepTargetHelper(e.target[n])))return t;return null}return e.target},getI18NString:function(e){return s[e]||i[e]},setState:function(e,t,n){var i,s="";if(y&&w)try{sessionStorage.setItem(e,t)}catch(a){w=!1,this.setState(e,t,n)}else y&&sessionStorage.removeItem(e),n&&(i=new Date,i.setTime(i.getTime()+24*n*60*60*1e3),s="; expires="+i.toGMTString()),document.cookie=e+"="+t+s+"; path=/"},getState:function(e){var t,n,i,s=e+"=",a=document.cookie.split(";");if(y&&(i=sessionStorage.getItem(e)))return i;for(t=0;t<a.length;t++){for(n=a[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(s)){i=n.substring(s.length,n.length);break}}return i},clearState:function(e){y?sessionStorage.removeItem(e):this.setState(e,"",-1)},normalizePlacement:function(e){!e.placement&&e.orientation&&(e.placement=e.orientation)},flipPlacement:function(e){if(e.isRtl&&!e._isFlipped){var t,n,i=["orientation","placement"];e.xOffset&&(e.xOffset=-1*this.getPixelValue(e.xOffset));for(n in i)t=i[n],e.hasOwnProperty(t)&&k.hasOwnProperty(e[t])&&(e[t]=k[e[t]]);e._isFlipped=!0}}},r.addEvtListener(window,"load",d),l={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]},c={},i={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"},s={},t=function(e){this.init(e)},t.prototype={isShowing:!1,currStep:void 0,setPosition:function(e){var t,n,i,s,a,o,l,c=r.getStepTarget(e),d=this.element,u=this.arrowEl,p=e.isRtl?"right":"left";if(r.flipPlacement(e),r.normalizePlacement(e),n=d.offsetWidth,t=d.offsetHeight,r.removeClass(d,"fade-in-down fade-in-up fade-in-left fade-in-right"),i=c.getBoundingClientRect(),l=e.isRtl?i.right-n:i.left,"top"===e.placement)s=i.top-t-this.opt.arrowWidth,a=l;else if("bottom"===e.placement)s=i.bottom+this.opt.arrowWidth,a=l;else if("left"===e.placement)s=i.top,a=i.left-n-this.opt.arrowWidth;else{if("right"!==e.placement)throw new Error("Bubble placement failed because step.placement is invalid or undefined!");s=i.top,a=i.right+this.opt.arrowWidth}o="center"!==e.arrowOffset?r.getPixelValue(e.arrowOffset):e.arrowOffset,o?"top"===e.placement||"bottom"===e.placement?(u.style.top="","center"===o?u.style[p]=Math.floor(n/2-u.offsetWidth/2)+"px":u.style[p]=o+"px"):("left"===e.placement||"right"===e.placement)&&(u.style[p]="","center"===o?u.style.top=Math.floor(t/2-u.offsetHeight/2)+"px":u.style.top=o+"px"):(u.style.top="",u.style[p]=""),"center"===e.xOffset?a=i.left+c.offsetWidth/2-n/2:a+=r.getPixelValue(e.xOffset),"center"===e.yOffset?s=i.top+c.offsetHeight/2-t/2:s+=r.getPixelValue(e.yOffset),e.fixedElement||(s+=r.getScrollTop(),a+=r.getScrollLeft()),d.style.position=e.fixedElement?"fixed":"absolute",d.style.top=s+"px",d.style.left=a+"px"},render:function(e,t,n){var i,s,o,l,c,d,u,h,g,m,v=this.element;if(e?this.currStep=e:this.currStep&&(e=this.currStep),this.opt.isTourBubble?(l=p.getCurrTour(),l&&(s=l.customData,i=l.customRenderer,e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:l.hasOwnProperty("isRtl")?l.isRtl:this.opt.isRtl,o=l.unsafe,Array.isArray(l.steps)&&(c=l.steps.length,d=this._getStepI18nNum(this._getStepNum(c-1)),h=this._getStepNum(t)===this._getStepNum(c-1)))):(s=e.customData,i=e.customRenderer,o=e.unsafe,e.isRtl=e.hasOwnProperty("isRtl")?e.isRtl:this.opt.isRtl),u=h?r.getI18NString("doneBtn"):e.showSkip?r.getI18NString("skipBtn"):r.getI18NString("nextBtn"),r.flipPlacement(e),r.normalizePlacement(e),this.placement=e.placement,m={i18n:{prevBtn:r.getI18NString("prevBtn"),nextBtn:u,closeTooltip:r.getI18NString("closeTooltip"),stepNum:this._getStepI18nNum(this._getStepNum(t)),numSteps:d},buttons:{showPrev:r.valOrDefault(e.showPrevButton,this.opt.showPrevButton)&&this._getStepNum(t)>0,showNext:r.valOrDefault(e.showNextButton,this.opt.showNextButton),showCTA:r.valOrDefault(e.showCTAButton&&e.ctaLabel,!1),ctaLabel:e.ctaLabel,showClose:r.valOrDefault(this.opt.showCloseButton,!0)},step:{num:t,isLast:r.valOrDefault(h,!1),title:e.title||"",content:e.content||"",isRtl:e.isRtl,placement:e.placement,padding:r.valOrDefault(e.padding,this.opt.bubblePadding),width:r.getPixelValue(e.width)||this.opt.bubbleWidth,customData:e.customData||{}},tour:{isTour:this.opt.isTourBubble,numSteps:c,unsafe:r.valOrDefault(o,!1),customData:s||{}}},"function"==typeof i)v.innerHTML=i(m);else if("string"==typeof i){if(!p.templates||"function"!=typeof p.templates[i])throw new Error('Bubble rendering failed - template "'+i+'" is not a function.');v.innerHTML=p.templates[i](m)}else if(a)v.innerHTML=a(m);else{if(!p.templates||"function"!=typeof p.templates[f])throw new Error('Bubble rendering failed - template "'+f+'" is not a function.');v.innerHTML=p.templates[f](m)}var b,y=v.children,w=y.length;for(g=0;w>g;g++)b=y[g],r.hasClass(b,"hopscotch-arrow")&&(this.arrowEl=b);return v.style.zIndex="number"==typeof e.zindex?e.zindex:"",this._setArrow(e.placement),this.hide(!1),this.setPosition(e),n&&n(!e.fixedElement),this},_getStepNum:function(e){var t,n,i=0,s=p.getSkippedStepsIndexes(),a=s.length;for(n=0;a>n;n++)t=s[n],e>t&&i++;return e-i},_getStepI18nNum:function(e){var t=r.getI18NString("stepNums");return t&&e<t.length?e=t[e]:e+=1,e},_setArrow:function(e){r.removeClass(this.arrowEl,"down up right left"),"top"===e?r.addClass(this.arrowEl,"down"):"bottom"===e?r.addClass(this.arrowEl,"up"):"left"===e?r.addClass(this.arrowEl,"right"):"right"===e&&r.addClass(this.arrowEl,"left")},_getArrowDirection:function(){return"top"===this.placement?"down":"bottom"===this.placement?"up":"left"===this.placement?"right":"right"===this.placement?"left":void 0},show:function(){var e=this,t="fade-in-"+this._getArrowDirection(),n=1e3;return r.removeClass(this.element,"hide"),r.addClass(this.element,t),setTimeout(function(){r.removeClass(e.element,"invisible")},50),setTimeout(function(){r.removeClass(e.element,t)},n),this.isShowing=!0,this},hide:function(e){var t=this.element;return e=r.valOrDefault(e,!0),t.style.top="",t.style.left="",e?(r.addClass(t,"hide"),r.removeClass(t,"invisible")):(r.removeClass(t,"hide"),r.addClass(t,"invisible")),r.removeClass(t,"animate fade-in-up fade-in-down fade-in-right fade-in-left"),this.isShowing=!1,this},destroy:function(){var e=this.element;e&&e.parentNode.removeChild(e),r.removeEvtListener(e,"click",this.clickCb)},_handleBubbleClick:function(e){function t(n){return n===e.currentTarget?null:r.hasClass(n,"hopscotch-cta")?"cta":r.hasClass(n,"hopscotch-next")?"next":r.hasClass(n,"hopscotch-prev")?"prev":r.hasClass(n,"hopscotch-close")?"close":t(n.parentElement)}var n;e=e||window.event;var i=e.target||e.srcElement;if(n=t(i),"cta"===n)this.opt.isTourBubble||p.getCalloutManager().removeCallout(this.currStep.id),this.currStep.onCTA&&r.invokeCallback(this.currStep.onCTA);else if("next"===n)p.nextStep(!0);else if("prev"===n)p.prevStep(!0);else if("close"===n){if(this.opt.isTourBubble){var s=p.getCurrStepNum(),a=p.getCurrTour(),o=s===a.steps.length-1;r.invokeEventCallbacks("close"),p.endTour(!0,o)}else this.opt.onClose&&r.invokeCallback(this.opt.onClose),this.opt.id&&!this.opt.isTourBubble?p.getCalloutManager().removeCallout(this.opt.id):this.destroy();r.evtPreventDefault(e)}},init:function(e){var t,n,i,s,a=document.createElement("div"),o=this,l=!1;this.element=a,s={showPrevButton:u.showPrevButton,showNextButton:u.showNextButton,bubbleWidth:u.bubbleWidth,bubblePadding:u.bubblePadding,arrowWidth:u.arrowWidth,isRtl:u.isRtl,showNumber:!0,isTourBubble:!0},e=("undefined"==typeof e?"undefined":h(e))===m?{}:e,r.extend(s,e),this.opt=s,a.className="hopscotch-bubble animated",s.isTourBubble?(i=p.getCurrTour(),i&&r.addClass(a,"tour-"+i.id)):r.addClass(a,"hopscotch-callout no-number"),t=function(){!l&&o.isShowing&&(l=!0,setTimeout(function(){o.setPosition(o.currStep),l=!1},100))},r.addEvtListener(window,"resize",t),this.clickCb=function(e){o._handleBubbleClick(e)},r.addEvtListener(a,"click",this.clickCb),this.hide(),r.documentIsReady()?document.body.appendChild(a):(document.addEventListener?(n=function(){document.removeEventListener("DOMContentLoaded",n),window.removeEventListener("load",n),document.body.appendChild(a)},document.addEventListener("DOMContentLoaded",n,!1)):(n=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n),document.body.appendChild(a))},document.attachEvent("onreadystatechange",n)),r.addEvtListener(window,"load",n))}},n=function(){var e={},n={};this.createCallout=function(i){var s;if(!i.id)throw new Error("Must specify a callout id.");if(!x.test(i.id))throw new Error("Callout ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");if(e[i.id])throw new Error("Callout by that id already exists. Please choose a unique id.");if(!r.getStepTarget(i))throw new Error("Must specify existing target element via 'target' option.");return i.showNextButton=i.showPrevButton=!1,i.isTourBubble=!1,s=new t(i),e[i.id]=s,n[i.id]=i,s.render(i,null,function(){s.show(),i.onShow&&r.invokeCallback(i.onShow)}),s},this.getCallout=function(t){return e[t]},this.removeAllCallouts=function(){var t;for(t in e)e.hasOwnProperty(t)&&this.removeCallout(t)},this.removeCallout=function(t){var i=e[t];e[t]=null,n[t]=null,i&&i.destroy()},this.refreshCalloutPositions=function(){var t,i,s;for(t in e)e.hasOwnProperty(t)&&n.hasOwnProperty(t)&&(i=e[t],s=n[t],i&&s&&i.setPosition(s))}},e=function(e){var i,d,g,y,w,k,$,S,C=this,T={},A=[],_=function(e){return i&&i.element&&i.element.parentNode||(i=new t(g)),e&&r.extend(i.opt,{bubblePadding:D("bubblePadding"),bubbleWidth:D("bubbleWidth"),showNextButton:D("showNextButton"),showPrevButton:D("showPrevButton"),showCloseButton:D("showCloseButton"),arrowWidth:D("arrowWidth"),isRtl:D("isRtl")}),i},I=function(){i&&(i.destroy(),i=null)},D=function(e){return"undefined"==typeof g?u[e]:r.valOrDefault(g[e],u[e])},P=function(){var e;return e=!y||0>w||w>=y.steps.length?null:y.steps[w]},M=function(){C.nextStep()},E=function(e){var t,n,i,s,a,o,l=_(),c=l.element,d=r.getPixelValue(c.style.top),u=d+r.getPixelValue(c.offsetHeight),p=r.getStepTarget(P()),f=p.getBoundingClientRect(),g=f.top+r.getScrollTop(),v=f.bottom+r.getScrollTop(),y=g>d?d:g,w=u>v?u:v,x=r.getScrollTop(),k=x+r.getWindowHeight(),$=y-D("scrollTopMargin");y>=x&&(y<=x+D("scrollTopMargin")||k>=w)?e&&e():D("smoothScroll")?("undefined"==typeof YAHOO?"undefined":h(YAHOO))!==m&&h(YAHOO.env)!==m&&h(YAHOO.env.ua)!==m&&h(YAHOO.util)!==m&&h(YAHOO.util.Scroll)!==m?(t=YAHOO.env.ua.webkit?document.body:document.documentElement,i=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:void 0,n=new YAHOO.util.Scroll(t,{scroll:{to:[0,$]}},D("scrollDuration")/1e3,i),n.onComplete.subscribe(e),n.animate()):b?jQuery("body, html").animate({scrollTop:$},D("scrollDuration"),e):(0>$&&($=0),s=x>y?-1:1,a=Math.abs(x-$)/(D("scrollDuration")/10),(o=function(){var t=r.getScrollTop(),n=t+s*a;return s>0&&n>=$||0>s&&$>=n?(n=$,e&&e(),void window.scrollTo(0,n)):(window.scrollTo(0,n),r.getScrollTop()===t?void(e&&e()):void setTimeout(o,10));
})()):(window.scrollTo(0,$),e&&e())},O=function V(e,t){var n,i,s;w+e>=0&&w+e<y.steps.length?(w+=e,i=P(),s=function(){n=r.getStepTarget(i),n?(T[w]&&delete T[w],t(w)):(T[w]=!0,r.invokeEventCallbacks("error"),V(e,t))},i.delay?setTimeout(s,i.delay):s()):t(-1)},R=function(e,t){var n,i,s,a,o=_(),l=this;if(o.hide(),e=r.valOrDefault(e,!0),n=P(),n.nextOnTargetClick&&r.removeEvtListener(r.getStepTarget(n),"click",M),i=n,s=t>0?i.multipage:w>0&&y.steps[w-1].multipage,a=function(n){var a;if(-1===n)return this.endTour(!0);if(e&&(a=t>0?r.invokeEventCallbacks("next",i.onNext):r.invokeEventCallbacks("prev",i.onPrev)),n===w){if(s)return void B();a=r.valOrDefault(a,!0),a?this.showStep(n):this.endTour(!1)}},!s&&D("skipIfNoElement"))O(t,function(e){a.call(l,e)});else if(w+t>=0&&w+t<y.steps.length){if(w+=t,n=P(),!r.getStepTarget(n)&&!s)return r.invokeEventCallbacks("error"),this.endTour(!0,!1);a.call(this,w)}else if(w+t===y.steps.length)return this.endTour();return this},L=function(e){var t,n,i,s={};for(t in e)e.hasOwnProperty(t)&&"id"!==t&&"steps"!==t&&(s[t]=e[t]);return S.call(this,s,!0),n=r.getState(D("cookieName")),n&&(i=n.split(":"),k=i[0],$=i[1],i.length>2&&(A=i[2].split(",")),$=parseInt($,10)),this},N=function(e,t,n){var i,s;if(w=e||0,T=t||{},i=P(),s=r.getStepTarget(i))return void n(w);if(!s){if(r.invokeEventCallbacks("error"),T[w]=!0,D("skipIfNoElement"))return void O(1,n);w=-1,n(w)}},F=function(e){function t(){i.show(),r.invokeEventCallbacks("show",n.onShow)}var n=y.steps[e],i=_(),s=r.getStepTarget(n);w!==e&&P().nextOnTargetClick&&r.removeEvtListener(r.getStepTarget(P()),"click",M),w=e,i.hide(!1),i.render(n,e,function(e){e?E(t):t(),n.nextOnTargetClick&&r.addEvtListener(s,"click",M)}),B()},B=function(){var e=y.id+":"+w,t=p.getSkippedStepsIndexes();t&&t.length>0&&(e+=":"+t.join(",")),r.setState(D("cookieName"),e,1)},U=function(e){e&&this.configure(e)};this.getCalloutManager=function(){return("undefined"==typeof d?"undefined":h(d))===m&&(d=new n),d},this.startTour=function(e,t){var n,i,s={},a=this;if(!y){if(!e)throw new Error("Tour data is required for startTour.");if(!e.id||!x.test(e.id))throw new Error("Tour ID is using an invalid format. Use alphanumeric, underscores, and/or hyphens only. First character must be a letter.");y=e,L.call(this,e)}if(("undefined"==typeof t?"undefined":h(t))!==m){if(t>=y.steps.length)throw new Error("Specified step number out of bounds.");i=t}if(!r.documentIsReady())return v=!0,this;if("undefined"==typeof i&&y.id===k&&("undefined"==typeof $?"undefined":h($))!==m){if(i=$,A.length>0)for(var o=0,l=A.length;l>o;o++)s[A[o]]=!0}else i||(i=0);return N(i,s,function(e){var t=-1!==e&&r.getStepTarget(y.steps[e]);return t?(r.invokeEventCallbacks("start"),n=_(),n.hide(!1),a.isActive=!0,void(r.getStepTarget(P())?a.showStep(e):(r.invokeEventCallbacks("error"),D("skipIfNoElement")&&a.nextStep(!1)))):void a.endTour(!1,!1)}),this},this.showStep=function(e){var t=y.steps[e],n=w;return r.getStepTarget(t)?(t.delay?setTimeout(function(){F(e)},t.delay):F(e),this):(w=e,r.invokeEventCallbacks("error"),void(w=n))},this.prevStep=function(e){return R.call(this,e,-1),this},this.nextStep=function(e){return R.call(this,e,1),this},this.endTour=function(e,t){var n,i=_();return e=r.valOrDefault(e,!0),t=r.valOrDefault(t,!0),y&&(n=P(),n&&n.nextOnTargetClick&&r.removeEvtListener(r.getStepTarget(n),"click",M)),w=0,$=void 0,i.hide(),e&&r.clearState(D("cookieName")),this.isActive&&(this.isActive=!1,y&&t&&r.invokeEventCallbacks("end")),this.removeCallbacks(null,!0),this.resetDefaultOptions(),I(),y=null,this},this.getCurrTour=function(){return y},this.getCurrTarget=function(){return r.getStepTarget(P())},this.getCurrStepNum=function(){return w},this.getSkippedStepsIndexes=function(){var e,t=[];for(e in T)t.push(e);return t},this.refreshBubblePosition=function(){var e=P();return e&&_().setPosition(e),this.getCalloutManager().refreshCalloutPositions(),this},this.listen=function(e,t,n){return e&&l[e].push({cb:t,fromTour:n}),this},this.unlisten=function(e,t){var n,i,s=l[e];for(n=0,i=s.length;i>n;++n)s[n].cb===t&&s.splice(n,1);return this},this.removeCallbacks=function(e,t){var n,i,s,a;for(a in l)if(!e||e===a)if(t)for(n=l[a],i=0,s=n.length;s>i;++i)n[i].fromTour&&(n.splice(i--,1),--s);else l[a]=[];return this},this.registerHelper=function(e,t){"string"==typeof e&&"function"==typeof t&&(c[e]=t)},this.unregisterHelper=function(e){c[e]=null},this.invokeHelper=function(e){var t,n,i=[];for(t=1,n=arguments.length;n>t;++t)i.push(arguments[t]);c[e]&&c[e].call(null,i)},this.setCookieName=function(e){return g.cookieName=e,this},this.resetDefaultOptions=function(){return g={},this},this.resetDefaultI18N=function(){return s={},this},this.getState=function(){return r.getState(D("cookieName"))},S=function(e,t){var n,i,a,o,l=["next","prev","start","end","show","error","close"];for(g||this.resetDefaultOptions(),r.extend(g,e),e&&r.extend(s,e.i18n),a=0,o=l.length;o>a;++a)i="on"+l[a].charAt(0).toUpperCase()+l[a].substring(1),e[i]&&this.listen(l[a],e[i],t);return n=_(!0),this},this.configure=function(e){return S.call(this,e,!1)},this.setRenderer=function(e){var t="undefined"==typeof e?"undefined":h(e);return"string"===t?(f=e,a=void 0):"function"===t&&(a=e),this},this.setEscaper=function(e){return"function"==typeof e&&(o=e),this},U.call(this,e)},p=new e,function(){var e={};e.escape=function(e){return o?o(e):null==e?"":(""+e).replace(new RegExp("[&<>\"']","g"),function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":'"'==e?"&quot;":"'"==e?"&#x27;":void 0})},this.templates=this.templates||{},this.templates.bubble_default=function(t){function n(t,n){return n?e.escape(t):t}var i,s="";e.escape,Array.prototype.join,s+="\n";var a=t.i18n,o=t.buttons,r=t.step,l=t.tour;return s+='\n<div class="hopscotch-bubble-container" style="width: '+(null==(i=r.width)?"":i)+"px; padding: "+(null==(i=r.padding)?"":i)+'px;">\n  ',l.isTour&&(s+='<span class="hopscotch-bubble-number">'+(null==(i=a.stepNum)?"":i)+"</span>"),s+='\n  <div class="hopscotch-bubble-content">\n    ',""!==r.title&&(s+='<h3 class="hopscotch-title">'+(null==(i=n(r.title,l.unsafe))?"":i)+"</h3>"),s+="\n    ",""!==r.content&&(s+='<div class="hopscotch-content">'+(null==(i=n(r.content,l.unsafe))?"":i)+"</div>"),s+='\n  </div>\n  <div class="hopscotch-actions">\n    ',o.showPrev&&(s+='<button class="hopscotch-nav-button prev hopscotch-prev">'+(null==(i=a.prevBtn)?"":i)+"</button>"),s+="\n    ",o.showCTA&&(s+='<button class="hopscotch-nav-button next hopscotch-cta">'+(null==(i=o.ctaLabel)?"":i)+"</button>"),s+="\n    ",o.showNext&&(s+='<button class="hopscotch-nav-button next hopscotch-next">'+(null==(i=a.nextBtn)?"":i)+"</button>"),s+="\n  </div>\n  ",o.showClose&&(s+='<button class="hopscotch-bubble-close hopscotch-close">'+(null==(i=a.closeTooltip)?"":i)+"</button>"),s+='\n</div>\n<div class="hopscotch-bubble-arrow-container hopscotch-arrow">\n  <div class="hopscotch-bubble-arrow-border"></div>\n  <div class="hopscotch-bubble-arrow"></div>\n</div>\n'}}.call(p);var S=p;return S}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ProgressBar=e()}}(function(){var e;return function t(e,n,i){function s(o,r){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!r&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};e[o][0].call(d.exports,function(t){var n=e[o][1][t];return s(n?n:t)},d,d.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(t,n,i){(function(){var t=this||Function("return this")(),s=function(){"use strict";function s(){}function a(e,t){var n;for(n in e)Object.hasOwnProperty.call(e,n)&&t(n)}function o(e,t){return a(t,function(n){e[n]=t[n]}),e}function r(e,t){a(t,function(n){"undefined"==typeof e[n]&&(e[n]=t[n])})}function l(e,t,n,i,s,a,o){var r,l,d,u=e<a?0:(e-a)/s;for(r in t)t.hasOwnProperty(r)&&(l=o[r],d="function"==typeof l?l:f[l],t[r]=c(n[r],i[r],d,u));return t}function c(e,t,n,i){return e+(t-e)*n(i)}function d(e,t){var n=h.prototype.filter,i=e._filterArgs;a(n,function(s){"undefined"!=typeof n[s][t]&&n[s][t].apply(e,i)})}function u(e,t,n,i,s,a,o,r,c,u,p){x=t+n+i,k=Math.min(p||w(),x),$=k>=x,S=i-(x-k),e.isPlaying()&&($?(c(o,e._attachment,S),e.stop(!0)):(e._scheduleId=u(e._timeoutHandler,b),d(e,"beforeTween"),k<t+n?l(1,s,a,o,1,1,r):l(k,s,a,o,i,t+n,r),d(e,"afterTween"),c(s,e._attachment,S)))}function p(e,t){var n={},i=typeof t;return"string"===i||"function"===i?a(e,function(e){n[e]=t}):a(e,function(e){n[e]||(n[e]=t[e]||m)}),n}function h(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=g,"undefined"!=typeof t&&this.setConfig(t)}var f,g,m="linear",v=500,b=1e3/60,y=Date.now?Date.now:function(){return+new Date},w="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:y;g="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var x,k,$,S;return h.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=w(),this._start(this.get(),this._attachment),this.resume())},h.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||s,this._step=e.step||s,this._finish=e.finish||s,this._duration=e.duration||v,this._currentState=o({},e.from||this.get()),this._originalState=this.get(),this._targetState=o({},e.to||this.get());var t=this;this._timeoutHandler=function(){u(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var n=this._currentState,i=this._targetState;return r(i,n),this._easing=p(n,e.easing||m),this._filterArgs=[n,this._originalState,i,this._easing],d(this,"tweenCreated"),this},h.prototype.get=function(){return o({},this._currentState)},h.prototype.set=function(e){this._currentState=e},h.prototype.pause=function(){return this._pausedAtTime=w(),this._isPaused=!0,this},h.prototype.resume=function(){return this._isPaused&&(this._timestamp+=w()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},h.prototype.seek=function(e){e=Math.max(e,0);var t=w();return this._timestamp+e===0?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,u(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},h.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=s,(t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.mozCancelRequestAnimationFrame||t.clearTimeout)(this._scheduleId),e&&(d(this,"beforeTween"),l(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),d(this,"afterTween"),d(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},h.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},h.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},h.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},h.prototype.filter={},h.prototype.formula={linear:function(e){return e}},f=h.prototype.formula,o(h,{now:w,each:a,tweenProps:l,tweenProp:c,applyFilter:d,shallowCopy:o,defaults:r,composeEasingObject:p}),"function"==typeof SHIFTY_DEBUG_NOW&&(t.timeoutHandler=u),"object"==typeof i?n.exports=h:"function"==typeof e&&e.amd?e(function(){return h}):"undefined"==typeof t.Tweenable&&(t.Tweenable=h),h}();!function(){s.shallowCopy(s.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,n,i,s,a){function o(e){return((h*e+f)*e+g)*e}function r(e){return((m*e+v)*e+b)*e}function l(e){return(3*h*e+2*f)*e+g}function c(e){return 1/(200*e)}function d(e,t){return r(p(e,t))}function u(e){return e>=0?e:0-e}function p(e,t){var n,i,s,a,r,c;for(s=e,c=0;c<8;c++){if(a=o(s)-e,u(a)<t)return s;if(r=l(s),u(r)<1e-6)break;s-=a/r}if(n=0,i=1,s=e,s<n)return n;if(s>i)return i;for(;n<i;){if(a=o(s),u(a-e)<t)return s;e>a?n=s:i=s,s=.5*(i-n)+n}return s}var h=0,f=0,g=0,m=0,v=0,b=0;return g=3*t,f=3*(i-t)-g,h=1-g-f,b=3*n,v=3*(s-n)-b,m=1-b-v,d(e,c(a))}function t(t,n,i,s){return function(a){return e(a,t,n,i,s,1)}}s.setBezierFunction=function(e,n,i,a,o){var r=t(n,i,a,o);return r.displayName=e,r.x1=n,r.y1=i,r.x2=a,r.y2=o,s.prototype.formula[e]=r},s.unsetBezierFunction=function(e){delete s.prototype.formula[e]}}(),function(){function e(e,t,n,i,a,o){return s.tweenProps(i,t,e,n,1,o,a)}var t=new s;t._filterArgs=[],s.interpolate=function(n,i,a,o,r){var l=s.shallowCopy({},n),c=r||0,d=s.composeEasingObject(n,o||"linear");t.set({});var u=t._filterArgs;u.length=0,u[0]=l,u[1]=n,u[2]=i,u[3]=d,s.applyFilter(t,"tweenCreated"),s.applyFilter(t,"beforeTween");var p=e(n,l,i,a,d,c);return s.applyFilter(t,"afterTween"),p}}(),function(e){function t(e,t){var n,i=[],s=e.length;for(n=0;n<s;n++)i.push("_"+t+"_"+n);return i}function n(e){var t=e.match(x);return t?(1===t.length||e.charAt(0).match(w))&&t.unshift(""):t=["",""],t.join(T)}function i(t){e.each(t,function(e){var n=t[e];"string"==typeof n&&n.match(C)&&(t[e]=s(n))})}function s(e){return l(C,e,a)}function a(e){var t=o(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function o(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),A[0]=r(e.substr(0,2)),A[1]=r(e.substr(2,2)),A[2]=r(e.substr(4,2)),A}function r(e){return parseInt(e,16)}function l(e,t,n){var i=t.match(e),s=t.replace(e,T);if(i)for(var a,o=i.length,r=0;r<o;r++)a=i.shift(),s=s.replace(T,n(a));return s}function c(e){return l($,e,d)}function d(e){for(var t=e.match(k),n=t.length,i=e.match(S)[0],s=0;s<n;s++)i+=parseInt(t[s],10)+",";return i=i.slice(0,-1)+")"}function u(i){var s={};return e.each(i,function(e){var a=i[e];if("string"==typeof a){var o=v(a);s[e]={formatString:n(a),chunkNames:t(o,e)}}}),s}function p(t,n){e.each(n,function(e){for(var i=t[e],s=v(i),a=s.length,o=0;o<a;o++)t[n[e].chunkNames[o]]=+s[o];delete t[e]})}function h(t,n){e.each(n,function(e){var i=t[e],s=f(t,n[e].chunkNames),a=g(s,n[e].chunkNames);i=m(n[e].formatString,a),t[e]=c(i)})}function f(e,t){for(var n,i={},s=t.length,a=0;a<s;a++)n=t[a],i[n]=e[n],delete e[n];return i}function g(e,t){_.length=0;for(var n=t.length,i=0;i<n;i++)_.push(e[t[i]]);return _}function m(e,t){for(var n=e,i=t.length,s=0;s<i;s++)n=n.replace(T,+t[s].toFixed(4));return n}function v(e){return e.match(k)}function b(t,n){e.each(n,function(e){var i,s=n[e],a=s.chunkNames,o=a.length,r=t[e];if("string"==typeof r){var l=r.split(" "),c=l[l.length-1];for(i=0;i<o;i++)t[a[i]]=l[i]||c}else for(i=0;i<o;i++)t[a[i]]=r;delete t[e]})}function y(t,n){e.each(n,function(e){var i=n[e],s=i.chunkNames,a=s.length,o=t[s[0]],r=typeof o;if("string"===r){for(var l="",c=0;c<a;c++)l+=" "+t[s[c]],delete t[s[c]];t[e]=l.substr(1)}else t[e]=o})}var w=/(\d|\-|\.)/,x=/([^\-0-9\.]+)/g,k=/[0-9.\-]+/g,$=new RegExp("rgb\\("+k.source+/,\s*/.source+k.source+/,\s*/.source+k.source+"\\)","g"),S=/^.*\(/,C=/#([0-9]|[a-f]){3,6}/gi,T="VAL",A=[],_=[];e.prototype.filter.token={tweenCreated:function(e,t,n,s){i(e),i(t),i(n),this._tokenData=u(e)},beforeTween:function(e,t,n,i){b(i,this._tokenData),p(e,this._tokenData),p(t,this._tokenData),p(n,this._tokenData)},afterTween:function(e,t,n,i){h(e,this._tokenData),h(t,this._tokenData),h(n,this._tokenData),y(i,this._tokenData)}}}(s)}).call(null)},{}],2:[function(e,t,n){var i=e("./shape"),s=e("./utils"),a=function(e,t){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,i.apply(this,arguments)};a.prototype=new i,a.prototype.constructor=a,a.prototype._pathString=function(e){var t=e.strokeWidth;e.trailWidth&&e.trailWidth>e.strokeWidth&&(t=e.trailWidth);var n=50-t/2;return s.render(this._pathTemplate,{radius:n,"2radius":2*n})},a.prototype._trailString=function(e){return this._pathString(e)},t.exports=a},{"./shape":7,"./utils":9}],3:[function(e,t,n){var i=e("./shape"),s=e("./utils"),a=function(e,t){this._pathTemplate="M 0,{center} L 100,{center}",i.apply(this,arguments)};a.prototype=new i,a.prototype.constructor=a,a.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 "+t.strokeWidth),e.setAttribute("preserveAspectRatio","none")},a.prototype._pathString=function(e){return s.render(this._pathTemplate,{center:e.strokeWidth/2})},a.prototype._trailString=function(e){return this._pathString(e)},t.exports=a},{"./shape":7,"./utils":9}],4:[function(e,t,n){t.exports={Line:e("./line"),Circle:e("./circle"),SemiCircle:e("./semicircle"),Square:e("./square"),Path:e("./path"),Shape:e("./shape"),utils:e("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(e,t,n){var i=e("shifty"),s=e("./utils"),a={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},o=function r(e,t){if(!(this instanceof r))throw new Error("Constructor was called without new keyword");t=s.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t);var n;n=s.isString(e)?document.querySelector(e):e,this.path=n,this._opts=t,this._tweenable=null;var i=this.path.getTotalLength();this.path.style.strokeDasharray=i+" "+i,this.set(0)};o.prototype.value=function(){var e=this._getComputedDashOffset(),t=this.path.getTotalLength(),n=1-e/t;return parseFloat(n.toFixed(6),10)},o.prototype.set=function(e){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(e);var t=this._opts.step;if(s.isFunction(t)){var n=this._easing(this._opts.easing),i=this._calculateTo(e,n),a=this._opts.shape||this;t(i,a,this._opts.attachment)}},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(e,t,n){t=t||{},s.isFunction(t)&&(n=t,t={});var a=s.extend({},t),o=s.extend({},this._opts);t=s.extend(o,t);var r=this._easing(t.easing),l=this._resolveFromAndTo(e,r,a);this.stop(),this.path.getBoundingClientRect();var c=this._getComputedDashOffset(),d=this._progressToOffset(e),u=this;this._tweenable=new i,this._tweenable.tween({from:s.extend({offset:c},l.from),to:s.extend({offset:d},l.to),duration:t.duration,easing:r,step:function(e){u.path.style.strokeDashoffset=e.offset;var n=t.shape||u;t.step(e,n,t.attachment)},finish:function(e){s.isFunction(n)&&n()}})},o.prototype._getComputedDashOffset=function(){var e=window.getComputedStyle(this.path,null);return parseFloat(e.getPropertyValue("stroke-dashoffset"),10)},o.prototype._progressToOffset=function(e){var t=this.path.getTotalLength();return t-e*t},o.prototype._resolveFromAndTo=function(e,t,n){return n.from&&n.to?{from:n.from,to:n.to}:{from:this._calculateFrom(t),to:this._calculateTo(e,t)}},o.prototype._calculateFrom=function(e){return i.interpolate(this._opts.from,this._opts.to,this.value(),e)},o.prototype._calculateTo=function(e,t){return i.interpolate(this._opts.from,this._opts.to,e,t)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},o.prototype._easing=function(e){return a.hasOwnProperty(e)?a[e]:e},t.exports=o},{"./utils":9,shifty:1}],6:[function(e,t,n){var i=e("./shape"),s=e("./circle"),a=e("./utils"),o=function(e,t){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,i.apply(this,arguments)};o.prototype=new i,o.prototype.constructor=o,o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(e,t,n){e.text.style&&(n.style.top="auto",n.style.bottom="0",e.text.alignToBottom?a.setStyle(n,"transform","translate(-50%, 0)"):a.setStyle(n,"transform","translate(-50%, 50%)"))},o.prototype._pathString=s.prototype._pathString,o.prototype._trailString=s.prototype._trailString,t.exports=o},{"./circle":2,"./shape":7,"./utils":9}],7:[function(e,t,n){var i=e("./path"),s=e("./utils"),a="Object is destroyed",o=function r(e,t){if(!(this instanceof r))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=s.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},t,!0),s.isObject(t)&&void 0!==t.svgStyle&&(this._opts.svgStyle=t.svgStyle),s.isObject(t)&&s.isObject(t.text)&&void 0!==t.text.style&&(this._opts.text.style=t.text.style);var n,a=this._createSvgView(this._opts);if(n=s.isString(e)?document.querySelector(e):e,!n)throw new Error("Container does not exist: "+e);this._container=n,this._container.appendChild(a.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&s.setStyles(a.svg,this._opts.svgStyle),this.svg=a.svg,this.path=a.path,this.trail=a.trail,this.text=null;var o=s.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new i(a.path,o),s.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}};o.prototype.animate=function(e,t,n){if(null===this._progressPath)throw new Error(a);this._progressPath.animate(e,t,n)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(a);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(a);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,this._progressPath=null,null!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(e){if(null===this._progressPath)throw new Error(a);this._progressPath.set(e)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(a);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(e){if(null===this._progressPath)throw new Error(a);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),s.isObject(e)?(s.removeChildren(this.text),this.text.appendChild(e)):this.text.innerHTML=e},o.prototype._createSvgView=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(t,e);var n=null;(e.trailColor||e.trailWidth)&&(n=this._createTrail(e),t.appendChild(n));var i=this._createPath(e);return t.appendChild(i),{svg:t,path:i,trail:n}},o.prototype._initializeSvg=function(e,t){e.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(e){var t=this._pathString(e);return this._createPathElement(t,e)},o.prototype._createTrail=function(e){var t=this._trailString(e),n=s.extend({},e);return n.trailColor||(n.trailColor="#eee"),n.trailWidth||(n.trailWidth=n.strokeWidth),n.color=n.trailColor,n.strokeWidth=n.trailWidth,n.fill=null,this._createPathElement(t,n)},o.prototype._createPathElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n.setAttribute("stroke",t.color),n.setAttribute("stroke-width",t.strokeWidth),t.fill?n.setAttribute("fill",t.fill):n.setAttribute("fill-opacity","0"),n},o.prototype._createTextContainer=function(e,t){var n=document.createElement("div");n.className=e.text.className;var i=e.text.style;return i&&(e.text.autoStyleContainer&&(t.style.position="relative"),s.setStyles(n,i),i.color||(n.style.color=e.color)),this._initializeTextContainer(e,t,n),n},o.prototype._initializeTextContainer=function(e,t,n){},o.prototype._pathString=function(e){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(e){throw new Error("Override this function for each progress bar")},o.prototype._warnContainerAspectRatio=function(e){if(this.containerAspectRatio){var t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("width"),10),i=parseFloat(t.getPropertyValue("height"),10);s.floatEquals(this.containerAspectRatio,n/i)||(console.warn("Incorrect aspect ratio of container","#"+e.id,"detected:",t.getPropertyValue("width")+"(width)","/",t.getPropertyValue("height")+"(height)","=",n/i),console.warn("Aspect ratio of should be",this.containerAspectRatio))}},t.exports=o},{"./path":5,"./utils":9}],8:[function(e,t,n){var i=e("./shape"),s=e("./utils"),a=function(e,t){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",i.apply(this,arguments)};a.prototype=new i,a.prototype.constructor=a,a.prototype._pathString=function(e){var t=100-e.strokeWidth/2;return s.render(this._pathTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2})},a.prototype._trailString=function(e){var t=100-e.strokeWidth/2;return s.render(this._trailTemplate,{width:t,strokeWidth:e.strokeWidth,halfOfStrokeWidth:e.strokeWidth/2,startMargin:e.strokeWidth/2-e.trailWidth/2})},t.exports=a},{"./shape":7,"./utils":9}],9:[function(e,t,n){function i(e,t,n){e=e||{},t=t||{},n=n||!1;for(var s in t)if(t.hasOwnProperty(s)){var a=e[s],o=t[s];n&&u(a)&&u(o)?e[s]=i(a,o,n):e[s]=o}return e}function s(e,t){var n=e;for(var i in t)if(t.hasOwnProperty(i)){var s=t[i],a="\\{"+i+"\\}",o=new RegExp(a,"g");n=n.replace(o,s)}return n}function a(e,t,n){for(var i=e.style,s=0;s<g.length;++s){var a=g[s];i[a+r(t)]=n}i[t]=n}function o(e,t){p(t,function(t,n){null!==t&&void 0!==t&&(u(t)&&t.prefix===!0?a(e,n,t.value):e.style[n]=t)})}function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e){return"string"==typeof e||e instanceof String}function c(e){return"function"==typeof e}function d(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){if(d(e))return!1;var t=typeof e;return"object"===t&&!!e}function p(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];t(i,n)}}function h(e,t){return Math.abs(e-t)<m}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild)}var g="Webkit Moz O ms".split(" "),m=.001;t.exports={extend:i,render:s,setStyle:a,setStyles:o,capitalize:r,isString:l,isFunction:c,isObject:u,forEachObject:p,floatEquals:h,removeChildren:f}},{}]},{},[4])(4)});var module=angular.module("ngRateIt",["ng"]);module.directive("ngRateIt",["$q",function(e){"use strict";var t=function(t,n,i){i.readOnly||(t.readOnly=function(){return!1}),i.resetable||(t.resetable=function(){return!0}),i.beforeRated||(t.beforeRated=function(){var t=e.defer();return t.resolve(),t.promise}),i.rated||(t.rated=function(){}),i.beforeReset||(t.beforeReset=function(){var t=e.defer();return t.resolve(),t.promise}),i.reset||(t.reset=function(){}),i.over||(t.over=function(){})};return{scope:{ngModel:"=",min:"=?min",max:"=?max",step:"=?step",readOnly:"&?readOnly",pristine:"=?pristine",resetable:"&?resetable",starWidth:"=?starWidth",starHeight:"=?starHeight",rated:"=?rated",reset:"=?reset",over:"=?over",beforeRated:"=?beforeRated",beforeReset:"=?beforeReset"},templateUrl:"ngRateIt/ng-rate-it.html",require:"ngModel",replace:!0,link:t,controller:"ngRateItController"}}]).controller("ngRateItController",["$scope","$timeout",function(e,t){"use strict";e.isHovering=!1,e.offsetLeft=0,e.orgValue=angular.copy(e.ngModel),e.hoverValue=0,e.min=e.min||0,e.max=e.max||5,e.step=e.step||.5,e.pristine=e.orgValue===e.ngModel,e.starWidth=e.starWidth||16,e.starHeight=e.starHeight||16,e.resetCssOffset=4;var n=e.$watch("ngModel",function(){e.pristine=e.orgValue===e.ngModel});e.removeRating=function(){e.resetable()&&!e.readOnly()&&e.beforeReset().then(function(){e.ngModel=e.min,e.reset()})},e.setValue=function(){if(e.isHovering&&!e.readOnly()){var n=angular.copy(e.min+e.hoverValue);e.beforeRated(n).then(function(){e.ngModel=n,e.isHovering=!1,t(function(){e.rated()})})}},e.onEnter=function(t){e.isHovering=!0,e.offsetLeft=0;var n=t.originalTarget||t.srcElement||t.target;e.offsetLeft=n.getBoundingClientRect().left},e.onHover=function(t){e.isHovering=!0,e.hoverValue=Math.round((t.clientX-e.offsetLeft)/e.starWidth/e.step)*e.step,e.over(t,e.hoverValue)},e.onLeave=function(){e.isHovering=!1,e.hoverValue=0},e.$on("$destroy",function(){n()})}]).run(["$templateCache",function(e){"use strict";e.put("ngRateIt/ng-rate-it.html",'<div class="ngrateit" ng-class="{\'ngrateit-readonly\': readOnly()}"><a class="ngrateit-background ngrateit-reset" ng-mouseenter="resetCssOffset=5;" ng-mouseleave="resetCssOffset=4;" ng-if="!readOnly() && resetable()" ng-click="removeRating()" ng-style="{\'width\': starWidth+\'px\', \'height\': starHeight+\'px\', \'background-position\': \'0 \'+(-resetCssOffset*starHeight)+\'px\'}"></a><div class="ngrateit-star_wrapper" ng-click="setValue()" ng-mouseenter="onEnter($event)" ng-mousemove="onHover($event)" ng-mouseleave="onLeave();" ng-style="{\'width\': ((max-min)*starWidth)+\'px\', \'height\': starHeight+\'px\'}"><div class="ngrateit-background"></div>'+"<div class=\"ngrateit-value\" ng-hide=\"!readOnly() && hoverValue>0 && hoverValue!==(ngModel-min)\" ng-style=\"{'width': (ngModel-min)*starWidth+'px', 'background-position': '0 '+(-2*starHeight)+'px'}\"></div><div class=\"ngrateit-hover\" ng-if=\"!readOnly() && hoverValue!==(ngModel-min)\" ng-style=\"{'width': hoverValue*starWidth+'px', 'background-position': '0 '+(-3*starHeight)+'px'}\" ></div></div></div>");
}]),angular.module("templates",[]).run(["$templateCache",function(e){e.put("/app/user/ngApp/templates/layouts/footer.html",'<footer class="top-footer">\n    <div class="container">\n    <div class="mobile-icon hide-mobile">\n        <img src="/app/user/assets/img/footer/mobile_app.png" class="img-responsive " alt="chilivery.com"/>\n    </div>\n    <div class="application-dl-icons have-margin-top hide-mobile">\n        <a href="https://itunes.apple.com/us/app/%DA%86%DB%8C%D9%84%DB%8C%D9%88%D8%B1%DB%8C-%D8%B3%D9%81%D8%A7%D8%B1%D8%B4-%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86-%D8%BA%D8%B0%D8%A7/id1122013222?mt=8"\n            target="_blank">\n            <img class=" appstore cursor-pointer" src="/app/user/assets/img/footer/appstore.png" />\n        </a>\n        <a href="https://new.sibapp.com/applications/chilivery"\n            target="_blank">\n            <img class=" appstore cursor-pointer" src="/app/user/assets/img/footer/sibapp.png" />\n        </a>\n        <a href="https://play.google.com/store/apps/details?id=com.chilivery&hl=enu[f" target="_blank">\n            <img class="googleplay cursor-pointer" src="/app/user/assets/img/footer/googleplay.png" />\n        </a>\n        <a href="https://cafebazaar.ir/app/com.chilivery/?clickId=20170604172443245470604305743188A211A102A108&_branch_match_id=399896464724795354&l=fa"\n            target="_blank">\n            <img class="bazaar cursor-pointer" src="/app/user/assets/img/footer/cafebazar.png" />\n        </a>\n    </div>\n    <div class="social-icons have-margin-top">\n            <a class="telegram social-icon  social-icon-general  cursor-pointer" href="https://telegram.me/mychilivery">\n                <i class="icon icon-telegram"></i>\n            </a>\n            <a class="twitter social-icon  social-icon-general  cursor-pointer" href="https://twitter.com/mychilivery">\n                <i class="icon icon-twitter"></i>\n            </a>\n            <a class="facebook social-icon  social-icon-general  cursor-pointer" href="https://www.facebook.com/mychilivery">\n                <i class="icon icon-facebook"></i>\n            </a>\n            <a class="instagram social-icon  social-icon-general  cursor-pointer" href="http://instagram.com/mychilivery">\n                <i class="icon icon-instagram"></i>\n                <!-- <div class="background-motion"></div> -->\n            </a>\n            <a class="aparat social-icon  social-icon-general  cursor-pointer" href="https://www.aparat.com/mychilivery/%DA%86%DB%8C%D9%84%DB%8C%D9%88%D8%B1%DB%8C_-_%D8%B3%D9%81%D8%A7%D8%B1%D8%B4_%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86_%D8%BA%D8%B0%D8%A7">\n                <i class="icon icon-aparat"></i>\n            </a>\n            <a class="linkedin social-icon social-icon-general cursor-pointer" href="https://www.linkedin.com/company/chilivery">\n                <i class="icon icon-linkedin"></i>\n            </a>\n\n\n\n\n        </div>\n    </div>\n</footer>\n<footer class="middle-footer">\n    <div class="container">\n        <div class="list-top row mobile-list-footer">\n            <div class="text-center">\n                <div class="social-icons have-margin-top show-tablet-mobile-inline hide-mobile background-light-gray ">\n\n                    <a class="telegram social-icon social-icon-general cursor-pointer" href="https://telegram.me/mychilivery">\n                        <i class="icon icon-telegram"></i>\n                    </a>\n                    <a class="twitter social-icon social-icon-general cursor-pointer" href="https://twitter.com/mychilivery">\n                        <i class="icon icon-twitter"></i>\n                    </a>\n                    <a class="facebook social-icon social-icon-general cursor-pointer" href="https://www.facebook.com/mychilivery">\n                        <i class="icon icon-facebook"></i>\n                    </a>\n                    <a class="instagram social-icon social-icon-general cursor-pointer" href="http://instagram.com/mychilivery">\n                        <i class="icon icon-instagram"></i>\n                    </a>\n\n                    <a class="aparat social-icon  social-icon-general  cursor-pointer" href="https://www.aparat.com/mychilivery/%DA%86%DB%8C%D9%84%DB%8C%D9%88%D8%B1%DB%8C_-_%D8%B3%D9%81%D8%A7%D8%B1%D8%B4_%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86_%D8%BA%D8%B0%D8%A7">\n                        <i class="icon icon-aparat"></i>\n                    </a>\n\n                    <a class="linkedin social-icon cursor-pointer social-icon-general" href="https://www.linkedin.com/company/chilivery">\n                        <i class="icon icon-linkedin"></i>\n                    </a>\n                </div>\n                <div class="border-top-1px-gray social-icons-border show-tablet-mobile-block hide-mobile"></div>\n            </div>\n            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-4 pull-right child-footer">\n                <div class="list-1">\n                    <div class="list-title">\n                        <h2></h2>\n                    </div>\n                    <ul class="footer-list">\n                        <a href="https://blog.chilivery.com/"> <li> </li></a>\n                        <a href="https://chilivery.com/static/about-chilivery"> <li> </li></a>\n                        <a href="https://chilivery.com/static/law"> <li>  </li></a>\n                        <a href="https://chilivery.com/static/privacy"> <li> </li></a>\n                    </ul>\n                </div>\n            </div>\n            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-4 pull-right child-footer">\n                <div class="list-2">\n                    <div class="list-title">\n                        <h2>  </h2>\n                    </div>\n                    <ul class="footer-list">\n                        <a href="https://chilivery.com/contactsus"> <li>  </li></a>\n                        <a href="https://chilivery.com/cooperation"><li> </li></a>\n                        <a href="https://chilivery.com/static/opportunity"><li> </li></a>\n                    </ul>\n                </div>\n            </div>\n            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-4 pull-right child-footer">\n                <div class="list-3">\n                    <div class="list-title">\n                        <h2> </h2>\n                    </div>\n                    <ul class="footer-list">\n                        <a href="https://chilivery.com/static/purchase-guide"><li> </li></a>\n                        <a href="https://chilivery.com/static/payment-guide"><li>  </li></a>\n                        <a href="https://chilivery.com/static/faq"><li> </li></a>\n                    </ul>\n                </div>\n            </div>\n            <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12 pull-right">\n                <div class="awards-and-enamd clearfix pull-left">\n                    <div class="web-award cursor-pointer inline-block-div-center hide-mobile">\n                        <img src="/app/user/assets/img/footer/award.png" class="img-responsive inline-block-div-center"/>\n                        <p class="award-name-mobile">\n                                    95\n                        </p>\n                        <div class="tooltip-award">\n                            <div class="tooltip-award-inner">\n                            <span>\n                                        95\n                            </span>\n                                <div class="arrow-down awarad-arrow-down"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <div class="list-bottom row hide-mobile">\n        <div class="logos">\n            <div class="chili-logo pull-right">\n                <img src="/app/user/assets/img/footer/chilivery.png">\n            </div>\n            <div class="other-site-logos pull-right">\n                <div class="imbco-logos">\n                    <div class="tooltip-container">\n                        <a href="http://netbarg.com" target="_blank"><img src="/app/user/assets/img/footer/netbarg.png" class="img-responsive low-opacity-to-full-opacity cursor-pointer"></a>\n                        <div class="tooltip-bg tooltip-main">\n                            <div class="tooltip-inner">\n                            <span>\n                                 \n                          </span>\n                                <div class="arrow-down tooltip-arrow-down"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="imbco-logos">\n                    <div class="tooltip-container">\n                        <a href="http://tik8.com" target="_blank"><img src="/app/user/assets/img/footer/tik8.png" class="img-responsive low-opacity-to-full-opacity cursor-pointer"></a>\n                        <div class="tooltip-bg tooltip-main">\n                            <div class="tooltip-inner">\n                            <span>\n                                \n                            </span>\n                                <div class="arrow-down tooltip-arrow-down"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            <div class="imbco-logos">\n                <div class="tooltip-container">\n                    <a href="http://saremiz.ir" target="_blank"><img src="/app/user/assets/img/footer/saremiz.png" class="img-responsive low-opacity-to-full-opacity cursor-pointer"></a>\n                <div class="tooltip-bg tooltip-main">\n                        <div class="tooltip-inner">\n                            <span>\n                                \n                            </span>\n                                <div class="arrow-down tooltip-arrow-down"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="imbco-logos">\n                    <div class="tooltip-container">\n                        <a href="http://drdr.ir/" target="_blank"><img src="/app/user/assets/img/footer/doctor_doctor.png" class="img-responsive low-opacity-to-full-opacity cursor-pointer"></a>\n                        <div class="tooltip-bg tooltip-main">\n                            <div class="tooltip-inner">\n                                <span>\n                                     \n                                </span>\n                                <div class="arrow-down tooltip-arrow-down"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n    <div class="site-desc hide-mobile">\n        <p>\n                                  \n                3000     .              \n                  .                \n                                    \n                        .           \n                   !              \n                  20            2    .\n\n        </p>\n        <p>     "     !"  </p>\n    </div>\n\n        <div class="list-top row mobile-list-footer-left show-mobile-only">\n            <h2 class="dl-app"> </h2>\n            <div class="application-dl-icons have-margin-top">\n                    <a href="https://cafebazaar.ir/app/com.chilivery/?clickId=20170604172443245470604305743188A211A102A108&_branch_match_id=399896464724795354&l=fa" target="_blank">\n                        <img class="img-responsive bazaar cursor-pointer" src="/app/user/assets/img/footer/cafebazar.png" />\n                    </a>\n                    <a href="https://play.google.com/store/apps/details?id=com.chilivery&hl=enu[f" target="_blank">\n                        <img class="img-responsive googleplay cursor-pointer" src="/app/user/assets/img/footer/googleplay.png" />\n                    </a>\n                    <a href="https://itunes.apple.com/us/app/%DA%86%DB%8C%D9%84%DB%8C%D9%88%D8%B1%DB%8C-%D8%B3%D9%81%D8%A7%D8%B1%D8%B4-%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86-%D8%BA%D8%B0%D8%A7/id1122013222?mt=8" target="_blank">\n                        <img class="img-responsive appstore cursor-pointer" src="/app/user/assets/img/footer/appstore.png" />\n                    </a>\n                    <a href="https://new.sibapp.com/applications/chilivery" target="_blank">\n                        <img class="img-responsive appstore cursor-pointer" src="/app/user/assets/img/footer/sibapp.png" />\n                    </a>\n            </div>\n    </div>\n    </div>\n</footer>\n<footer class="bottom-footer">\n    <div class="footer-bottom-img"></div>\n</footer>\n<footer class="copyright-footer row text-center">\n    <div class="container">\n        <div class="col-md-6 pull-right no-padding no-float-mobile">\n            <div class="contact-info-footer">\n                <span class="phone-num"> -  </span>\n                <span class="seperator"> | </span>\n                <span class="phone-num">  -  </span>\n                <i class="icon icon-phone call-us"></i>\n\n            </div>\n        </div>\n        <div class="col-md-6 pull-right no-float-mobile">\n            <div class="copyright-info">\n                <p>            \n                    <span class="color-red-1"></span>\n                    .\n                    |\n                    1397\n                    \n                </p>\n            </div>\n        </div>\n    </div>\n</footer>\n'),e.put("/app/user/ngApp/templates/layouts/header.layout.html",'<nav>\n  <div class="mainnav navbar {{getHeaderTopAffixClass()}} navbar-fixed-top affix-top" affix affix-top="60">\n    <div class="container">\n      <div class="navbar-header">\n        <button data-toggle="collapse" data-target="#collapse-main-nav" aria-expanded="false" class="navbar-toggle collapsed">\n          <spna class="src-only"></spna><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>\n        </button><a href="#" class="navbar-brand" style="display: none;"><img src="app/user/assets/img/base/logo.png"></a>\n      </div>\n      <div id="collapse-main-nav" class="collapse navbar-collapse">\n        <ul class="nav navbar-nav navbar-right register">\n          <li><a class="head-shopping"><span class="num"></span><i class="icon icon-basket2"></i></a></li>\n          <li class="dropdown login-dropdown toggle-arrow"><a href="#" data-toggle="dropdown" class="dropdown-toggle"><img src="app/user/assets/img/img-ico/avatar.png" class="avatar img-rounded"><span class="avatar-info">\n                    <p class="name">\t</p>\n                    <p class="credit"> :  </p></span><span class="toggle-arrow-target icon icon-arrow-down pull-left"></span></a>\n            <ul class="dropdown-menu list-unstyled list-nopadd">\n              <li> <a href="#"> <i class="icon icon-user"></i>  </a></li>\n              <li><a href="#"><i class="icon icon-bag2"></i>  </a></li>\n              <li> <a href="#"><i class="icon icon-wallet"></i> </a></li>\n              <li> <a href="#"><i class="icon icon-card"></i>&zwnj; </a></li>\n              <li> <a href="#"><i class="icon icon-card"></i></a></li>\n              <li> <a href="#"><i class="icon icon-exit"></i></a></li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</nav>'),e.put("/app/user/ngApp/templates/layouts/master.layout.html",'<!--<span ng-controller="mapModal">\n  <div class="map-overlay" ng-show="openMapContainer"></div>\n  <div class="map-container" ng-class="{\'open\' : openMapContainer}">\n    <div class="header-section">\n      <p class="truncate text-right">\n        <i class="icon icon-information"></i>\n                    \n      </p>\n    </div>\n    <div class="close-btn" ng-click="closeMap()">\n      <i class="icon icon-cancel"></i>\n    </div>\n    <div id="map"></div>\n    <div class="footer-section clearfix">\n      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-right"><p class="text-right">{{ resCount | faText }} \n            .</p></div>\n      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">\n        <button class="btn btn-default-sm pull-left" ng-class="checkCanDeliver(\'class\')" ng-click="showRestaurantList()"\n                ng-disabled="isDisabled"><span ng-if="!checkCanDeliver(\'view\')"> </span> <span\n            ng-if="checkCanDeliver(\'view\')"> </span></button>\n      </div>\n      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><p class="text-right"\n                                                              ng-if="!otherPage() && !checkCanDeliver(\'view\')">\n                      .</p></div>\n    </div>\n  </div>\n</span>-->\n<header-options></header-options>\n<toaster-container toaster-options="{\'position-class\': \'toast-top-right\', \'close-button\':true}"></toaster-container>\n<socket></socket> \n<span ui-view layout="column" class="fade-in-right-big smooth layout-div"></span> \n<!--<subscriber></subscriber>-->\n<div ng-include="\'/app/user/ngApp/templates/layouts/footer.html\'"></div>\n\n<update-title ng-if="title" title="{{title}}"></update-title>\n<update-meta ng-if="title" property="og:title" content="{{title}}"></update-meta>\n<update-meta ng-if="description" name="description" content="{{description}}"></update-meta>\n<update-meta ng-if="keywords" name="keywords" content="{{keywords}}"></update-meta>\n<update-meta ng-if="description" property="og:description" content="{{description}}"></update-meta>\n<update-meta ng-if="url" property="og:url" content="{{url}}"></update-meta>\n<update-meta ng-if="image" property="og:image" content="{{image}}"></update-meta>\n<update-meta ng-if="description" name="twitter:description" content="{{description}}"></update-meta>\n<update-meta ng-if="title" name="twitter:title" content="{{title}}"></update-meta>\n<update-meta ng-if="image" name="twitter:image" content="{{image}}"></update-meta>\n<update-script ng-if="structuredData" content="structuredData" type="application/ld+json"></update-script>'),e.put("/app/user/ngApp/templates/views/basket/mobileBasket.html",'<div>\n    <!-- mobileBasket -->\n      <div id="basket-mobile" class="sidebar-shoppingcart" ng-class="{\'deactive\': !(basketService.basket.totalCount > 0 ) || !restaurant.isOpen, \'visible\': visible}">\n        <div class="header clearfix">\n          \n          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">\n\n              <div class="close-basket" ng-click="closeBasket()">\n                  <i class="icon icon-cancel"></i>\n              </div>\n              <span class="text"> </span>\n              \n              <span class="shopping-icon">\n                <span class="num ng-binding"> {{basketService.basket.totalCount }} </span>\n                <i class="icon icon-basket2"></i> </span>\n            </div>\n        </div>\n        <div class="shoppingcart-control clearfix">\n            <div class="empty-basket" ng-hide="basketService.basket.totalCount > 0">\n                <div class="img"></div>\n                <p>    </p>\n              </div>\n          <div class="basket-items-mobile" id="scroller">\n            <div class="col-md-12 order-item" ng-repeat="(foodId, item) in basketService.basket.items" ng-show="restaurant.isOpen">\n              <div class="trapScroll">\n                <div class="shoppingcart-item">\n                  <div class="item-header">\n                    <span class="name truncate">{{restaurant.foods[item.orderItemFoodId].name}} </span>\n                    <a ng-click="basketService.cancelItem(foodId,$event)">\n                      <i class="icon icon-cancel"></i> </a>\n                  </div>\n                  <div class="item-details">\n                    <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                      <p class="truncate">\n                        {{restaurant.foods[item.orderItemFoodId].price | number | persian}}  </p>\n                    </span> <span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x controls">\n                    <span class="minus" ng-click="basketService.removeFromBasket(foodId, restaurant.foods[item.orderItemFoodId].price)">\n                      <i class="icon icon-minus" ng-hide="basketService.inWait[foodId]"></i>\n                      <div ng-show="basketService.inWait[foodId]">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </span><span class="num">{{item.itemCount | persian}}</span>\n                    <span class="plus basket-plus" ng-click="basketService.addToBasket(foodId, restaurant.foods[item.orderItemFoodId].price)">\n                      <i class="icon icon-plus " ng-hide="basketService.inWait[foodId]"></i>\n                      <div ng-show="basketService.inWait[foodId]">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </span> </span>\n                  </div>\n              </div>\n            </div>\n            </div>\n          </div>\n          <div class="col-md-12 static-div">\n            <div class="additions">\n              <div class="basket-mobile-order-info">\n                  <div class="fill-basket">\n                    <div ng-show="(basketService.basket.totalPrice < restaurant.restaurantMinPriceSendLimit) && (basketService.basket.deliveryType == false)" class="minimum-order">\n                        : {{restaurant.restaurantMinPriceSendLimit | number | persian }}  \n                      <span class="minimum-user-order">\n                        | \n                        : {{ basketService.basket.totalPrice | number | persian }} \n                      </span>\n                    </div>\n                      \n                    <div class="delivery-price clearfix" ng-hide="basketService.basket.deliveryZonePrice == 0">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate"> {{basketService.basket.deliveryZonePrice | number | persian }}  </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate"> :</span>\n                      </div>\n                    </div>\n                    <div class="delivery-price clearfix" ng-hide="basketService.basket.restaurantPackagingPrice == 0">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate"> {{basketService.basket.restaurantPackagingPrice | number | persian }}  </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate">  :</span>\n                      </div>\n                    </div>\n                    <div class="tax-price clearfix" ng-hide="basketService.basket.vat == 0">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate">{{basketService.basket.vat | number | persian }} </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate">  :</span>\n                      </div>\n                    </div>\n                    \n                  </div>\n                  <div class="deliver-system clearfix" ng-show="restaurant.isOpen">\n                    <p class="text">  :</p>\n                    <div class="system-select clearfix">\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-3 nopadding-x">\n                        <span class="before" ng-class="{false:\'checked\'}[basketService.basket.deliveryType]">  </span>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-2 nopadding-x">\n                        <label>\n                          <input ng-model="basketService.basket.deliveryType" ng-change="basketService.toggleDeliveryType()" type="checkbox" class="ios-switch" ng-disabled="basketService.deliveryDisabled">\n                          <span class="circle"></span> </label>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <span class="after" ng-class="{true:\'checked\'}[basketService.basket.deliveryType]">   </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                \n                \n                  <!-- <p class="open-hours" ng-show=" (\n                    !restaurant.isOpen\n                      )">\n                        : \n                      <span> {{restaurant.todayTime.timeStartMorning |faText}}  </span>\n                      <span> </span>\n                      <span> {{restaurant.todayTime.timeEndMorning |faText}} </span>\n                      \n                      <span> | </span>\n                      <span> {{restaurant.todayTime.timeStartNoon |faText}}  </span>\n                      <span> </span>\n                      <span>{{restaurant.todayTime.timeEndNoon |faText}}  </span>\n                    </p> -->\n  \n            <div ng-show="\n              (\n                restaurant.isOpen\n                && !isEmptyObject(basketService.basket.items)\n              )\n              && checkMinPrice(basketService.basket.deliveryType, basketService.basket.totalPrice,  restaurant.restaurantMinPriceSendLimit)\n              && !basketService.basket.disable\n            "\n            ng-click="basketService.saveBasketData({name: \'app.pay\'}, true)"\n            class="btn btn-default-md btn-green addToBasketBtn confirm-order">\n              | {{ basketService.basket.totalPrice | number | persian }}  \n            <i class="icon icon-arrow-left"></i>\n            <div ng-show="basketService.basket.spinnerShow">\n              <spinner-loader></spinner-loader>\n            </div>\n        </div>\n        <div ng-click="closeBasket()"\n            class="btn btn-default-md btn-green addToBasketBtn cancel-order">\n            <i class="icon icon-arrow-right"></i>\n            \n            <div ng-show="basketService.basket.spinnerShow">\n              <spinner-loader></spinner-loader>\n            </div>\n      </div>\n        <div\n          ng-show=\n              "\n            (\n                !restaurant.isOpen          ||\n                !checkMinPrice(basketService.basket.deliveryType, basketService.basket.totalPrice,  restaurant.restaurantMinPriceSendLimit) ||\n                isEmptyObject(basketService.basket.items) ||\n                basketService.basket.disable\n            )\n            " class="btn btn-default-md btn-disabled addToBasketBtn confirm-order">  \n          </div>\n        </div>\n      </div>\n    </div>\n    \n     </div>\n      <!-- end of mobile Basket -->\n    </div>\n  '),e.put("/app/user/ngApp/templates/views/contactsus/contactsus.html",'<div ng-controller="contactsusController">\n  <div class="section-margin-top"></div>\n  <div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n    <div class="splash contactus"></div>\n  </div>\n  <div class="container contactform general-setting">\n    <div class="col-lg-12 nopadding-x">\n      <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n        <h1>  </h1>\n        <div class="col-xs-12 col-lg-6">\n          <div class="static-content-box contact-form" ng-if="!NotsendText">\n            <p> </p>\n            <form name="contactForm">\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="textMessage.contactTitle" type="text" placeholder="  "\n                       class="form-control default-input singleline-input"><span\n                  class="form-icon icon icon-avatar"></span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="textMessage.contactEmail"\n                       type="email" placeholder=""\n                       class="form-control default-input singleline-input"\n                       name="mail"\n                ><span class="form-icon icon icon-email"></span>\n                <span ng-show="contactForm.mail.$error.pattern && isBlur" style="color:red ; font-size: 0.6em"> \n                       </span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="textMessage.contactPhone"\n                       type="text"\n                       placeholder=""\n                       ng-blur="checkPhoneBlur(textMessage.contactPhone)"\n                       name="phone"\n                       class="form-control default-input singleline-input"><span\n                  class="form-icon icon icon-avatar"></span>\n                <span ng-show="isShowError" class="err-text">         </span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <select ng-model="textMessage.contactType" class="form-control default-input singleline-input ">\n                  <option value="1"> </option>\n                  <option value="2"> </option>\n                  <option value="3"> </option>\n                  <option value="4"> </option>\n                </select>\n              </div>\n              <textarea ng-model="textMessage.contactText" placeholder="    "\n                        class="uikit"></textarea>\n              <button ng-click="saveText()" class="btn btn-blue btn-default-xs"> </button>\n            </form>\n          </div>\n          <div class="static-content-box contact-form" ng-if="NotsendText">\n                 \n          </div>\n        </div>\n        <div class="col-xs-12 col-lg-6">\n          <div class="static-content-box ctabout">\n            <div class="title-bar-3">\n              <i class="form-icon icon icon-avatar"></i>\n              <p> </p><span>-</span> <span></span> <span>-</span>\n            </div>\n            <div class="title-bar-3">\n              <i class="form-icon icon icon-email"></i>\n              <p>  </p><span>cs@chilivery.com</span>\n            </div>\n            <div class="title-bar-3">\n              <i class="form-icon icon icon-pin-2"></i>\n              <p> </p><span>    ()      12   3</span>\n            </div>\n            <div class="title-bar-3">\n              <i class="form-icon icon icon-avatar"></i>\n              <p>  </p>\n              <ul class="list-unstyled list-inline social-links">\n                <li><a href="https://telegram.me/mychilivery">\n                  <i class="icon icon-telegram-kham"></i>\n                </a></li>\n                <li><a href="https://twitter.com/mychilivery">\n                  <i class="icon icon-twitter-kham"></i>\n                </a></li>\n                <li><a href="https://www.facebook.com/mychilivery">\n                  <i class="icon icon-facebook"></i>\n                </a></li>\n                <li><a href="http://instagram.com/mychilivery">\n                  <i class="icon icon-instagram"></i>\n                </a></li>\n                <li><a href="https://www.linkedin.com/company/chilivery">\n                  <i class="icon icon-linkedin"></i>\n                </a></li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12">\n          <div class="static-content-box map-box general-padding">\n            <h3 class="general-title">  </h3>\n            <div class="google-maps">\n              <iframe\n                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1145.123319176969!2d51.41705433644568!3d35.728730505290756!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzXCsDQzJzQzLjYiTiA1McKwMjQnNTguNiJF!5e0!3m2!1sar!2seg!4v1463222630093"\n                  width="860" height="240" frameborder="0" style="border:0" allowfullscreen></iframe>\n            </div>\n          </div>\n        </div>\n        <div class="col-xs-12">\n          <div class="static-content-box enteghad general-padding">\n            <h3 class="general-title">  </h3><span>     \n                  .            \n              . </span><span>    .</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/errorpage/404.html",'<div class="container">\n  <div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n    <!--.splash.p404-->\n  </div>\n  <div class="p404 general-setting">\n    <div class="bg-404-char"></div>\n    <div class="container">\n      <div class="col-lg-12 nopadding-x">\n        <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n          <div class="col-xs-12 col-lg-12 nopadding-x">\n            <div class="static-404">\n              <h3 class="general-title">      </h3>\n              <a ui-sref="app.homepage" title="title" class="pay-btn btn btn-default-sm btn-green">\n                   </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/cooperation/cooperation.html",'<div class="container co-operate" ng-controller="cooperationController">\n  <div class="row">\n    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-right">\n      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 box-gn nopadding-x height static-content-box">\n        <div class="col-lg-10 col-lg-offset-1 newheight">\n          <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="signuplogo"><img src="app/user/assets/img/bg/logosignup.png">\n              <p>   </p>\n            </div>\n          </div>\n          <div class="col-xs-12">\n            <form novalidate name="cooperationForm" class="signinform">\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="restaurantInformation.cooperationName" ng-change="changeHeight()" type="text" name="name" id="name" placeholder=" "\n                       class="form-control default-input singleline-input" required>\n                <span class="form-icon icon icon-restaurant-name"></span>\n              </div>\n              <div ng-if="cooperationForm.name.$error.required && tried || cooperationForm.name.$invalid && cooperationForm.name.$touched"\n                    class="err-text"\n                   ng-init="changeHeight()">\n                <i class="icon icon-bullet"></i>\n                     \n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="restaurantInformation.cooperationCity" type="text" id="city" placeholder=" "\n                       class="form-control default-input singleline-input">\n                <span class="form-icon icon icon-address"></span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="restaurantInformation.cooperationAddress" type="text" id="address" placeholder=""\n                       class="form-control default-input singleline-input">\n                <span class="form-icon icon icon-pin-2"></span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <select ng-change="changeUserType(userSelectedType)"\n                        class="form-control res-type-select" ng-model="userSelectedType" name="userSelectedType" required\n                        ng-class="{\'select-box-have-err\': cooperationForm.userSelectedType.$error.required && tried || cooperationForm.userSelectedType.$error.required && cooperationForm.userSelectedType.$touched}">\n                  <option value="" disabled> </option>\n                  <option ng-repeat="userType in userTypes" value="{{userType.id}}">\n                    {{ userType.text }}\n                  </option>\n                </select>\n              </div>\n              <div class="form-group inner-addon right-inner-addon animate-show animate-hide"  ng-show="managerDisplay">\n                <label class="form-label control-label"></label>\n                <input  ng-model="restaurantInformation.cooperationManager" type="text" id="manager" placeholder=" "\n                       class="form-control default-input singleline-input">\n                <span class="form-icon icon icon-avatar-2"></span>\n              </div>\n              <div class="form-group inner-addon right-inner-addon">\n                <label class="form-label control-label"></label>\n                <input ng-model="restaurantInformation.cooperationTel" numbers-only type="text" ng-change="changeHeight()" name="tel" id="tel" placeholder=""\n                        class="form-control default-input singleline-input"\n                       required>\n                <span class="form-icon icon icon-mobile"></span>\n              </div>\n              <span ng-if="cooperationForm.tel.$error.required && tried || cooperationForm.tel.$error.required && cooperationForm.tel.$touched"\n                    class="err-text"\n                    ng-init="changeHeight()">\n                <i class="icon icon-bullet"></i>\n                     \n              </span>\n              <br ng-show="(cooperationForm.tel.$error.required && tried || cooperationForm.tel.$error.required && cooperationForm.tel.$touched) && (cooperationForm.tel.$invalid && cooperationForm.tel.$dirty && !cooperationForm.tel.$error.required)">\n              <span ng-show="cooperationForm.tel.$invalid && cooperationForm.tel.$dirty && !cooperationForm.tel.$error.required"\n                    class="err-text">\n                <i class="icon icon-bullet"></i>\n                     \n              </span>\n\n              <div class="form-group inner-addon right-inner-addon">\n                    <select ng-change="selectRestaurantType(restaurantType)"\n                            class="form-control res-type-select" ng-model="restaurantType" name="restaurantType" required\n                            ng-class="{\'select-box-have-err\': cooperationForm.restaurantType.$error.required && tried || cooperationForm.restaurantType.$error.required && cooperationForm.restaurantType.$touched}">\n                         <option value="" disabled> </option>\n                         <option ng-repeat="tag in tags" value="{{tag.tagId}}">\n                          {{ tag.tagName }}\n                        </option>\n                    </select>\n              </div>\n              <span ng-if="cooperationForm.restaurantType.$error.required && tried || cooperationForm.restaurantType.$error.required && cooperationForm.restaurantType.$touched"\n                   class="err-text"\n                   ng-init="changeHeight()">\n                <i class="icon icon-bullet"></i>\n                     \n              </span>\n              <textarea ng-model="restaurantInformation.cooperationDescription" placeholder=""\n                        class="uikit form-group"></textarea>\n              <button ng-click="saveInfo(restaurantInformation)"\n                      class="btn btn-green btn-default-md"> \n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 hidden-xs hidden-xxs">\n      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 box-gn nopadding-x static-content-box image-side-bar">\n        <div class="co-operate-left-img">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/home/chosenRestaurant.html","<div>\n    <slick class=\"selected-carousel center-mode-slider\" settings=\"chosenSetting\" ng-if=\"chosenRestaurantsLoaded === true\">\n        <div ng-repeat=\"restaurant in chosenRestaurantsForView\">\n            <a  ui-sref=\"{{(restaurant.isChain === false ? ('app.restaurantnew.show.menu({city:\\''+restaurant.restaurantCitySlug+'\\',slug:\\''+restaurant.slug+'\\'})') : ('app.chain-restaurants.index({slug:\\''+restaurant.slug+'\\'})'))}}\">\n                <div class='have-off-items'>\n                    <div class='item-box-1'><img img-lazy-src=\"{{restaurant.profile}}\" class='img-responsive img-thumbnail center-block'>\n                        <div class='caption'><p>{{restaurant.name}}</p></div>\n                    </div>\n                </div>\n            </a></div>\n    </slick>\n</div>"),e.put("/app/user/ngApp/templates/views/home/cityModal.html",'<div class="side-dish-content">\n    <div class="sidedish-header">\n        <div class="sidedish-header-back" ng-style="{\'background-image\':\'url({{urlBackground}})\'}">\n            <div class="gradiant-white"></div>\n        </div>\n        <div class="close-city-dish cursor-pointer" ng-click="$close()">\n            <i class="icon icon-cancel"></i>\n        </div>\n        <div class="food-side-content-header">\n            <div class="city-title-modal absoluteMatter">\n                <span>\n  \n                </span>\n\n            </div>\n        </div>\n    </div>\n    <ul class="list-group options-radio food-options-list">\n        <li ng-repeat="city in cities" ng-class="{\'active-selected\' : city.id===selectedCity}" ng-click="setSelectedCity(city.regionId)" class="list-group-item city-option-list cursor-pointer">\n            {{ city.regionName }}\n        </li>\n    </ul>\n</div>'),e.put("/app/user/ngApp/templates/views/home/defaultNode.html",'<a class="result-box-anchor-in-li cursor-pointer" ng-click="select(item)" ng-href="{{item.realLink}}">\n  <i class="{{item.icon}}" ng-show="item.icon !== undefined"></i>\n  {{item[item.keyToShow === undefined ? keyToShow : item.keyToShow]}}\n</a>\n'),e.put("/app/user/ngApp/templates/views/home/discountedRestaurant.html","<div>\n    <slick class=\"discounted-carousel center-mode-slider\" settings=\"settings\" ng-if=\"restaurantsLoaded === true\">\n        <div data-ng-repeat=\"restaurant in restaurants\">\n            <div class='have-off-items'><a\n                    ui-sref=\"app.restaurantnew.show.menu({city:restaurant.neighborhood.citySlug,slug:restaurant.restaurantSlug})\">\n                <div class='item-box-1'>\n                    <div class='off-tag-div'>\n                        <span class='off-tag'>{{restaurant.restaurantSalePercentage +'%'}}</span>\n                    </div>\n                    <img img-lazy-src=\"{{restaurant.profile}}\"\n                         class='img-responsive img-thumbnail center-block'>\n                    <div class='caption'><p class='marquee-effect'>{{restaurant.restaurantName}}</p>\n                    </div>\n                    <div class='address'><p class='marquee-effect'>{{restaurant.neighborhood.name}}</p></div>\n                </div>\n            </a></div>\n        </div>\n    </slick>\n</div>"),e.put("/app/user/ngApp/templates/views/home/homeHeader.html",'<user-address-directive>\n    <div id="address-modal" tabindex="-1" class="modal fade">\n        <div class="modal-dialog my-address-modal">\n            <div class="modal-content">\n                <div class="modal-header"><span class="title">\n          <i class="icon icon-notbook"></i>\n            </span> <a data-dismiss="modal" class="close">\n                    <i class="icon icon-cancel"></i>\n                </a></div>\n                <div class="modal-body">\n                    <div ng-show="addressCount" ng-repeat="(key,address) in addresses track by $index"\n                         class="address-item"><a href="#"\n                            data-dismiss="modal" ng-click="saveLocation(address)"> <span class="address truncate"> <span\n                            class="locat"> {{ address.userAddressName ? address.userAddressName : \'...\' }} </span> {{ address.cityName\n            }} , {{ address.neighborhoodName }} , {{ address.userAddressComplete }} </span> </a></div>\n                    <div ng-show="!addressCount" class="clearfix" style="text-align: center"><h4>  </h4><a\n                            ui-sref="app.profile.address" href="/profile/address"\n                            class="btn btn-custom-blue btn-default-sm add-address center-block">   \n                         </a> <br></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</user-address-directive>\n<div id="addressmodal" class="noaddress-modal modal fade">\n    <div class="modal-backdrop fade in"></div>\n    <div class="modal-dialog modal-lg">\n        <div class="modal-content">\n            <div class="modal-body clearfix">\n                <div class="close-btn " data-dismiss="modal">\n                    <i class="icon icon-cancel"></i>\n                </div>\n                <div class="text-center">\n                    <i class="icon icon-notbook"></i>\n                </div>\n                <p class="text-center">       (    )   . </p>\n                <a\n                        ui-sref="app.register" href="/register" class="btn btn-red btn-lg btn-default-md"\n                        ng-click="closeModal()">\n                      </a></div>\n        </div>\n    </div>\n</div>\n<div class="header-bar-1" ng-style="mainBackground">\n    <div class="header-bar vam-abs">\n        <div class="container">\n            <div class="col-md-12">\n                <img src="app/user/assets/img/base/LogoForHome_shadow.png"\n                     class="center-block logo-main img-responsive">\n                <img ng-if="customMessage !== undefined" ng-src="customMessage.imageUrl"\n                     class="center-block logo-main img-responsive">\n            </div>\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <h2 class="text-center">         </h2>\n\n                <h2 class="text-center" ng-show="customMessage !== undefined">{{customMessage.text}}</h2>\n            </div>\n\n            <search-section searchhide="isHide"></search-section>\n\n            <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-lg-push-2 col-md-push-1">\n                <span class="behinde-line"></span>\n            </div>\n\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x hidden-xs hidden-xxs">\n                <div class="bar">\n                    <button class="btn btn-default-sm btn-gray-newface inline-block" ng-click="shareLocation()">\n                        <i class="new-icon new-icon-location pull-right" ng-class="{rotating : loadingLocation === true}"></i>\n                        <span class="become-left pull-right">  </span>\n                    </button>\n                    <button class="btn btn-default-sm btn-gray-newface inline-block" ng-click="showModalOrRedirect()">\n                        <i class="new-icon new-icon-my_address pull-right"></i>\n                        <span class="pull-right become-more-left"> </span>\n                    </button>\n                </div>\n            </div>\n            <div class="col-xs-12 col-xxs-12 visible-xs visible-xxs hidden-sm hidden-md hidden-lg location-wrapper">\n                <div class="row">\n                    <div class="col-xs-12 col-xxs-12 text-center">\n                        <a href="#" class="location-anchor" ng-click="shareLocation()"><span\n                                class="new-icon new-icon-location location-icon-holder" ng-class="{rotating : loadingLocation === true}"></span></a>\n                    </div>\n                    <div class="col-xs-12 col-xxs-12 text-center">\n                        <p>  </p>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/home/homepage.html",'<!-- top Campaign Banner -->\n<top-campaign data="topBanner" ng-if="topBanner"></top-campaign>\n<!-- top Campaign Banner -->\n\n<home-header></home-header>\n\n\n\n\n<!--select cities-->\n<div class="select-cities">\n  <div class="container">\n    <div class="citiseWrapper">\n      <div ng-repeat="city in currentVisibleCities |  orderBy : \'regionPromoted\' " class="cityItem"\n           ng-click="setSelectedCity(city.regionId)">\n        <button class="btn btn-default" ng-class="{\'active\': (city.regionId == selectedCity)}">{{city.regionName}}\n        </button>\n      </div>\n      <div class="cityItem">\n        <button class="btn btn-default moreCities" ng-click="showMoreCities()">  ...\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n<!--select cities-->\n\n\n\n<loader-without-text id="allCarousel-loading" ng-show="chosenLoading || discountedLoading"></loader-without-text>\n<div class="carousel-wrapper">   <!--discounted restaurant directive ng-show="discountedRestaurants.length > 0"-->\n  <section class="discountedRestaurants" ng-hide="discountedLoading">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <div class="text-center">\n            <h2 class="color-red-1">    {{cityName}}\n              <small ng-hide="!showMore"><a ui-sref="app.restaurantsnew.index({city: citySlug, slug: undefined,discount: 1})" class="see-more">+\n                ...</a></small>\n            </h2>\n          </div>\n        </div>\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <discounted-restaurant></discounted-restaurant>\n          <div class="text-center" ng-show="discountedRestaurants.length == 0">       \n            .\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>   <!--discounted restaurant directive -->   <!--selected restaurant directive  -->\n  <section class="selectedRestaurants" ng-hide="chosenLoading">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <div class="text-center"><h2 class="color-red-1"> </h2></div>\n        </div>\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <chosen-restaurant></chosen-restaurant>\n          <div class="text-center" ng-show="chosenRestaurants.length == 0">       .</div>\n        </div>\n      </div>\n    </div>\n  </section>   <!--selected restaurant directive --> </div> <!--middle campain directive -->\n<middle-campaign\n    data="middleBanner"></middle-campaign> <!--middle campain directive --> <!--special restaurant directive -->\n<div class="carousel-wrapper">\n  <loader-without-text id="special-restaurant-loading"></loader-without-text>\n  <section class="special-section">\n    <div class="container">\n      <div class="row">\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <div class="text-center"><h2 class="color-red-1"> </h2></div>\n        </div>\n        <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n          <special-restaurants></special-restaurants>\n        </div>\n      </div>\n    </div>\n  </section>\n</div> <!--special restaurant directive -->\n<section class="app-section">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-6 right-col col-md-6  col-xs-12 pull-right">\n        <div class="applications">\n          <h2 class="title">  </h2>\n          <div ng-controller="downloadAppController">\n            <form name="downloadAppForm" ng-submit="sendMobileNo()" novalidate>\n              <span class="options"> <label>          .</label>\n                <div class="input-group input-search-2-sm">\n                  <div class="input-group-btn">\n                    <button class="btn btn-green-2  force-btn"> \n                      <div ng-show="isSendLinkSpinner">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </button>\n                  </div>\n                  <input ng-required="true" mobile-validation mobile ng-model="mobileNumber" type="text"\n                        name="mobileNumber" placeholder="0912 *******" class="form-control">\n                  <div class="input-group-btn">\n                    <button class="btn ico" ng-disabled="sendDowloadLinkButton">\n                      <i class="new-icon new-icon-phone_number"></i>\n                    </button>\n                  </div>\n                </div>\n              </span>\n              <span ng-show="downloadAppForm.mobileNumber.$invalid && !downloadAppForm.mobileNumber.$pristine"\n                    class="err-text">\n                <i class="icon icon-bullet"></i>\n                      </span>\n            </form>\n          </div>\n          <div class="row">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-lg-offset-0 col-md-offset-0 col-xs-offset-0">\n              <div class="app-group">\n                <a href="https://cafebazaar.ir/app/com.chilivery/?clickId=20170604172443245470604305743188A211A102A108&_branch_match_id=399896464724795354&l=fa"\n                  class="cafe-bazar"></a>\n                <a href="https://play.google.com/store/apps/details?id=com.chilivery&hl=enu[f" class="android"></a>\n                <a href="https://new.sibapp.com/applications/chilivery" class="sibapp"></a>\n                <a href="https://itunes.apple.com/us/app/%DA%86%DB%8C%D9%84%DB%8C%D9%88%D8%B1%DB%8C-%D8%B3%D9%81%D8%A7%D8%B1%D8%B4-%D8%A2%D9%86%D9%84%D8%A7%DB%8C%D9%86-%D8%BA%D8%B0%D8%A7/id1122013222?mt=8"\n                  class="ios"></a>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-lg-6 left-col col-md-6 col-sm-6 col-sm-12 col-xs-12 pull-left">\n        <div class="vector-section-1">\n          <img src="/app/user/assets/img/bg/app.png" class="vector-img img-responsive center-block"></div>\n      </div>\n    </div>\n  </div>\n</section>\n<section id="guide-box" class="guide-section">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><h2 class="text-center">     \n        </h2></div>\n    </div>\n    <div class="row">\n      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-xxs-12 pull-right">\n        <div class="guide-box locate">\n          <div></div>\n          <img src="app/user/assets/img/guide-steps/step1.png" ng-show="!showProgressBarLoading">\n          <p> </p>\n          <p>              .</p></div>\n      </div>\n      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-xxs-12 pull-right">\n        <div class="guide-box food">\n          <div></div>\n          <img src="app/user/assets/img/guide-steps/step2.png" ng-show="!showProgressBarLoading">\n          <p>  </p>\n          <p>                .</p></div>\n      </div>\n      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-xxs-12 pull-right">\n        <div class="guide-box pay">\n          <div></div>\n          <img src="app/user/assets/img/guide-steps/step3.png" ng-show="!showProgressBarLoading">\n          <p>   !</p>\n          <p>               .</p></div>\n      </div>\n    </div>\n  </div>\n</section>\n<register-restaurant></register-restaurant>\n<section class="text-section">\n  <div class="container">\n    <div class="row">\n      <div\n          class="col-lg-8 col-md-8 col-sm-10 col-xs-12 col-lg-push-2 col-md-push-2 col-sm-push-1 col-xs-push-0 clearfix">\n        <div class="title">        </div>\n        <div class="text">                  \n            .         ...\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/home/htmlNode.html",'<a class="result-box-anchor-in-li cursor-pointer" ng-click="select(item,$event)" ng-href="{{item.realLink}}">\n  <span ng-bind-html="item.rawHtml"></span>\n</a>\n'),e.put("/app/user/ngApp/templates/views/home/middleCamapaign.html",'\n\n<div>       \n    <!--middleBanner-->\n    <a href="{{data.data.link}}" target="_blank">\n        <div id="middle-banner" ng-show="visible" ng-style="style">\n            <!--<img src="{{data.bgImage}}" >-->\n        </div>\n    </a>\n    <!--middleBanner-->\n</div>'),e.put("/app/user/ngApp/templates/views/home/recommended.html",'<!-- <slick rtl="true"\n       infinite="true"\n       dots="true"\n       autoplay="true"\n       infinite="true"\n       slides-to-show=8\n       slides-to-scroll=4>\n    <div ng-repeat="(key,restaurant) in suggestedRestaurants">\n        <div>\n            <div  class="have-off-items">\n            <a ng-href="/{{restaurant.city}}/{{restaurant.restaurantSlug}}">\n                <div class="item-box-1">\n                    <img src="{{restaurant.profile}}" class="img-responsive img-thumbnail center-block">\n                    <div class="caption">\n                    <p>{{ restaurant.restaurantName }}</p>\n                    </div>\n                    <div class="address">\n                    <p>{{ restaurant.neighborhoodName }} </p>\n                    </div>\n                </div>\n            </a>\n        </div>\n        </div>\n    </div>\n</slick> -->'),e.put("/app/user/ngApp/templates/views/home/register-restaurant.html",'<section class="register-restaurant">\n  <div class="background-div">\n    <div class="reg-col left-col-div">\n      <div class="reg-inner-image"></div>\n    </div>\n    <div class="reg-col right-col-div">\n      <div class="desc-wrapper"><h1 class="font-weight-bold">     <span\n          class="color-red-1"></span> <br>     . </h1>                         <a\n          ui-sref="app.cooperation">\n        <button class="register-res-btn">   !</button>\n      </a></div>\n      <a ui-sref="app.cooperation">\n        <div class="middle-icon-wrapper">\n          <div class="middle-icon">\n            <p>\n              <i class="icon icon-restaurant_register"></i>\n            </p>\n            <p> </p></div>\n      </a></div>\n  </div>\n  </div>         </section>\n\n'),e.put("/app/user/ngApp/templates/views/home/resultBox.html",'<div class="resultbox-shadow {{parentClass}}" ng-if="showMe.b === true">\n  <ul ng-show="isLoading === 0 || isLoading === undefined" class="{{ulClass}}">\n    <li ng-repeat="item in items" ng-class="[item.class, {\'have-line\' : item.line},  (selectedClass !== undefined && (item.selected || $index === showMe.index || (initValue !== undefined && initValue == item[keyToSearch]))) ? selectedClass : \'\']">\n      <default-node ng-show="item.html !== true"></default-node>\n      <html-node ng-show="item.html === true"></html-node>\n    </li>\n  </ul>\n  <div class="loading-list" ng-show="isLoading !== 0 && isLoading !== undefined">\n    <ul class="simple-spinner">\n      <li>\n        <span>  ...</span>\n        <spinner-loader></spinner-loader>\n      </li>\n    </ul>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/home/special-food.html",'<section class="section-suggest">\n    <div class="container">\n        <div class="row">\n            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n                <div class="title-bar list-inline"><i class="icon icon-special-tag"></i>\n                    <h2 class="color-red-1">  </h2><span class="date"> {{ specialFoods.today }}</span>\n                </div>\n            </div>\n            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n                <div ng-show="!foodArray.length">\n                        <img src="build/app/user/assets/img/img-ico/cheif.png" class="img-responsive center-block" width="200" height="200">\n                    <p class="nocomment-title">       </p>\n                </div>\n                <div ng-show="foodArray.length" >\n                        <div class="item" ng-repeat="food in foodArray">\n                            <div class="item-1">\n                                <a ui-sref="app.restaurantnew.show.menu({city: food.city , slug : food.restaurantSlug})">\n                                    <div class="item-box-1">\n                                    <!-- <span class="tag"></span> -->\n                                        <div class="img-holder">\n                                            <img src=" {{ food.pic }} " class="img-responsive img-circle img-thumbnail center-block">\n                                        </div>\n                                        <div class="caption">\n                                            <p class="truncate">\n                                            {{ food.foodName }}</p>\n                                            <p class="truncate rest-name"> {{ food.restaurantName }}</p>\n                                        </div>\n                                    </div>\n                                    <div class="item-box-1-price col-lg-7 col-md-7 col-sm-7 col-xs-7 nopadding-x">\n                                        <ul class="list-inline list-unstyled text-center">\n                                            <li class="last-price">{{ food.foodLastPrice | number | persian }} </li>\n                                            <li class="price">\n                                            {{food.foodPrice | number | persian }} </li>\n                                        </ul>\n                                    </div>\n                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5 nopadding-x location">\n                                        <span class="truncate">\n                                            {{ food.foodName }}\n                                        </span>\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/home/specialRestaurants.html",'\n        <div class="chain-restaurants">\n        </div>\n'),e.put("/app/user/ngApp/templates/views/home/special_food.html",'<section class="section-suggest">\n    <div class="container">\n        <div class="row">\n            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n                <div class="title-bar list-inline"><i class="icon icon-special-tag"></i>\n                    <h2 class="color-red-1">  </h2><span class="date"> {{ specialFoods.today }}</span>\n                </div>\n            </div>\n            <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">\n                <div ng-show="!foodArray.length">\n                        <img src="build/app/user/assets/img/img-ico/cheif.png" class="img-responsive center-block" width="200" height="200">\n                    <p class="nocomment-title">       </p>\n                </div>\n                <div ng-show="foodArray.length" class="owl-padd-stage">\n                    <div id="owl-first" class="owl-carousel owl-theme">\n                        <div class="item" ng-repeat="food in foodArray">\n                            <div class="item-1">\n                                <a ui-sref="app.restaurantnew.show.menu({city: food.city , slug : food.restaurantSlug})">\n                                    <div class="item-box-1">\n                                    <!-- <span class="tag"></span> -->\n                                        <div class="img-holder">\n                                            <img src=" {{ food.pic }} " class="img-responsive img-circle img-thumbnail center-block">\n                                        </div>\n                                        <div class="caption">\n                                            <p class="truncate">\n                                            {{ food.foodName }}</p>\n                                            <p class="truncate rest-name"> {{ food.restaurantName }}</p>\n                                        </div>\n                                    </div>\n                                    <div class="item-box-1-price col-lg-7 col-md-7 col-sm-7 col-xs-7 nopadding-x">\n                                        <ul class="list-inline list-unstyled text-center">\n                                            <li class="last-price">{{ food.foodLastPrice | number | persian }} </li>\n                                            <li class="price">\n                                            {{food.foodPrice | number | persian }} </li>\n                                        </ul>\n                                    </div>\n                                    <div class="col-lg-5 col-md-5 col-sm-5 col-xs-5 nopadding-x location">\n                                        <span class="truncate">\n                                            {{ food.foodName }}\n                                        </span>\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'),
e.put("/app/user/ngApp/templates/views/home/subscriber.html",'<section ng-if="subscribtion" class="sub-section">\n  <div class="container">\n    <div class="row">\n      <div class="subscrib-box clearfix">\n        <div class="col-md-12 nopadding-x">\n          <form name="emailSubscribe" ng-submit="sendSubscribeForm()" novalidate>\n            <div\n                class="col-lg-6 col-md-8 col-sm-8 col-xs-12 col-lg-offset-3 col-md-offset-2 col-sm-offset-2 col-xs-offset-0">\n              <h2 class="text-center color-red-1">  </h2>\n              <p class="text-center">           \n                .</p>\n              <div class="input-group input-search-2">\n\n                <div class="input-group-btn hidden-xs hidden-xxs">\n                  <button class="btn btn-red force-btn" ng-disabled="emailSubscribe.$invalid">\n                    <div ng-show="isSubscriberSpinnerShow"><spinner-loader></spinner-loader></div>\n                  </button>\n                </div>\n                <input ng-model="subscriber.email" name="userEmail" type="email" valid-email placeholder=""\n                       class="form-control">\n                <div class="input-group-btn">\n                  <div class="dropup">\n                    <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"\n                            class="btn btn-dropdown dropdown-toggle">{{subscriber.cityName ? subscriber.cityName :\n                      \' \'}}\n                      <i class="icon icon-arrow-down"></i>\n                    </button>\n                    <ul ng-model="subscriber.city" class="dropdown-menu list-unstyled text-right">\n                      <li ng-repeat="city in subscriber.cityList">\n                        <a href="" ng-click="setSubscribeCity(city)">{{city.regionName}}\n                        </a>\n                      </li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n              <span ng-show="subscriber.cityId <= 0 && emailSubscribe.$dirty" class="err-text">\n                <i class="icon icon-bullet"></i>\n                     \n              </span>\n              <span ng-show="emailSubscribe.userEmail.$invalid && !emailSubscribe.userEmail.$pristine" class="err-text">\n                <i class="icon icon-bullet"></i>\n                     \n\n              </span>\n              <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n                <button class="button btn-default-sm btn btn-red force-btn xs-force"> </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/home/topCampaign.html",'\n\n<div ng-show="visible">       \n    <!--topBanner-->\n\n        <!--show this if banner type == 2-->\n       <div ng-show="bannerType == 0" ng-style="style" class="top-campaign">\n            <a href="{{data.data.link}}" target="_blank" ng-style="style">\n                <span>{{data.data.text}}</span>\n            </a>\n            <span class="pull-right icon-cancel close-icon" ng-click="close()"></span>\n        </div>\n\n\n        <!--show this if banner type == 1-->\n      <div ng-show="bannerType == 1">\n            <a href="{{data.data.link}}" target="_blank"  >\n                <div ng-style="style"></div>\n               <!--<img src="{{data.data.image}}" ng-style="style"/>-->\n            </a>\n          <span class="pull-right icon-cancel close-banner-image" ng-click="close()"></span>\n      </div>\n\n    <!--topBanner-->\n\n</div>'),e.put("/app/user/ngApp/templates/views/home/window.html",'<div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}">\n    <div class="custom-modal-content">\n        <div class="side-dish-wrapper tripple-modal">\n                <div class="" uib-modal-transclude>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/mobile/filter-search-mobile.html",'<div class="container-filter-search" overflow-scroll parent-element="modal-back-main" except-element="head-of-filter-search,stick-to-bottom"\n    element-to-scrollable="sub-filter-container">\n    <div class="head-of-filter-search">\n        <div class="row">\n            <div class="title-of col-sm-6 col-xs-6 col-xxs-6 cursor-pointer" ng-class="{\'selected-title\' : selectedTab.val === 2}" ng-click="changeSelectedTab(2)">\n                  \n            </div>\n            <div class="title-of col-sm-6 col-xs-6 col-xxs-6 cursor-pointer" ng-class="{\'selected-title\' : selectedTab.val === 1}" ng-click="changeSelectedTab(1)">\n                 \n            </div>\n        </div>\n    </div>\n    <div class="body-of-filter-search container">\n        <div class="row" ng-show="selectedTab.val === 1">\n            <div class="col-sm-7 col-xs-7 col-xxs-7 sub-filter-container">\n                <div class="sub-filter row" ng-repeat="filter in selectedArry">\n                    <div class="title-for-filter pull-right">\n                        {{filter.name}}\n                    </div>\n                    <div class="checkbox-for-filter pull-left">\n                        <label class="custom-input checkbox pull-right">\n                            <input ng-model="filter.checked" type="checkbox" ng-change="changeTypes(filter)">\n                            <span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-5 col-xs-5 col-xxs-5">\n                <div class="title-of-filters row">\n                    <div class="cursor-pointer filters pull-right" ng-click="changeSelectedFilterType(1)" ng-class="{\'selected-top-filter\': selectedFilterType.val === 1}">\n                        <span class="pull-right"> </span>\n                        <span class="pull-left icon icon-arrow-left grayForIcons"></span>\n                    </div>\n                    <div class="cursor-pointer filters pull-right" ng-click="changeSelectedFilterType(2)" ng-class="{\'selected-top-filter\': selectedFilterType.val === 2}">\n                        <span class="pull-right"> </span>\n                        <span class="pull-left icon icon-arrow-left grayForIcons"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="row" ng-show="selectedTab.val === 2">\n            <div class="col-sm-12 col-xs-12 col-xxs-12 sort-container">\n                <div class="sort-wrapper">\n                    <div class="right-section pull-right">\n                        <span class="new-icon new-icon-sort_new gray sort-icon pull-right"></span>\n                        <span class="sort-text pull-right"> </span>\n                    </div>\n                    <div class="left-section pull-left">\n                        <label class="custom-input checkbox pull-right">\n                            <input ng-model="sort.newest.bool" type="checkbox" ng-change="changeSort(\'newest\')">\n                            <span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-12 col-xs-12 col-xxs-12 sort-container">\n                <div class="sort-wrapper">\n                    <div class="right-section pull-right">\n                        <span class="new-icon new-icon-sort_delivery sort-icon pull-right"></span>\n                        <span class="sort-text pull-right"> </span>\n                    </div>\n                    <div class="left-section pull-left">\n                        <label class="custom-input checkbox pull-right">\n                            <input ng-model="sort.deliveryTime.bool" type="checkbox" ng-change="changeSort(\'deliveryTime\')">\n                            <span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-12 col-xs-12 col-xxs-12 sort-container">\n                <div class="sort-wrapper">\n                    <div class="right-section pull-right">\n                        <span class="new-icon new-icon-sort_rate gray sort-icon pull-right"></span>\n                        <span class="sort-text pull-right"> </span>\n                    </div>\n                    <div class="left-section pull-left">\n                        <label class="custom-input checkbox pull-right">\n                            <input ng-model="sort.rating.bool" type="checkbox" ng-change="changeSort(\'rating\')">\n                            <span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-12 col-xs-12 col-xxs-12 sort-container">\n                <div class="sort-wrapper">\n                    <div class="right-section pull-right">\n                        <span class="new-icon new-icon-sort_economic gray sort-icon pull-right"></span>\n                        <span class="sort-text pull-right"> </span>\n                    </div>\n                    <div class="left-section pull-left">\n                        <label class="custom-input checkbox pull-right">\n                            <input ng-model="sort.financialCategory.bool" type="checkbox" ng-change="changeSort(\'financialCategory\')">\n                            <span></span>\n                        </label>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="container stick-to-bottom absoluteMatter">\n        <div class="row">\n            <div class="top-of-button">\n                <div class="pull-right discounted-text">   </div>\n                <div class="pull-left discounted-toggle">\n                    <input type="checkbox" id="switch" ng-model="isDiscount.bool" ng-change="changeisDiscount()"/>\n                    <label for="switch">Toggle</label>\n                </div>\n            </div>\n        </div>\n        <div class="row relativeMatter">\n            <div class="button-wrapper">\n                <div class="halfWidth">\n                    <button class="sticky-button green-sticky-button" ng-click="goToFilters()"> </button>\n                </div>\n                <div class="halfWidth">\n                    <button class="sticky-button gray-sticky-button" ng-click="removeFilters()"> </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/mobile/map-search-mobile.html",'<div class="container-map-search" overflow-scroll parent-element="modal-back-main" except-element="head-of-map-search,search-container" element-to-scrollable="Gmap-box">\n    <div class="head-of-map-search">\n        <div class="row">\n            <div class="col-sm-12 col-xs-12 col-xxs-12">\n                <div class="text-center">\n                    <span class="smallFirstFont inline-block text-top-of-map"> </span>\n                    <div class="inline-block relativeMatter circle-top-of-map"><span class="objectInMiddle">{{allRestaurants.length}}</span></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="body-of-map-search">\n        <div class="row search-container">\n            <div class="col-xs-8 col-xxs-8 region-part">\n                <input type="text" class="form-control search-box" ng-click="onSelectRegionClick($event)" placeholder=" " ng-trim="true"\n                    ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" ng-change="searchInRegions()"\n                    ng-model="regionSearchedString.str" ng-keydown="startSearching($event,\'regionLoading\')" ng-click="onSelectRegionClick($event)">\n                <result-box ng-if="regionsUi !== undefined" selected-class="city-selected" index-of-selected="selectRegion.index" items="regionsUi"\n                    on-select-item="onSelectRegion(item)" is-loading="selectRegion.regionLoading" show-me="selectRegion" parent-class="general-list-holder"\n                    ul-class="city-list"></result-box>\n            </div>\n            <div class="col-xs-4 col-xxs-4 city-part">\n                <div class="city-holder" ng-click="onSelectCity($event)">\n                    <span>{{selectedCityName}}</span>\n                    <span class="icon icon-arrow-down font-icon-small"></span>\n                </div>\n                <result-box ng-if="cities !== undefined" key-to-search="text" key-to-show="text" show-me="selectCity" parent-class="general-list-holder"\n                    ul-class="city-list" items="cities" on-select-item="choiceCity(item)" init-value="selectedCityName" selected-class="city-selected">\n                </result-box>\n            </div>\n\n        </div>\n        <div class="row">\n            <div class="col-sm-12 col-xs-12 col-xxs-12">\n                <div class="Gmap-box" id="GmapModal" style="height: 70vh;"></div>\n                <div class="fillParent" ng-show="mapDisable">\n                    <div class="info-text-wrapper objectInMiddle text-center">\n                        <span class="new-icon new-icon-edit_location disable-icon-location"></span>\n                        <div class="text-info">           .</div>\n                    </div>\n                </div>\n                <div class="absoluteMatter map-action-container">\n                    <button ng-click="close()"> </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/mobile/modal-window.html",'<div class="mobile-modal-dialog">\n    <div class="custom-modal-content">\n        <div class="wrapper-modal">\n            <div class="container-modal">\n                <div class="modal-back1 modal-backs"></div>\n                <div class="modal-back2 modal-backs"></div>\n                <div class="close-part" ng-click="close($event)"><span ng-click="close($event)" class="icon icon-down_arrow"></span></div>\n                <div class="modal-back-main" uib-modal-transclude>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/mobile/modal.html","foo"),e.put("/app/user/ngApp/templates/views/orders/review.html",'<div id="review">\n  <form ng-submit="submitVote($event)">\n    <section class="user-reviews">\n      <div class="review-bg text-center"> <!--review-bg should have different bg-->\n        <div class="container">\n          <div class="restaurant-title clearfix text-center inline-block">\n            <div class="img-logo-review">\n              <!--<img class="img-responsive border-radius-20" src="https://media.chilivery.com/img/restaurantProfile/bf95be04492d3c83df701ed050aae22c/restaurantProfile-%D8%B4%DB%8C%D9%84%D8%A7(%D8%AA%D9%87%D8%B1%D8%A7%D9%86%D9%BE%D8%A7%D8%B1%D8%B3)-25733.jpg"/>-->\n              <img class="img-responsive border-radius-20" src="{{ order.restaurant.profile }}"/>\n            </div>\n            <div class="restaurant-name">\n              <h2 class="color-dark-gray">{{order.restaurant.restaurantName}}</h2>\n            </div>\n          </div>\n          <div class="order-review-sub">\n            <h3 class="text-center m-t-lg color-red-primary">    <span>{{ order.orderId }}</span>\n              <a class="color-red-light cursor-pointer open-order-modal" ng-click="openFoodItemsModal(\'foodItems\' , \'gift\')">\n                <small>( )</small>\n              </a>\n            </h3>\n          </div>\n        </div>\n        <div class="wave-back p-relative">\n          <div class="review-gradiant"></div>\n          <div class="emojis-wrapper text-center review-page-emojis">\n            <div class="inline-block bg-white emojis-review-section light-box-shadow padding-between-items">\n              <emoji-radio-btn name="overall" uniq-Id="ids.overalIds" init-vote="vote" have-text="true" font-size="font-icon-large" review-data="reviewData"></emoji-radio-btn>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n      </div>\n      <div class="vote-details padding-between-items" ng-show="checkOverall()">\n        <div class="p-relative text-center">\n          <div class="order-details row margin-center">\n            <div class="text-center">\n              <p class="font-medium light-gray m-b-lg">        </p>\n            </div>\n            <div class="review-orders">\n              <div class="review-order-list-item clearfix ">\n                <div class="col-md-6 pull-right no-padding">\n                  <p class="dark-gray" ng-click="foodReviewOpen = !foodReviewOpen" ng-class="{\'cursor-pointer\' : foods.length != 0 }"> \n                    <i class="icon" ng-class="{\'icon-arrow-down\': !foodReviewOpen ,\'icon-arrow-up\': foodReviewOpen}" ng-show="foods.length != 0"></i>\n                  </p>\n                </div>\n                <div class="col-md-6 pull-left emojis padding-between-items">\n                  <emoji-radio-btn review-data="reviewData" name="foodOverall" uniq-Id="ids.qualityIds"  have-text="false" font-size="font-icon-large"></emoji-radio-btn>\n                </div>\n              </div>\n\n              <!--foods rate-->\n              <div class="review-order-list-item clearfix order-foods-details padding-between-items-small" ng-show="foodReviewOpen">\n                <div class="row no-margin" ng-repeat="item in order.items">\n                  <div class="col-md-6 pull-right ">\n                    <p class="light-gray order-item-name">\n                      <span class="bullet"></span> {{item.food.foodName}} </p>\n                  </div>\n                  <div class="col-md-6 pull-left emojis">\n                    <!-- review-data="reviewData" -->\n                    <emoji-radio-btn review-data="reviewData[\'foodQuality\']" name="{{item.food.foodId}}" uniq-Id="item.food.foodId" have-text="false" font-size="font-icon-medium"></emoji-radio-btn>\n                  </div>\n                </div>\n              </div>\n              <!--end of foods rate-->\n\n              <div class="review-order-list-item clearfix">\n                <div class="col-md-6 pull-right no-padding">\n                  <p class="dark-gray">  </p>\n                </div>\n                <div class="col-md-6 pull-left emojis">\n                  <emoji-radio-btn review-data="reviewData" name="deliverySpeed" uniq-Id="ids.deliverySpeedIds" have-text="false" font-size="font-icon-large"></emoji-radio-btn>\n                </div>\n              </div>\n              <div class="review-order-list-item clearfix ">\n                <div class="col-md-6 pull-right no-padding">\n                  <p class="dark-gray">   </p>\n                </div>\n                <div class="col-md-6 pull-left emojis">\n                  <emoji-radio-btn review-data="reviewData" name="buyExperience" uniq-Id="ids.chiliveryUxIds" have-text="false" font-size="font-icon-large" model-name="modelNames[3]"></emoji-radio-btn>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n      <div class="col-md-6 col-md-offset-3">\n        <div class="add-comment">\n          <div class="">\n            <div class="p-relative text-center add-comment-wrapper padding-20">\n              <div class="add-comment-title light-gray">\n                <p class=""> (  )</p>\n              </div>\n              <div class="inline-block p-relative"></div>\n              <textarea class="addcomment-textarea bg-transparent font-medium" name="text" ng-model="reviewData[\'text\']"></textarea>\n              <div class="add-comment-btn">\n                <button type="submit" ng-disabled="canSubmit" class="btn button-md bg-green-primary font-medium"\n                        ng-class="{\'btn-disabled\':canSubmit}" > \n                </button>\n              </div>\n              <i class="icon icon-comment_icon add-comment-icon font-icon-medium"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="clearfix"></div>\n    </section>\n  </form>\n\n</div>\n'),e.put("/app/user/ngApp/templates/views/pages/loaderburger.html",'<div class="loading-burger-holder" data-loading >\n\t<div class="burger-overlay"></div>\n\t<div class="burger-loader">\n\t\t<img src="/app/user/assets/img/img-ico/loader.gif" class="img-responsive">\n\t\t<p>    ...</p>\n\t</div>\n </div>'),e.put("/app/user/ngApp/templates/views/pages/page.html",'<!-- <header class="header-bar-3">\n  <div class="container">\n    <div class="row">\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n    </div>\n  </div>\n</header> -->\n<div class="section-margin-top"></div>\n<div ng-controller="pagescontroller">\n  <div ng-include="\'/app/user/ngApp/templates/views/static_pages/\'+filename+\'.html\'"></div>\n</div>\n'),e.put("/app/user/ngApp/templates/views/profile/pagination.html",'<div class="text-center">\n  <ul ng-if="totalItemsCount > 10" class="pagination">\n    <li><a ng-class="{\'disabled\': !nextPageUrl}" ng-click="nextPage()" href="#next-page">\n      <i class="icon icon-arrow-left"></i> </a></li>\n    <li ng-repeat="page in pages" ng-class="{active: currentPage === page}">\n      <a ng-click="goToPage(page)" href="#{{page}}">{{page | persian}}</a>\n    </li>\n    <li><a ng-class="{\'disabled\': !prevPageUrl}" ng-click="prevPage()" href="#prev-page">\n      <i class="icon icon-arrow-right"></i> </a></li>\n  </ul>\n</div>'),e.put("/app/user/ngApp/templates/views/profile/profile.html",'<profile-base></profile-base>\n<section class="profile-content">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n        <profile-sidebar-content></profile-sidebar-content>\n      </div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <div class="profile-section static-content-box clearfix">\n          <div class="content-loader-holder  text-center" ng-if="showLoading">\n            <div class="content-loader">\n              <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n              <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n              <p class="text-center">    ...    </p>\n            </div>\n          </div>\n\n          <div ng-show="!showLoading">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n              <info-directive>\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                  <div class="title-bar title-bar-2">\n                    <i class="icon icon-bullet"></i> <span class="color-red-1">  </span>\n                  </div>\n                </div>\n                <div ng-model="files" ngf-allow-dir="false" accept="image/*" ngf-pattern="\'image/*\'" ngf-select="upload($files)" class="col-md-12 personal-img ng-pristine ng-untouched ng-valid">\n                  <img ng-src="{{ userAvatar }}" class="profile-img img-circle img-responsive">\n                  <a class="name">  </a>\n                  <div class="col-md-9"></div>\n                </div>\n                <div style="font:smaller">{{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}\n                  <span class="progress" ng-show="f.progress >= 0">\n                    <div style="width:{{f.progress}}%" ng-bind="f.progress + \'%\'"></div>\n                  </span>\n                </div>\n                {{errorMsg}}\n                <form name="userInformationForm" class="signinform">\n                  <div class="row">\n                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                      <div class="form-group inner-addon right-inner-addon" ng-class="{\'has-error\': information.username.$invalid}">\n                        <input ng-model="username" ng-blur="uniqueEmail(this)" type="text" name="username" ng-pattern="/^(([^<>()\\[\\]\\.,;:\\s@\\\' ]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\']+)*)|(\\\'.+\\\'))@(([^<>()[\\]\\.,;:\\s@\\\']+\\.)+[^<>()[\\]\\.,;:\\s@\\\']{2,})$/i" placeholder="  " required class="form-control default-input singleline-input">\n                        <span class="form-icon icon icon-email"></span>\n                        <span class="help-block err-text" ng-show="userInformationForm.username.$error.required && userInformationForm.username.$dirty">   . </span>\n                        <span class="help-block err-text" ng-show="userInformationForm.username.$error.pattern && userInformationForm.username.$dirty">   . </span>\n                        <span class="help-block err-text" ng-show="userInformationForm.username.$error.uniqueEmail\n                          && !userInformationForm.username.$error.pattern\n                          && !userInformationForm.username.$error.required">    . </span>\n                      </div>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                      <div class="form-group inner-addon right-inner-addon" ng-class="{\'has-error\': userInformationForm.fullname.$invalid}">\n                        <input type="text" ng-change="fullnameChanged()" name="fullName" id="name" ng-model="fullName" placeholder="   " required class="form-control default-input singleline-input">\n                        <span class="form-icon icon icon-avatar-2"></span>\n                        <span class="help-block error" ng-show="userInformationForm.fullname.$error.required && userInformationForm.fullname.$dirty">      . </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="row">\n                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12"></div>\n                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                      <div class="form-group inner-addon right-inner-addon" ng-class="{\'has-error\': userInformationForm.mobileno.$invalid}">\n                        <input ng-model="mobileNumber" mobile-validation name="mobileno" type="tel" ng-disabled="userMobileIsVerified" ng-readonly="userMobileIsVerified" ng-blur="uniqueMobile()" placeholder="   " required unique-mobile mobile class="form-control default-input singleline-input">\n                        <span class="form-icon icon icon-mobile"></span>\n                        <span class="help-block err-text" ng-show="userInformationForm.mobileno.$error.required && userInformationForm.mobileno.$dirty">    . </span>\n                        <span class="help-block err-text" ng-show="userInformationForm.mobileno.$error.mobileValidation">    . </span>\n                        <span class="help-block err-text" ng-show="userInformationForm.mobileno.$error.uniqueMobile\n                          && !userInformationForm.mobileno.$error.required\n                          && !userInformationForm.mobileno.$error.pattern">      . </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="row">\n                    <div class="col-lg-4">\n                      <button ng-click="updateInformationForm(userInformationForm)" class="btn btn-default-md btn-green"> \n                        <div ng-show="isSpinnerShow">\n                          <spinner-loader></spinner-loader>\n                        </div>\n                      </button>\n                    </div>\n                  </div>\n                </form>\n              </info-directive>\n            </div>\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i> <span class="color-red-1">   </span>\n                </div>\n              </div>\n              <!--<password-directive>-->\n              <form name=\'passwordConfirmationForm\'>\n                <div class="row">\n                  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right">\n                    <div class="form-group inner-addon right-inner-addon" ng-class="{\'has-error\': passwordConfirmationForm.userPassword.$invalid}">\n                      <input type="password" placeholder=" " ng-required="true" class="form-control default-input singleline-input" ng-model="userPassword" name="userPassword"/>\n                      <span class="form-icon icon icon-password"></span>\n                      <span ng-show="userInformationForm.userPassword.$error.required" class="help-block err-text">    . </span>\n                    </div>\n                  </div>\n                  <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right">\n                    <div class="form-group inner-addon right-inner-addon" ng-class="{\'has-error\': passwordConfirmationForm.userConfirmpassword.$invalid}">\n                      <input class="form-control default-input singleline-input" type="password" ng-model="userConfirmpassword" name="userConfirmpassword" ng-required="true" placeholder=\'  \'/>\n                      <span class="form-icon icon icon-password"></span>\n                      <span ng-show="userInformationForm.userConfirmpassword.$error.required" class="help-block err-text">    . </span>\n                    </div>\n                  </div>\n                </div>\n                <div class="row">\n                  <div class="col-lg-4">\n                    <button ng-disabled="passwordConfirmationForm.$invalid" ng-click="passwordConfirmationForm()" class="btn btn-default-md btn-green">  \n                      <div ng-show="isPasswordSpinnerShow">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/profile/profile_address.html",'<profile-base></profile-base>\n<section class="profile-content">\n    <div class="container">\n        <div class="row">\n            <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n                <profile-sidebar-content></profile-sidebar-content>\n            </div>\n            <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n                <div class="profile-address static-content-box clearfix">\n                    <address-directive check-address-availability="false"></address-directive>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/profile/profile_base.html",'<nav class="mainnav navbar navigation-2 navbar-fixed-top">\n  <div class="container">\n    <div class="navbar-header">\n      <button data-toggle="collapse" data-target="#collapse-main-nav" aria-expanded="false"\n              class="navbar-toggle collapsed">\n        <spna class="src-only"></spna>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a href="#" class="navbar-brand"><img src="assets/img/base/logo.png"></a>\n    </div>\n    <header-options></header-options>\n  </div>\n</nav>\n<div class="container" style="margin-top: 60px;">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li><a ui-sref="{{link}}">{{name}}</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/profile/profile_orderlist.html",'<profile-base></profile-base>\n<section class="profile-content new-profile-order-content">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n        <profile-sidebar-content></profile-sidebar-content>\n      </div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <profile-order-directive>\n          <div class="profile-orderlist static-content-box clearfix">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i> <span class="color-red-1">  </span>\n                </div>\n              </div>\n              <div class="content-loader-holder" ng-if="showLoading">\n                <div class="content-loader">\n                  <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n                  <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n                  <p class="text-center">   ...    </p>\n                </div>\n              </div>\n\n              <div ng-show="totalItems > 0 && !showLoading">\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                  <div class="panel-parent table-responsive">\n                    <table class="table ">\n                      <thead>\n                      <tr>\n                        <td>#</td>\n                        <td></td>\n                        <td> </td>\n                        <td></td>\n                        <td></td>\n                        <td>()</td>\n                        <td> </td>\n                      </tr>\n                      </thead>\n                    </table>\n                  </div>\n\n                  <div class="order-box" ng-repeat="(orderId, order) in orders">\n                    <div class="order-state"\n                         ng-hide="order.statusId === 8 || order.statusId === 4 || order.statusId === 5 || order.statusId === 9 || order.statusId === 10">\n                      {{ order.status }}\n                    </div>\n                    <div class="panel-parent panel-row"\n                         ng-class="{\'have-been-disbaled\': order.statusId === 4 || order.statusId === 5 || order.statusId === 9 || order.statusId === 10}">\n                      <div class="table-responsive">\n                        <table class="table">\n                          <tr>\n\n                            <td> {{ $index + 1 + (currentPage - 1) * 10 }}\n\n                            </td>\n                            <td class="name">\n                              <a ui-sref="app.restaurantnew.show.menu({city:order.city , slug: order.restaurant.restaurantSlug})"> {{ order.restaurant.restaurantName }} </a>\n                            </td>\n                            <td> {{ order.orderId }}</td>\n                            <td> {{ order.date }}</td>\n                            <td>{{ order.time }}</td>\n                            <td> {{ order.amount.total | number | persian }}</td>\n                            <td class="control">\n                              <span class="re-order" ng-class="{\'deactive\': order.restaurant.restaurantStatus != 1}"\n                                    ng-click="reorder(order.orderId, order.restaurant.restaurantStatus)">\n                                <i class="icon icon-refresh hidden-xs hidden-xxs">\n                                </i>  \n                              </span>\n                              <span class="details">\n                                <i class="icon icon-arrow-down hidden-xs hidden-xxs" ng-click="toggle(orderId,$event)"></i>\n                              <button class="btn-default btn-yellow"\n                                      ng-show="order.canWriteComment && order.voteRate == null && order.statusId != 14"\n                                      ui-sref="app.review({orderId : order.orderId})">\n                                <i class="icon icon-star-fill rate-this"></i>    \n                              </button>\n                              <a ng-show="order.statusId == 14" ng-href="{{\'/pr/\' + order.orderId}}" target="_self">\n                                <button class="btn-default btn-green">\n                                  <i class="new-icon new-icon-card"></i>\n                                  \n                                </button>\n                              </a>\n                              <span class="disable-span"\n                                    ng-show="order.statusId === 4 || order.statusId === 5 || order.statusId === 9 || order.statusId === 10">  </span>\n\n                              <ul class="list-nopadd list-unstyled list-inline star-ratings"\n                                  ng-show="order.voteRate != null">\n                                <emoji-rate font-size="font-icon-large" init-vote="order.voteRate"></emoji-rate>\n                              </ul>\n                            </span>\n                            </td>\n                          </tr>\n                        </table>\n                      </div>\n                      <div class="panel-details table-responsive" ng-show="order.OrderDetail">\n                        <table class="table ">\n                          <thead>\n                          <tr>\n                            <td class="text-right">#</td>\n                            <td> </td>\n                            <td></td>\n                            <td class="text-left"> ()</td>\n                          </tr>\n                          </thead>\n                          <tbody>\n                          <tr ng-repeat="(key, orderItem) in order.orderItems">\n                            <td class="text-right">{{ $index + 1 }}</td>\n                            <td>\n                              {{ orderItem.foodName }}\n\n                              <!-- <table ng-if="orderItem.options"> -->\n                              <span ng-if="orderItem.options"> <span ng-repeat="option in orderItem.options">\n                                <p>{{option.foodOptionName}}</p>\n                              </span> </span>\n\n                              <!-- </table> -->\n\n                            </td>\n                            <td>{{ orderItem.orderItemCount | persian }}</td>\n                            <td class="text-left">{{ priceItem(orderItem) | number | persian }}\n                            </td>\n                          </tr>\n                          </tbody>\n                          <tfoot>\n                          <tr class="table-footer-1" ng-if="!order.amount.carry == 0">\n                            <td colspan="2"> :</td>\n                            <td colspan="2">{{ order.amount.carry | number | persian }} \n                            </td>\n                          </tr>\n                          <tr class="table-footer-1" ng-if="!order.amount.pack == 0">\n                            <td colspan="2">  :</td>\n                            <td colspan="2">{{ order.amount.pack | number | persian }} \n                            </td>\n                          </tr>\n                          <tr class="table-footer-1" ng-if="!order.amount.tax == 0">\n                            <td colspan="2"> :</td>\n                            <td colspan="2">{{ order.amount.tax | number | persian }} \n                            </td>\n                          </tr>\n                          <tr class="table-footer-1"\n                              ng-if="order.campaign.percent != 0 && order.campaign.campaignStatus != false">\n                            <td colspan="2">  : &nbsp;&nbsp;{{ order.campaign.code }}</td>\n                            <td colspan="2">\n                              <span> {{ order.campaign.percent | number | persian}}   {{ order.campaign.amount | number | persian }}  </span>\n                            </td>\n                          </tr>\n                          <tr class="table-footer-2">\n                            <td colspan="2"> :</td>\n                            <td colspan="2">{{ (order.amount.total > order.campaign.amount ? order.amount.total - order.campaign.amount : 0) | number | persian }}\n                            </td>\n                          </tr>\n                          <tr class="table-footer-3">\n                            <td colspan="4">\n                              <span class="text-right"> : {{ order.deliveryType }}</span>\n                              <!--<span class="text-center"> : </span>-->\n                              <span class="text-left"> : {{ order.status }}</span>\n                            </td>\n                          </tr>\n                          <tr class="address">\n                            <td colspan="4" class="text-right"> : {{ order.address }}\n                            </td>\n                          </tr>\n                          </tfoot>\n                        </table>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <center>\n                  <ul uib-pagination boundary-links="true" rotate="false" ng-model="currentPage" max-size="5"\n                      total-items="totalItems" items-per-page="10" previous-text="&rsaquo;" next-text="&lsaquo;"\n                      first-text="&raquo;" last-text="&laquo;" ng-change="onChangePage()"></ul>\n                </center>\n              </div>\n              <p ng-show="!totalItems && !showLoading">    </p>\n            </div>\n          </div>\n        </profile-order-directive>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/profile/profile_review.html",'<profile-base></profile-base>\n<section class="profile-content">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n        <profile-sidebar-content></profile-sidebar-content>\n      </div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <div class="profile-review static-content-box clearfix">\n          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n              <div class="title-bar title-bar-2">\n                <i class="icon icon-bullet"></i> <span class="color-red-1"> </span></div>\n            </div>\n\n\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n\n              <div class="content-loader-holder" ng-if="showLoading">\n                <div class="content-loader">\n                  <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n                  <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n                  <p class="text-center">    ...    </p>\n                </div>\n              </div>\n\n              <comment-directive ng-show="!showLoading">\n                <div ng-show="comments.length" ng-repeat="comment in comments">\n                  <ul class="media-list comment-list">\n                    <li class="media">\n                      <div class="media-right">\n                        <img class="media-object" src="{{ comment.logo }}" width="100" height="100">\n                      </div>\n                      <div class="media-body">\n                        <div class="media-heading">\n                          <div>\n                            <span class="name"> {{ comment.restaurantName }} </span>\n                            <emoji-rate class="pull-left" font-size="font-icon-medium"\n                                        init-vote="comment.voteNum"></emoji-rate>\n                          </div>\n                          <div>\n                            <span class="date">{{ comment.date }}</span> <span class="time"> {{ comment.time }} </span>\n                          </div>\n\n                        </div>\n                        <div class="media-content">{{ comment.commentText }}</div>\n                      </div>\n                    </li>\n                  </ul>\n                </div>\n                <div>\n                  <center>\n                    <ul uib-pagination boundary-links="true" rotate="false" ng-model="currentPage" max-size="5"\n                        total-items="totalItems" items-per-page="10" previous-text="&rsaquo;" next-text="&lsaquo;"\n                        first-text="&raquo;" last-text="&laquo;" ng-change="onChangePage()"></ul>\n                  </center>\n                  <center><p ng-show="!totalItems && !showLoading">      </p></center>\n                </div>\n              </comment-directive>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/profile/profile_sidebar.html",'<div class="profile-sidebar static-content-box clearfix sidebar-fix hidden-xs hidden-xxs ">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n        <ul class="list-unstyled list-nopadd">\n            <li><a ui-sref="app.profile.index"><i class="icon icon-avatar-2"></i>  </a></li>\n            <li><a ui-sref="app.profile.orderlist"><i class="icon icon-bag2"></i>  </a></li>\n            <li><a ui-sref="app.profile.address"><i class="icon icon-my-address"></i> </a></li>\n            <li><a ui-sref="app.profile.wallet"><i class="icon icon-wallet"></i> </a></li>\n            <li><a ui-sref="app.profile.transaction"><i class="icon icon-card-2"></i> </a></li>\n            <li><a ui-sref="app.profile.review"><i class="icon icon-comment"></i></a></li>\n            <li><a href="#" ng-click="logout()"><i class="icon icon-exit"></i></a></li>\n        </ul>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/profile/profile_transaction.html",'<profile-base></profile-base>\n<section class="profile-content">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n        <profile-sidebar-content></profile-sidebar-content>\n      </div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <div class="profile-transaction static-content-box clearfix">\n          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n              <div class="title-bar title-bar-2"><i class="icon icon-bullet"></i> <span\n                  class="color-red-1">  </span></div>\n            </div>\n            <div class="content-loader-holder" ng-if="showLoading">\n              <div class="content-loader">\n                <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n                <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n                <p class="text-center">    ...    </p>\n              </div>\n            </div>\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x" ng-show="!showLoading">\n              <div class="panel-details table-responsive">\n                <table class="table table-responsive table-striped">\n                  <thead>\n                  <tr>\n                    <td class="text-right">#</td>\n                    <td></td>\n                    <td>  </td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                    <td></td>\n                  </tr>\n                  </thead>\n                  <tbody>\n                  <transaction-directive>\n                    <tr ng-repeat="report in reports">\n                      <td class="text-right"> {{ $index + 1 + (currentPage - 1) * 10 }}</td>\n                      <td class="text-right">\n                        <p class="paragraph-in-table" ng-bind-html="report.payFor | htmlContent"></p>\n                      </td>\n                      <td>{{ report.paymentLogCreated | persian }}</td>\n                      <td>{{ (report.paymentLogBeforeUserCashBalance || 0) | number | persian }}</td>\n                      <td class="income">{{ (report.pay || 0) | number | persian }} <i class="fa fa-arrow-up"\n                                                                                       aria-hidden="true"></i>\n                      </td>\n                      <td class="outcome">{{ (report.use || 0 ) | number | persian }} <i class="fa fa-arrow-down"\n                                                                                         aria-hidden="true"></i></td>\n                      <td>\n                        {{ (report.paymentLogAfterUserCashBalance || 0) | number | persian }}\n                      </td>\n                    </tr>\n                  </transaction-directive>\n                  </tbody>\n                </table>\n                <div>\n                  <center><p ng-show="!totalItems && !showLoading">    </p></center>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <center>\n              <ul uib-pagination boundary-links="true" rotate="false" ng-model="currentPage" max-size="5"\n                  total-items="totalItems" items-per-page="10" previous-text="&rsaquo;" next-text="&lsaquo;"\n                  first-text="&raquo;" last-text="&laquo;" ng-change="onChangePage()"></ul>\n            </center>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/profile/profile_wallet.html",'<profile-base></profile-base>\n<section class="profile-content">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 pull-right sidebar-fix">\n        <profile-sidebar-content></profile-sidebar-content>\n      </div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <profile-account-directive>\n          <div class="profile-wallet static-content-box clearfix">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i>\n                  <span\n                      class="color-red-1">  </span></div>\n              </div>\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="msg">\n                  <i class="icon icon-bullet"></i>\n                      \n                  {{ calculateCacheBalance(cacheBalance) | number | persian }}  .\n                </div>\n              </div>\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="title-bar title-bar-2 green-title">\n                  <i class="icon icon-bullet"></i>\n                  <span>   ()</span>\n                </div>\n              </div>\n              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 pull-right">\n                <div class="form-group inner-addon right-inner-addon">\n                  <input type="text" ng-model="price" placeholder="   ()"\n                         required class="form-control default-input singleline-input">\n                  <span class="form-icon icon icon-gift"></span>\n                  <p style="color: red" ng-show="increaseError">\n                         .        \n                  </p>\n                </div>\n              </div>\n              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 col-xxs-12">\n                <button ng-click="showGatewayForm()"\n                        class="btn btn-default-sm btn-green">  ()\n                </button>\n              </div>\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="pay-role clearfix" ng-show="gatewayForm">\n                  <form role="form">\n                    <span class="role">\n                      <div class="bank-select clearfix">\n                        <div ng-repeat="gateway in bankgateways"\n                             class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right">\n                          <label>\n                            <input ng-model="bankid" value="{{ gateway.bankGatewayId }}" type="radio"\n                                   ng-checked="$index == 0 ? 1 : 0 "\n                                   name="bank-select" ng-click="changeBankGatway(gateway.bankGatewayId)">\n                            <span class="radio"><span class="checked-radio"></span></span>\n                            <span class="bank-radio">\n                              <span class="name">    {{ gateway.bankGatewayName }}</span>\n                              <img ng-src="{{ gateway.logo }}" class="gateway-logo">\n                              <!--<span class="logo saman hidden-xs hidden-xxs"></span>-->\n                            </span>\n                          </label>\n                        </div>\n                      </div>\n                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                        <p class="text-center">         </p>\n                        <ul class="list-inline list-nopadd list-unstyled list-banks text-center">\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                          <li><span></span></li>\n                        </ul>\n                      </div>\n                    </span>\n                  </form>\n                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                    <div\n                        class="col-lg-8 col-md-7 col-sm-7 col-xs-7 col-xxs-12 pull-right accept-law">\n                      <label><a ui-sref="app.staticpages.show({slug:\'law\'})">.   </a>\n                        <input ng-model="acceptConditions" value="true" type="checkbox" checked>\n                      </label>\n                    </div>\n                    <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5 col-xxs-12 nopadding-x">\n                      <button\n                          ng-disabled="!acceptConditions"\n                          ng-click="increasePriceGateway(price)"\n                          class="btn btn-default-sm"\n                          ng-class="{\'btn-green\' : acceptConditions , \'btn-disabled\' :!acceptConditions }">\n                        <div ng-show="isSpinnerShow">\n                          <spinner-loader></spinner-loader>\n                        </div>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="title-bar title-bar-2 purple-title">\n                  <i class="icon icon-bullet"></i>\n                  <span>    </span>\n                </div>\n              </div>\n              <!--use essential-read [class] for show message top of gift code -->\n              <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 pull-right">\n                <div class="form-group inner-addon right-inner-addon">\n                  <input type="text" ng-model="gift" placeholder=" " required\n                         class="form-control default-input singleline-input">\n                  <span class="form-icon icon icon-gift"></span>\n                </div>\n                <p style="color: red" ng-show="errorMsg">    </p>\n                <p style="color: red" ng-show="increaseGiftError">   </p>\n              </div>\n              <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 col-xxs-12">\n                <button class="btn btn-default-sm btn-purple"\n                        ng-click="increasePriceGift()">  \n                  <div ng-show="isGiftSpinnerShow">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </button>\n              </div>\n            </div>\n          </div>\n        </profile-account-directive>\n      </div>\n    </div>\n  </div>\n</section>'),e.put("/app/user/ngApp/templates/views/payment/halfpayment.html",'<div   ng-controller="paymentController">\n<nav class="mainnav navbar navigation-2 navbar-fixed-top affix-top" >\n  <div class="container">\n    <div class="navbar-header">\n      <button data-toggle="collapse" data-target="#collapse-main-nav" aria-expanded="false" class="navbar-toggle collapsed">\n        <spna class="src-only"></spna><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>\n      </button><a href="#" class="navbar-brand"><img src="assets/img/base/logo.png"></a>\n    </div>\n    <div id="collapse-main-nav" class="collapse navbar-collapse">\n      <ul class="nav navbar-nav navbar-right register">\n        <li> <a href="#"><i class="icon icon-pen-circle"></i> </a></li>\n        <li><a href="#"><i class="icon icon-key-circle"></i></a></li>\n        <li><a class="head-shopping"><span class="num"></span><i class="icon icon-basket2"></i></a></li>\n      </ul>\n    </div><span class="shoppingcart-popover">\n          <div class="arrow_box"></div>\n          <ul class="list-unstyled list-nopadd">\n            <li class="basket-item"><a href="#"> </a><span class="items-num"></span></li>\n            <li class="basket-item"><a href="#"> </a><span class="items-num"></span></li>\n          </ul></span>\n  </div>\n</nav>\n<header class="header-bar-2">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-lg-push-2 col-md-push-1">\n        <div class="input-group input-search-2 hidden-xxs">\n          <div class="input-group-btn hidden-xs">\n            <button class="btn btn-yellow force-btn"> &zwnj;</button>\n          </div>\n          <div class="the-basics">\n            <span class="twitter-typeahead" style="position: relative; display: block;"><input class="form-control form-xs typeahead tt-input" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: middle;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: iransans; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><div class="tt-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;"><div class="tt-dataset tt-dataset-states"></div></div></span>\n          </div>\n          <div class="input-group-btn">\n            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i></button>\n            <ul class="dropdown-menu list-unstyled text-right">\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n            </ul>\n            <button class="btn margin-right locator"><i class="icon icon-target"></i></button>\n          </div>\n        </div>\n        <div class="input-group-xxs input-search-xs-2 visible-xxs hidden-sm hidden-xs hidden-md hidden-lg">\n          <div class="input-group-btn displaybolock">\n            <button class="btn margin-right locator"><i class="icon icon-target"></i></button>\n            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i></button>\n            <ul class="dropdown-menu list-unstyled text-right">\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n              <li><a href="#"></a></li>\n            </ul>\n          </div>\n          <div class="the-basics">\n            <span class="twitter-typeahead" style="position: relative; display: block;"><input value="  " class="form-control typeahead tt-input" autocomplete="off" spellcheck="false" dir="auto" style="position: relative; vertical-align: middle;"><pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: iransans; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre><div class="tt-menu" style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;"><div class="tt-dataset tt-dataset-states"></div></div></span>\n          </div>\n        </div>\n        <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n          <button class="button btn-default-md btn btn-yellow force-btn xs-force"> &zwnj;</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</header>\n\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n            <li>\n                <a ui-sref="app.homepage"></a>\n            </li>\n            <li>\n                <a ui-sref="app.restaurants.index"> </a>\n            </li>\n            <li>\n                <a ui-sref="app.restaurantnew.show.menu({slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a>\n            </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="payment-content">\n  <div class="container">\n    <div class="row">\n      <div class="wrapper-sticky" style="display: block; height: 538px; width: 25%; margin: auto; position: relative; float: left; left: auto; right: auto; top: auto; bottom: auto; vertical-align: top;"><div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 sidebar-fix" style="width: 293px; top: 0px; bottom: auto; left: 0px; right: auto; position: absolute;">\n        <div id="basket" class="sidebar-shoppingcart sidebar-shoppingcart-factor clearfix">\n          <div class="header">\n            <div class="col-md-12"><span class="text"> </span></div>\n          </div>\n          <div class="shoppingcart-control clearfix" ng-if="fetcheddata">\n            <div class="col-md-12" ng-repeat="x in fetcheddata ">\n              <div class="shoppingcart-item">\n                <div class="item-header"><span class="name truncate">{{ x.f_foodName }} </span></div>\n                <div class="item-details"><span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                        <p class="truncate">{{x.f_foodPrice}} </p></span><span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x count">{{x.i_orderItemCount}} </span></div>\n              </div>\n            </div>\n\n            <div class="col-md-12">\n              <div class="additions">\n                <div class="delivery-price clearfix">\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="price truncate"> {{amount.carry}} </span></div>\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="text truncate"> :</span></div>\n                </div>\n                <div class="tax-price clearfix">\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="price truncate"> {{amount.tax}} </span></div>\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="text truncate">  :</span></div>\n                </div>\n                <div class="full-price clearfix">\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="price truncate"> {{amount.total}} </span></div>\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x"><span class="text truncate">  :</span></div>\n                </div>\n                <div class="deliver">\n                  <p class="text-center"> :  </p>\n                  <p class="text-center">  : {{amount.time}} </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div></div>\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n        <div class="payment-panel clearfix">\n          <div class="col-md-12 clearfix">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n              <div class="title-bar title-bar-2"><i class="icon icon-bullet"></i><span class="color-red-1">(                   )</span></div>\n            </div>\n            <div class="paysection clearfix">\n\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="pay-role">\n                  <form role="form" ng-show="bankgateways" >\n\n                    <label>\n                      <input ng-model="payment"  value="bank" type="radio" name="pay-select" checked><span class="radio"><span class="checked-radio"></span></span><span class="role"><span class="title">   &zwnj;    </span><span class="desc">(     )</span>\n                            <div class="bank-select">\n\n                              <div ng-repeat="xx in bankgateways" class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right">\n                                <label>\n                                  <input ng-model="bankids" ng-checked="bankgateways.length == 1" value="{{xx.bankGatewayId}}" type="radio" name="bank-select"><span class="radio"><span class="checked-radio"></span></span><span class="bank-radio"><span class="name">    {{ xx.bankGatewayName }}</span><span class="logo saman hidden-xs hidden-xxs"></span></span>\n                                </label>\n                              </div>\n                              <!--<div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">-->\n                              <!--<label>-->\n                              <!--<input ng-model="melat" type="radio" name="bank-select"><span class="radio"><span class="checked-radio"></span></span><span class="bank-radio"><span class="name">    </span><span class="logo mellat hidden-xs hidden-xxs"></span></span>-->\n                              <!--</label>-->\n                              <!--</div>-->\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                              <p class="text-center">&zwnj;    &zwnj;     </p>\n                              <ul class="list-inline list-nopadd list-unstyled list-banks text-center">\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                                <li><span></span></li>\n                              </ul>\n                            </div></span>\n                    </label>\n                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                      <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5 col-xxs-12 nopadding-x">\n                        <button ng-disabled="pay"  ng-click="CompeletOrderNow()" class="pay-btn btn btn-default-sm btn-green"></button>\n                      </div>\n                    </div>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n<section class="sub-section">\n  <div class="container">\n    <div class="row">\n      <div class="subscrib-box clearfix">\n        <div class="col-md-12 nopadding-x">\n          <div class="col-lg-6 col-md-8 col-sm-8 col-xs-12 col-lg-offset-3 col-md-offset-2 col-sm-offset-2 col-xs-offset-0">\n            <h2 class="text-center color-red-1">  </h2>\n            <p class="text-center">            .</p>\n            <div class="input-group input-search-2">\n              <div class="input-group-btn hidden-xs hidden-xxs">\n                <button class="btn btn-red force-btn"></button>\n              </div>\n              <input type="email" placeholder="" class="form-control">\n              <div class="input-group-btn">\n                <div class="dropup">\n                  <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-up"></i></button>\n                  <ul class="dropdown-menu list-unstyled text-right">\n                    <li><a href="#"></a></li>\n                    <li><a href="#"></a></li>\n                    <li><a href="#"></a></li>\n                    <li><a href="#"></a></li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n              <button class="button btn-default-sm btn btn-red force-btn xs-force"> &zwnj;</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n</div>'),
e.put("/app/user/ngApp/templates/views/payment/increase_success.html",'<div class="container res-successful general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box center-marg general-padding">\n          <div class="rs-row-success-img">\n            <img src="/app/user/assets/img/img-ico/res-success.png" class="center-marg"></div>\n          <div class="rs-row-success-title center-marg"> </div>\n          <div class="rs-row-success-sub-title center-marg">  {{ paymentAmount }}     </div>\n          <div class="rs-row-success-des">\n            <span\n              class="center-marg">       {{paymentId}}    .    {{ userCasheBalance }}   .</span>\n          </div>\n          <div class="rs-row-success-bttn">\n            <a ui-sref="app.profile.transaction"\n               class="btn btn-default-lg btn-green-2 center-marg">   </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/payment/pay_canceled.html",'<div class="container res-unsuccessful general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box center-marg general-padding">\n          <div class="rs-row-unsuccess-img">\n            <img src="/app/user/assets/img/img-ico/res-unsuccess.png" class="center-marg"></div>\n          <div class="rs-row-unsuccess-title center-marg"> </div>\n          <div class="rs-row-unsuccess-sub-title center-marg">      </div>\n          <div class="rs-row-unsuccess-des">\n            <span class="center-marg">&nbsp;</span>\n            <span class="center-marg cm-bottom">      </span>\n          </div>\n          <p>&nbsp;</p>\n          <div class="rs-row-unsuccess-bttn">\n            <a ui-sref="app.homepage" class="btn btn-default-lg btn-red center-marg"> </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/payment/pay_failed.html",'<div class="container res-unsuccessful general-setting">\n    <div class="col-lg-12 nopadding-x">\n        <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="col-xs-12 col-lg-12 nopadding-x">\n                <div class="static-content-box center-marg general-padding">\n                    <div class="rs-row-unsuccess-img">\n                        <img src="/app/user/assets/img/img-ico/res-unsuccess.png" class="center-marg"></div>\n                    <div class="rs-row-unsuccess-title center-marg"> </div>\n                    <div class="rs-row-unsuccess-sub-title center-marg">   </div>\n                    <div class="rs-row-unsuccess-des">\n                        <span class="center-marg">          \n                               72      .       \n                             2142091700          </span>\n                        <span class="center-marg cm-bottom">      </span>\n                    </div>\n                    <div class="rs-row-unsuccess-bttn">\n                        <a ui-sref="app.homepage" class="btn btn-default-lg btn-red center-marg">  </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/payment/pay_failed_link.html",'<div class="container res-unsuccessful general-setting">\n    <div class="col-lg-12 nopadding-x">\n        <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="col-xs-12 col-lg-12 nopadding-x">\n                <div class="static-content-box center-marg general-padding">\n                    <div class="rs-row-unsuccess-img">\n                        <img src="/app/user/assets/img/img-ico/res-unsuccess.png" class="center-marg"></div>\n                    <div class="rs-row-unsuccess-title center-marg"> </div>\n                    <div class="rs-row-unsuccess-sub-title center-marg">   </div>\n                    <div class="rs-row-unsuccess-des">\n                        <span class="center-marg">          \n                               72      .       \n                             2142091700          </span>\n                        <span class="center-marg cm-bottom">      </span>\n                    </div>\n                    <div class="rs-row-unsuccess-bttn">\n                        <a ui-sref="app.paylink({orderId: orderId})" class="btn btn-default-lg btn-green center-marg"> </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/payment/pay_success.html",'<div class="container res-successful general-setting">\n    <div class="col-lg-12 nopadding-x">\n        <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="col-xs-12 col-lg-12 nopadding-x">\n                <div class="static-content-box center-marg general-padding" style="padding: 45px 38px 45px !important;">\n                    <div class="rs-row-success-img" ng-show="successOrderCount>4">\n                        <img src="/app/user/assets/img/img-ico/res-success.png" class="center-marg"></div>\n                    <div class="rs-row-success-title center-marg"> </div>\n                    <div class="rs-row-success-sub-title center-marg">     </div>\n                    <div class="rs-row-success-des">\n                        <span class="center-marg">       {{orderId}}        </span>\n                    </div>\n                    <div class="rs-row-success-bttn hidden">\n                        <a ui-sref="app.profile.orderlist" class="btn btn-default-lg btn-green-2 center-marg"> </a>\n                    </div>\n                    <div class="rs-row-success-bttn">\n                        <a ui-sref="app.profile.orderlist" class="center-marg" href="/profile/orderlist"> </a>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- <section class="p-success-header">\n  <div class="panel-img">\n    <div class="box-img">\n      <img src="assets/img/bg/pay-success-header.png" alt=""/>\n    </div>\n  </div>\n  <div class="container">\n    <div class="row">\n      <div class="success-box">\n        <span>\n          <i class="icon icon-basket2"></i>\n                \n        \n        </span>\n      </div>\n    </div>\n  </div>\n</section> -->'),e.put("/app/user/ngApp/templates/views/payment/payment.html",'<div class="section-margin-top"></div>\n<restaurant-header data="restaurant"></restaurant-header>\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li>\n            <a ui-sref="app.homepage"></a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantsnew.index({city: restaurant.neighborhood.citySlug,slug: undefined})">\n                {{restaurant.neighborhood.cityName}} </a>\n\n          </li>\n          <li>\n            <a ui-sref="app.restaurantsnew.index({city: restaurant.neighborhood.citySlug ,slug: restaurant.neighborhood.slug})">\n                {{ restaurant.neighborhood.name}} </a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug ,slug: restaurant.slug})">{{restaurant.name}}</a>\n          </li>\n          <li>\n            <a ui-sref="app.pay({id: orderIdLink})"> </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="payment-content">\n  <div class="container">\n    <div class="row">\n      <internal-loading ng-if="contentSpinner"></internal-loading>\n      <div ng-show="!contentSpinner" ng-cloak class="clearfix">\n        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 sidebar-fix-p">\n          <div id="basket" class="sidebar-shoppingcart sidebar-shoppingcart-factor clearfix">\n            <div class="header clearfix sidebar-toggle">\n              <div class="col-md-12 nopadding-x">\n                <div class="col-lg-6 col-md-5 col-sm-6 col-xs-6">\n                  <div class="edit text-left">\n                    <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug ,slug: restaurant.slug})">\n                      <i class="icon icon-edit"></i>\n                      <span></span>\n                    </a>\n                  </div>\n                </div>\n                <div class="col-lg-6 col-md-7 col-sm-6 col-xs-6">\n                  <span class="text" ng-click="factorHide = !factorHide"> </span>\n                </div>\n              </div>\n            </div>\n            <div class="shoppingcart-control clearfix sidebar-content" ng-hide="factorHide">\n              <div class="col-md-12" ng-repeat="orderItem in orderItems">\n                <div class="shoppingcart-item">\n                  <div class="item-header">\n                    <span class="name truncate">{{ orderItem.foodName }}</span>\n                  </div>\n                  <div class="item-details">\n\n                    <!-- Ordering options -->\n                    <span ng-if="orderItem.options" ng-repeat="option in orderItem.options">\n                          <!-- <span class="col-md-6 col-sm-6 col-xs-6 nopadding-x price">\n                            <p class="truncate" style="font-size:10px;">+ {{option.foodOptionPrice |number|faText}} </p>\n                          </span> -->\n                          <span class="col-md-12" >\n                              <p class="truncate">{{option.foodOptionName }}</p>\n                          </span>\n\n                    </span>\n                    <!-- Ordering options -->\n\n\n                    <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                      <p class="truncate">{{ priceItem(orderItem) | number }} </p>\n                    </span>\n                    <span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x count">\n                      {{ orderItem.orderItemCount |number }} \n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-12">\n                <div class="additions">\n                  <div class="delivery-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate">\n                        {{amount.carry | number }} \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate">  :</span>\n                    </div>\n                  </div>\n                  <div class="delivery-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate">\n                        {{amount.pack | number }} \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate">  :</span>\n                    </div>\n                  </div>\n                  <div class="tax-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate">{{\n                        amount.tax |number }} \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate">  :</span>\n                    </div>\n                  </div>\n                  <div class="order-price clearfix" ng-if="gifted">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate"> {{ amount.total |number }} </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span\n                          class="text truncate">  :\n                      </span>\n                    </div>\n                  </div>\n                  <div class="lucky-section clearfix" ng-if="giftprice">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate gift">{{ giftprice |number }} </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate gift"> :</span>\n                    </div>\n                  </div>\n                  <div class="lucky-section clearfix" ng-if="bankAndAccount">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate gift">{{ amount.balance - userCashBalaneAfterPayment |number }} </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate gift">  :</span>\n                    </div>\n                  </div>\n                  <div class="full-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate"> {{ payAmount | number }} </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate">  :</span>\n                    </div>\n                  </div>\n                  <div class="deliver">\n                    <p class="text-center">\n                       :\n                      <span ng-if="!orderDeliveryType"> </span>\n                      <span ng-if="orderDeliveryType"> </span>\n                    </p>\n                    <p ng-show="restaurant.deliveryTime[0] != null && restaurant.deliveryTime[1] != null" class="text-center">  : {{ restaurant.deliveryTime[0] |number}} - {{\n                      restaurant.deliveryTime[1]\n                      |number}} </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n          <div class="payment-panel clearfix">\n            <div class="col-md-12">\n              <div ng-show="!restaurant.isOpen" class="alert alert-danger">\n                <div class="truncate message">\n                       .     \n\n                  <a style="text-decoration: underline; color: snow; cursor: pointer"\n                     ng-click="showRestaurantListByRegion()"> (   )</a>\n                </div>\n                <a href="#" data-dismiss="alert" class="close">\n                  <i class="icon icon-cancel"></i>\n                </a>\n              </div>\n            </div>\n            <div class="col-md-12 clearfix">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i>\n                  <span class="color-red-1">\n                     \n                  </span>\n                </div>\n              </div>\n              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                <div class="form-group inner-addon right-inner-addon" ng-form="userInformationForm">\n                  <input type="text" placeholder=" " required mobile-validation\n                         class="form-control default-input singleline-input" name="mobileno"\n                         ng-model="user.userMobileNumber" ng-blur="uniqueMobile()"\n                         ng-readonly="true" ng-disabled="true" onkeydown="return false;">\n                  <span class="form-icon icon icon-mobile"></span>\n                  <span class="help-block err-text"\n                        ng-show="userInformationForm.mobileno.$error.required">\n                       .\n                  </span>\n                  <span class="help-block err-text"\n                        ng-show="userInformationForm.mobileno.$error.mobileValidation && user.userMobileNumber.length > 0">\n                       .\n                  </span>\n                  <span class="help-block err-text"\n                        ng-show="userInformationForm.mobileno.$error.uniqueMobile\n                          && !userInformationForm.mobileno.$error.required\n                          && !userInformationForm.mobileno.$error.pattern">\n                         .\n                  </span>\n                </div>\n              </div>\n              <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                <div class="form-group inner-addon right-inner-addon">\n                  <input type="text" placeholder="   " required ng-readonly="true" ng-disabled="true"\n                         onkeydown="return false;" class="form-control default-input singleline-input"\n                         ng-model="user.userFullName">\n                  <span class="form-icon icon icon-user"></span>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-12 clearfix profile-content" ng-if="!orderDeliveryType">\n              <div class="profile-address clearfix">\n\n                <payment-address restaurant-id="restaurant.id" restaurant-name="restaurant.name"\n                check-address-availability="true"\n                user-address="userAddress" address-status="status">\n                </payment-address>\n              </div>\n            </div>\n            <div class="col-md-12 clearfix">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i>\n                  <span class="color-red-1">\n                     \n                  </span>\n                </div>\n              </div>\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <textarea\n                    ng-model="other.description"\n                    placeholder="          (     )"\n                    class="form-control default-input single-textarea"></textarea>\n              </div>\n            </div>\n            <div class="col-md-12 clearfix">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i>\n                  <span class="color-red-1"></span>\n                </div>\n              </div>\n              <div class="paysection">\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                  <div ng-show="(gifted==true || !userAddress.selected) && !orderDeliveryType && !gift"\n                       class="alert alert-warning">\n                    <div class="truncate message">\n                                      .\n                    </div>\n                  </div>\n                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-right nopadding-x">\n                    <div class="gift clearfix">\n                      <div class="col-lg-5 col-md-4 col-sm-4 col-xs-12 nopadding-x">\n                        <p>(         .)</p>\n                      </div>\n                      <div class="col-lg-7 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                        <form name="campaignForm" ng-submit="giftcard()">\n                          <div class="input-group input-search-2-sm">\n                            <div class="input-group-btn hidden-xxs">\n                              <button\n                                  ng-disabled="( giftButton || gifted==true || !userAddress.selected) && !orderDeliveryType"\n                                  class="btn btn-purple force-btn"\n                                  ng-class="{\'btn-purple\' : !giftButton && restaurant.isOpen , \'btn-disabled\' : giftButton || !restaurant.isOpen }">\n                                  \n                                <div ng-show="isGiftSpinnerShow">\n                                  <spinner-loader></spinner-loader>\n                                </div>\n                              </button>\n                            </div>\n                            <input\n                                ng-disabled="(giftButton || gifted==true || !userAddress.selected) && !orderDeliveryType"\n                                ng-model="gift" type="text" placeholder="    "\n                                class="form-control">\n                            <div class="input-group-btn hidden-xxs">\n                              <span class="btn ico">\n                                <i class="icon icon-gift"></i>\n                              </span>\n                            </div>\n                            <button\n                                ng-disabled="( giftButton || gifted==true || !userAddress.selected) && !orderDeliveryType" ng-class="{\'btn-purple\' : !giftButton && restaurant.isOpen , \'btn-disabled\' : giftButton || !restaurant.isOpen }"\n                                class="btn btn-default-sm force-btn hidden-xs hidden-md hidden-lg hidden-sm visible-xxs">\n                                \n                            </button>\n                          </div>\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-12 clearfix">\n              <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                <div class="title-bar title-bar-2">\n                  <i class="icon icon-bullet"></i>\n                  <span class="color-red-1"></span>\n                </div>\n              </div>\n              <div class="paysection clearfix">\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                  <div class="pay-role">\n                    <form role="form">\n                      <label>\n                        <input type="radio" name="pay-select" ng-model="payment" value="bank" checked>\n\n                        <span class="role">\n                          <span class="title">       </span>\n                          <span class="desc">(     )</span>\n                          <div class="bank-select clearfix">\n                            <div ng-show="amount.balance > 0"\n                                 class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                              <label class="stock-pay">\n                                <input type="checkbox" name="bank-select"\n                                       ng-model="bankAndAccount"\n                                       ng-change="useCashWithBank()">\n                                <span class="bank-radio">\n                                  <span class="title">    \n                                  </span>\n                                  <span class="value">(  \n                                    {{ amount.balance | number}}\n                                     )\n                                  </span>\n                                </span>\n                                <div class="err-text" ng-show="bankAndAccount && payAmount > 0">\n                                  <br>\n                                   {{payAmount |number}}       \n                                      \n                                </div>\n                              </label>\n                            </div>\n                          </div>\n                          <div ng-repeat="gateway in bankgateways"\n                              ng-show="payAmount > 0"\n                               class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right" >\n                            <label>\n                              <input ng-model="bankid" value="{{ gateway.bankGatewayId }}" type="radio" ng-checked="$index == 0 ? 1 : 0 "\n                                     name="bank-select" ng-click="changeBankGatway(gateway.bankGatewayId)">\n                              <span class="radio"><span class="checked-radio"></span></span>\n                              <span class="bank-radio">\n                                <span class="name">    {{ gateway.bankGatewayName }}</span>\n                                <img ng-src="{{ gateway.logo }}" class="gateway-logo">\n                                <!--<span class="logo saman hidden-xs hidden-xxs"></span>-->\n                              </span>\n                            </label>\n                          </div>\n                        </span>\n                      </label>\n                      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                        <div\n                            class="col-lg-8 col-md-7 col-sm-7 col-xs-7 col-xxs-12 pull-right nopadding-x accept-law">\n                          <label>\n                            <a ui-sref="app.staticpages.show({slug:\'law\'})">.   </a>\n                            <input ng-model="acceptConditions" value="true" type="checkbox" checked>\n                          </label>\n                        </div>\n                        <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5 col-xxs-12 nopadding-x">\n                          <button\n                              ng-disabled="payButton || userInformationForm.mobileno.$error.mobileValidation || !acceptConditions"\n                              ng-click="OrderNow()"\n                              class="pay-btn btn btn-default-sm"\n                              ng-class="{\'btn-green\' : !payButton  && restaurant.isOpen , \'btn-disabled\' : payButton || !restaurant.isOpen || !acceptConditions }">\n                            {{ paymentButtonText}}\n                            <div ng-show="isSpinnerShow">\n                              <spinner-loader></spinner-loader>\n                            </div>\n                          </button>\n                        </div>\n                      </div>\n                    </form>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/views/payment/payment_backup.html",'<div ng-controller="paymentController">\n    <nav class="mainnav navbar navigation-2 navbar-fixed-top affix-top">\n        <div class="container">\n            <div class="navbar-header">\n                <button\n                    data-toggle="collapse"\n                    data-target="#collapse-main-nav"\n                    aria-expanded="false"\n                    class="navbar-toggle collapsed">\n                    <spna class="src-only"></spna>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                    <span class="icon-bar"></span>\n                </button>\n                <a href="#" class="navbar-brand"><img src="assets/img/base/logo.png"></a>\n            </div>\n            <div id="collapse-main-nav" class="collapse navbar-collapse">\n                <ul class="nav navbar-nav navbar-right register">\n                    <li>\n                        <a href="#">\n                            <i class="icon icon-pen-circle"></i> </a>\n                    </li>\n                    <li>\n                        <a href="#">\n                            <i class="icon icon-key-circle"></i></a>\n                    </li>\n                    <li>\n                        <a class="head-shopping">\n                            <span class="num"></span>\n                            <i class="icon icon-basket2"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n            <span class="shoppingcart-popover">\n                <div class="arrow_box"></div>\n                <ul class="list-unstyled list-nopadd">\n                    <li class="basket-item">\n                        <a href="#"> </a>\n                        <span class="items-num"></span>\n                    </li>\n                    <li class="basket-item">\n                        <a href="#"> </a>\n                        <span class="items-num"></span>\n                    </li>\n                </ul>\n            </span>\n        </div>\n    </nav>\n    <header class="header-bar-2">\n        <div class="container">\n            <div class="row">\n                <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-lg-push-2 col-md-push-1">\n                    <div class="input-group input-search-2 hidden-xxs">\n                        <div class="input-group-btn hidden-xs">\n                            <button class="btn btn-yellow force-btn"> &zwnj;</button>\n                        </div>\n                        <div class="the-basics">\n                            <span class="twitter-typeahead" style="position: relative; display: block;"><input\n                                class="form-control form-xs typeahead tt-input"\n                                autocomplete="off"\n                                spellcheck="false"\n                                dir="auto"\n                                style="position: relative; vertical-align: middle;">\n                                <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: iransans; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre>\n                                <div\n                                    class="tt-menu"\n                                    style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;">\n                                    <div class="tt-dataset tt-dataset-states"></div>\n                                </div>\n                            </span>\n                        </div>\n                        <div class="input-group-btn">\n                            <button\n                                type="button"\n                                data-toggle="dropdown"\n                                aria-haspopup="true"\n                                aria-expanded="false"\n                                class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i>\n                            </button>\n                            <ul class="dropdown-menu list-unstyled text-right">\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                            </ul>\n                            <button class="btn margin-right locator">\n                                <i class="icon icon-target"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div\n                        class="input-group-xxs input-search-xs-2 visible-xxs hidden-sm hidden-xs hidden-md hidden-lg">\n                        <div class="input-group-btn displaybolock">\n                            <button class="btn margin-right locator">\n                                <i class="icon icon-target"></i>\n                            </button>\n                            <button\n                                type="button"\n                                data-toggle="dropdown"\n                                aria-haspopup="true"\n                                aria-expanded="false"\n                                class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i>\n                            </button>\n                            <ul class="dropdown-menu list-unstyled text-right">\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                                <li>\n                                    <a href="#"></a>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="the-basics">\n                            <span class="twitter-typeahead" style="position: relative; display: block;"><input\n                                value="  "\n                                class="form-control typeahead tt-input"\n                                autocomplete="off"\n                                spellcheck="false"\n                                dir="auto"\n                                style="position: relative; vertical-align: middle;">\n                                <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: iransans; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre>\n                                <div\n                                    class="tt-menu"\n                                    style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;">\n                                    <div class="tt-dataset tt-dataset-states"></div>\n                                </div>\n                            </span>\n                        </div>\n                    </div>\n                    <div\n                        class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n                        <button class="button btn-default-md btn btn-yellow force-btn xs-force"> &zwnj;</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </header>\n    <section class="restaurant-header">\n        <div class="panel-img">\n            <div class="overlay"></div>\n            <div class="container">\n                <div class="row">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-right">\n                        <div class="restaurant-info-1">\n                            <span class="restaurant-logo-rate"><img src="assets/img/img-ico/konjed.png">\n                                <ul class="list-inline rating">\n                                    <li class="active">\n                                        <i class="icon icon-star-fill"></i>\n                                    </li>\n                                    <li class="active">\n                                        <i class="icon icon-star-fill"></i>\n                                    </li>\n                                    <li class="active">\n                                        <i class="icon icon-star-fill"></i>\n                                    </li>\n                                    <li>\n                                        <i class="icon icon-star-fill"></i>\n                                    </li>\n                                    <li>\n                                        <i class="icon icon-star-fill"></i>\n                                    </li>\n                                </ul>\n                            </span>\n                            <span class="restaurant-deatail">\n                                <span class="title">\n                                    <h1> </h1>\n                                </span>\n                                <p class="address">\n                                    <i class="icon icon-pin-2"></i>  &zwnj;     23  9</p>\n                                <p class="delivery-time">\n                                    <i class="icon icon-truck2"></i>  : 30 </p>\n                            </span>\n                        </div>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">\n                        <div class="restaurant-state active-restaurant">\n                            <span class="text">  </span>\n                            <span class="state">\n                                <i class="icon icon-opendoor"></i>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <div class="container">\n        <div class="row">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="bread-crumbs">\n                    <ul class="list-inline list-unstyled list-nopadd">\n                        <li>\n                            <a ui-sref="app.homepage"></a>\n                        </li>\n                        <li>\n                            <a ui-sref="app.restaurants.index"> </a>\n                        </li>\n                        <li>\n                            <a ui-sref="app.restaurantnew.show.menu({slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <section class="payment-content">\n        <div class="container">\n            <div class="row">\n                <div\n                    class="wrapper-sticky"\n                    style="display: block; height: 538px; width: 25%; margin: auto; position: relative; float: left; left: auto; right: auto; top: auto; bottom: auto; vertical-align: top;">\n                    <div\n                        class="col-lg-3 col-md-3 col-sm-12 col-xs-12 sidebar-fix"\n                        style="width: 293px; top: 0px; bottom: auto; left: 0px; right: auto; position: absolute;">\n                        <div\n                            id="basket"\n                            class="sidebar-shoppingcart sidebar-shoppingcart-factor clearfix">\n                            <div class="header">\n                                <div class="col-md-12">\n                                    <span class="text"> </span>\n                                </div>\n                            </div>\n                            <div class="shoppingcart-control clearfix" ng-if="fetcheddata">\n                                <div class="col-md-12" ng-repeat="x in fetcheddata ">\n                                    <div class="shoppingcart-item">\n                                        <div class="item-header">\n                                            <span class="name truncate">{{ x.f_foodName }}\n                                            </span>\n                                        </div>\n                                        <div class="item-details">\n                                            <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                                                <p class="truncate">{{x.f_foodPrice}}\n                                                    </p>\n                                            </span>\n                                            <span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x count">{{x.i_orderItemCount}}\n                                                </span>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class="col-md-12">\n                                    <div class="additions">\n                                        <div class="delivery-price clearfix">\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="price truncate">\n                                                    {{amount.carry}}\n                                                    </span>\n                                            </div>\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="text truncate"> :</span>\n                                            </div>\n                                        </div>\n                                        <div class="tax-price clearfix">\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="price truncate">\n                                                    {{amount.tax}}\n                                                    </span>\n                                            </div>\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="text truncate">  :</span>\n                                            </div>\n                                        </div>\n\n                                        <div class="tax-price clearfix" ng-if="gifted">\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="price truncate">\n                                                    {{ giftprice }}\n                                                    </span>\n                                            </div>\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="text truncate">\n                                                     :</span>\n                                            </div>\n                                        </div>\n\n                                        <div class="full-price clearfix">\n\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="price truncate">\n                                                    {{amount.total}}\n                                                    </span>\n                                            </div>\n                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                                                <span class="text truncate">  :</span>\n                                            </div>\n                                        </div>\n                                        <div class="deliver">\n                                            <p class="text-center"> :  </p>\n                                            <p class="text-center">  :\n                                                {{amount.time}}\n                                                </p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n                    <div class="payment-panel clearfix">\n                        <div class="col-md-12 clearfix" ng-if="other.id">\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                                <div class="title-bar title-bar-2">\n                                    <i class="icon icon-bullet"></i>\n                                    <span class="color-red-1">\n                                         </span>\n                                </div>\n                            </div>\n                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                                <div class="form-group inner-addon right-inner-addon">\n                                    <input\n                                        type="text"\n                                        ng-model="other.phone"\n                                        value="{{other.phone}}"\n                                        placeholder=" "\n                                        required=""\n                                        class="form-control default-input singleline-input">\n                                    <span class="form-icon icon icon-user"></span>\n                                </div>\n                            </div>\n                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">\n                                <div class="form-group inner-addon right-inner-addon">\n                                    <input\n                                        ng-model="other.name"\n                                        value="{{other.name}}"\n                                        disabled\n                                        type="text"\n                                        placeholder="   "\n                                        required=""\n                                        class="form-control default-input singleline-input">\n                                    <span class="form-icon icon icon-mobile"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="col-md-12 clearfix">\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                                <div class="title-bar title-bar-2">\n                                    <i class="icon icon-bullet"></i>\n                                    <span class="color-red-1">  </span>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                                <div class="select-address">\n                                    <form role="form">\n\n                                        <label ng-repeat="x in address ">\n                                            <input\n                                                type="radio"\n                                                value="{{x.model_userAddressId}}"\n                                                name="selectedaddress"\n                                                ng-model="addr.selectedaddress">\n                                            <span class="radio">\n                                                <span class="checked-radio"></span>\n                                            </span>\n                                            <span class="address-box">\n                                                <span class="add-label">{{x.model_userAddresseName}}</span>\n                                                <span class="city">{{x.region_regionName}}\n                                                    -\n                                                    {{x.region1_regionName}}</span>\n                                                <span class="address">{{x.model_userAddressesComplete}}</span>\n                                            </span>\n                                        </label>\n\n                                        <label class="new-address" ng-if="addresses">\n                                            <input type="radio" ng-model="newaddr.new" value="1" name="selectedaddress">\n                                            <span class="radio">\n                                                <span class="checked-radio"></span>\n                                            </span>\n                                            <span class="address-box">\n                                                <span class="add-label">\n                                                    <input\n                                                        ng-model="newaddr.userAddresseName"\n                                                        type="text"\n                                                        placeholder="  (    ...)"\n                                                        class="form-control"></span>\n                                                <span class="city the-basics">\n                                                    <select ng-model="newaddr.userAddressCityId">\n                                                        <option value="1"></option>\n                                                    </select>\n                                                    <i class="icon icon-arrow-down"></i>\n                                                </span>\n                                                <span class="quarter the-basics">\n                                                    <span class="twitter-typeahead" style="position: relative; display: block;">\n                                                        <input\n                                                            type="text"\n                                                            id="typeahead"\n                                                            placeholder=" "\n                                                            dir="rtl"\n                                                            class="form-control typeahead tt-input"\n                                                            autocomplete="on"\n                                                            spellcheck="false"\n                                                            style="position: relative; vertical-align: middle;">\n                                                        <pre aria-hidden="true" style="position: absolute; visibility: hidden; white-space: pre; font-family: iransans; font-size: 12px; font-style: normal; font-variant: normal; font-weight: 400; word-spacing: 0px; letter-spacing: 0px; text-indent: 0px; text-rendering: auto; text-transform: none;"></pre>\n                                                        <div\n                                                            class="tt-menu"\n                                                            style="position: absolute; top: 100%; left: 0px; z-index: 100; display: none;">\n                                                            <div class="tt-dataset tt-dataset-states"></div>\n                                                        </div>\n                                                    </span>\n                                                </span>\n                                                <span class="address">\n                                                    <input\n                                                        ng-model="newaddr.userAddressesComplete"\n                                                        type="text"\n                                                        placeholder="     ..."\n                                                        class="form-control"></span>\n                                            </span>\n                                        </label>\n                                    </form>\n                                </div>\n                                <button\n                                    ng-show="newadd"\n                                    ng-click="addAdress()"\n                                    class="btn btn-custom-blue btn-default-sm add-address">\n                                    <i class="icon icon-plus2"></i> </button>\n                            </div>\n                        </div>\n                        <div class="col-md-12 clearfix">\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                                <div class="title-bar title-bar-2">\n                                    <i class="icon icon-bullet"></i>\n                                    <span class="color-red-1">\n                                         </span>\n                                </div>\n                            </div>\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                                <textarea\n                                    ng-model="other.description"\n                                    placeholder="          (   &zwnj;  )"\n                                    class="form-control default-input single-textarea"></textarea>\n                            </div>\n                        </div>\n                        <div class="col-md-12 clearfix">\n                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                                <div class="title-bar title-bar-2">\n                                    <i class="icon icon-bullet"></i>\n                                    <span class="color-red-1"></span>\n                                </div>\n                            </div>\n                            <div class="paysection clearfix">\n                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                                    <div class="col-lg-7 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                                        <div class="gift">\n                                            <label>        .</label>\n                                            <div class="input-group input-search-2-sm">\n                                                <div class="input-group-btn hidden-xxs">\n                                                    <button\n                                                        ng-disabled="gifted==true"\n                                                        ng-click="giftcard()"\n                                                        class="btn btn-purple force-btn">  </button>\n                                                </div>\n                                                <input\n                                                    ng-disabled="gifted==true"\n                                                    ng-model="gift"\n                                                    type="text"\n                                                    placeholder="    "\n                                                    class="form-control">\n                                                <button\n                                                    class="btn btn-purple btn-default-sm force-btn hidden-xs hidden-md hidden-lg hidden-sm visible-xxs">  </button>\n                                                <div class="input-group-btn hidden-xxs">\n                                                    <span class="btn ico">\n                                                        <i class="icon icon-gift"></i>\n                                                    </span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                                    <div class="pay-role">\n                                        <form role="form" ng-show="bankgateways">\n                                            <label>\n                                                <input ng-model="payment" value="inplace" type="radio" name="pay-select">\n                                                <span class="radio">\n                                                    <span class="checked-radio"></span>\n                                                </span>\n                                                <span class="role">\n                                                    <span class="title">  \n                                                    </span>\n                                                    <span class="desc">(       &zwnj;)</span>\n                                                </span>\n                                            </label>\n                                            <label ng-show="amount" ng-gif="amount.balance > 0">\n                                                <input ng-model="payment" value="account" type="radio" name="pay-select">\n                                                <span class="radio">\n                                                    <span class="checked-radio"></span>\n                                                </span>\n                                                <span class="role">\n                                                    <span class="title">    \n                                                    </span>\n                                                    <span class="desc">(  \n                                                        {{amount.balance}}\n                                                         )</span>\n                                                </span>\n                                            </label>\n                                            <label>\n                                                <input ng-model="payment" value="bank" type="radio" name="pay-select">\n                                                <span class="radio">\n                                                    <span class="checked-radio"></span>\n                                                </span>\n                                                <span class="role">\n                                                    <span class="title">   &zwnj;    </span>\n                                                    <span class="desc">(     )</span>\n                                                    <div class="bank-select">\n\n                                                        <div\n                                                            ng-repeat="gateway in bankgateways"\n                                                            class="col-lg-6 col-md-6 col-sm-12 col-xs-12 pull-right">\n                                                            <label>\n                                                                <input\n                                                                    ng-model="bankids"\n                                                                    ng-checked="bankgateways.length == 1"\n                                                                    value="{{gateway.bankGatewayId}}"\n                                                                    type="radio"\n                                                                    name="bank-select">\n                                                                <span class="radio">\n                                                                    <span class="checked-radio"></span>\n                                                                </span>\n                                                                <span class="bank-radio">\n                                                                    <span class="name">   \n                                                                        {{ gateway.bankGatewayName }}</span>\n                                                                    <span class="logo saman hidden-xs hidden-xxs"></span>\n                                                                </span>\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                                                        <p class="text-center">&zwnj;    &zwnj;     </p>\n                                                        <ul class="list-inline list-nopadd list-unstyled list-banks text-center">\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                            <li>\n                                                                <span></span>\n                                                            </li>\n                                                        </ul>\n                                                    </div>\n                                                </span>\n                                            </label>\n                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n                                                <div\n                                                    class="col-lg-8 col-md-7 col-sm-7 col-xs-7 col-xxs-12 pull-right nopadding-x accept-law">\n                                                    <label>\n                                                        <a href="#">.   &zwnj;</a>\n                                                        <input ng-model="acceptConditions" value="true" type="checkbox">\n                                                    </label>\n                                                </div>\n                                                <div class="col-lg-4 col-md-5 col-sm-5 col-xs-5 col-xxs-12 nopadding-x">\n                                                    <button\n                                                        ng-disabled="pay"\n                                                        ng-click="OrderNow()"\n                                                        class="pay-btn btn btn-default-sm btn-green"></button>\n                                                </div>\n                                            </div>\n                                        </form>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    <section class="sub-section">\n        <div class="container">\n            <div class="row">\n                <div class="subscrib-box clearfix">\n                    <div class="col-md-12 nopadding-x">\n                        <div\n                            class="col-lg-6 col-md-8 col-sm-8 col-xs-12 col-lg-offset-3 col-md-offset-2 col-sm-offset-2 col-xs-offset-0">\n                            <h2 class="text-center color-red-1">  </h2>\n                            <p class="text-center">       \n                                    .</p>\n                            <div class="input-group input-search-2">\n                                <div class="input-group-btn hidden-xs hidden-xxs">\n                                    <button class="btn btn-red force-btn"></button>\n                                </div>\n                                <input type="email" placeholder="" class="form-control">\n                                <div class="input-group-btn">\n                                    <div class="dropup">\n                                        <button\n                                            type="button"\n                                            data-toggle="dropdown"\n                                            aria-haspopup="true"\n                                            aria-expanded="false"\n                                            class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-up"></i>\n                                        </button>\n                                        <ul class="dropdown-menu list-unstyled text-right">\n                                            <li>\n                                                <a href="#"></a>\n                                            </li>\n                                            <li>\n                                                <a href="#"></a>\n                                            </li>\n                                            <li>\n                                                <a href="#"></a>\n                                            </li>\n                                            <li>\n                                                <a href="#"></a>\n                                            </li>\n                                        </ul>\n                                    </div>\n                                </div>\n                            </div>\n                            <div\n                                class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n                                <button class="button btn-default-sm btn btn-red force-btn xs-force"> &zwnj;</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</div>'),
e.put("/app/user/ngApp/templates/views/restaurants/all.html",'<header class="header-bar-2">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-xs-12 col-lg-push-2 col-md-push-1">\n        <div>\n          <search-section></search-section>\n        </div>\n      </div>\n    </div>\n  </div>\n</header>\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li>\n            <a ui-sref="app.homepage"></a>\n          </li>\n          <li>\n            <a ng-if="stateCurrentName != \'app.restaurants.discounted\'" ui-sref="app.restaurantsnew.index({city: userLocation.data.citySlug || citySlug })">   {{userLocation.data.cityName || cityName}} </a>\n            <a ng-if="stateCurrentName == \'app.restaurants.discounted\'" ui-sref="app.restaurantsnew.index({city: userLocation.data.citySlug || citySlug,discount: 1 })">     {{userLocation.data.cityName || cityName}} </a>\n          </li>\n          <li>\n            <!-- <a ui-sref="app.restaurant.show({city: cityName ,slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a> -->\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="restarurant-cat">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-9 col-md-3 col-sm-12 col-xs-12 stick-parent sidebar-fix pull-right clearfix">\n        <div class="filter-wrapper scrollbar-dynamic" ng-controller="filtersController">\n          <div class="filter">\n            <div class="sidebar-toggle visible-xs visible-xxs visible-sm clearfix" ng-click="hideFilter = !hideFilter">\n              <span class="text-right pull-right">   </span>\n              <i class="toggle-arrow-target icon pull-left " ng-class="{\'icon-arrow-up\':!hideFilter ,\'icon-arrow-down\':hideFilter}"></i>\n            </div>\n            <ul class="list-inline list-unstyled grid-view-change hidden-xs hidden-xxs text-right">\n              <li id="grid-view" ng-click="changeView(\'grid\')" ng-class="{\'active\' : sharedData.gridView}">\n                <i class="icon icon-group1"></i>\n              </li>\n              <li id="row-view" ng-click="changeView(\'row\')" ng-class="{\'active\' : !sharedData.gridView}">\n                <i class="icon icon-row-view"></i>\n              </li>\n              <li class="reset-config">\n                <p class=" text-right" ng-click="resetRestaurantSetting()">  </p>\n              </li>\n            </ul>\n            <div class="sidebar-content" ng-hide="hideFilter">\n\n              <div class="search-box">\n                <form ng-submit="searchFormSubmit()">\n                  <input ng-model="searchKeyword" type="text" placeholder="    ...">\n                  <i ng-click="searchFormSubmit()" class="icon icon-search" ng-hide="showSpinner"></i>\n                  <div ng-show="showSpinner">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </form>\n              </div>\n              <div class="divider clearfix"></div>\n\n              <div data-toggle="dropdown-rest" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>   </span>\n\n                <span class="pull-left">\n                  <spinner-loader></spinner-loader>\n                </span>\n              </div>\n              <div data-toggle="dropdown-rest" class="sort-btn clearfix" ng-show="!restaurantsList.loading" ng-click=" toggleType = !toggleType">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>   </span>\n\n                <span class="pull-left">\n                  <i class="icon" ng-class="(toggleType && !restaurantsList.loading) ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n                </span>\n              </div>\n              <ul ng-show="toggleType && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="restaurantType in restaurantsList.restaurantTypes | toArray |  orderBy:\'-count\'| limitTo: restaurantToggleLimit">\n                  <a ng-click="filterByRestaurantType(restaurantType.tagId)" class="truncate" ng-class="{active : restaurantFilters[restaurantType.tagId] }"> {{ restaurantType.tagName }} ( {{ restaurantType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.restaurantTypes) > 4" class="show-more-btn-sec" ng-click="changeRestaurantToggle()" style="cursor: pointer;"> {{ restaurantToggleCurrentStatus }}</li>\n              </ul>\n              <div data-toggle="dropdown" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>   </span> <span class="pull-left">\n                <spinner-loader></spinner-loader>\n              </span>\n              </div>\n              <div data-toggle="dropdown" ng-show="!restaurantsList.loading" class="sort-btn clearfix" ng-click=" toggleFood = !toggleFood ">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>   </span> <span class="pull-left">\n                <i class="icon" ng-class="(toggleFood  && !restaurantsList.loading)  ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n              </span>\n              </div>\n              <ul ng-show="toggleFood  && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="foodType in restaurantsList.foodTypes | toArray |  orderBy:\'-count\' | limitTo: foodToggleLimit">\n                  <a ng-click="filterByFoodType(foodType.tagId)" ng-class="{active : foodFilters[foodType.tagId] }" class="truncate"> {{foodType.tagName}} ( {{ foodType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.foodTypes) > 4" class="show-more-btn-sec" ng-click="changeFoodToggle()" style="cursor: pointer;"> {{ foodToggleCurrentStatus }}\n                </li>\n              </ul>\n              <div class="divider clearfix">\n                <span class="text pull-right">  </span> <span class="pull-left">\n                <i class="icon icon-sort-2"></i> </span>\n              </div>\n              <div data-toggle="dropdown" class="sort-btn clearfix">\n                <ul class="sort-list list-unstyled list-unstyled list-nopadd">\n                  <li>\n                    <a ng-if="!restaurantsList.loading" ng-click="sortByTime(timeToggle,rateToggle,financialToggle)" ng-class="timeToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-transport"></i>   (  ) </a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByRate(timeToggle,rateToggle,financialToggle)" ng-class="rateToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-star-null"></i> </a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByFinancialLevel(timeToggle,rateToggle,financialToggle)" ng-class="financialToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-money"></i>  </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 pull-left">\n        <div id="container-cats">\n          <div class="content-loader-holder" ng-if="restaurantsList.loading">\n            <div class="content-loader">\n              <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n              <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n              <p class="text-center">  </p>\n            </div>\n          </div>\n          <div class="row" ng-hide="restaurantsList.loading">\n\n            <div ng-if="!restaurantsList.list || restaurantsList.list.length == 0" class="col-md-12">\n              <div class="empty-resault">\n                <div class="empty-content">\n                  <img src="app/user/assets/img/img-ico/nulllcontent.png" class="img-responsive center-block">\n                  <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 col-xs-offset-0 col-xxs-12">\n                    <div class="col-md-6">\n                      <a ui-sref="app.cooperation" class="btn btn-default-sm btn-green-2 " href="/cooperation">   </a>\n                    </div>\n                    <div class="col-md-6">\n                      <a ng-click="resetRestaurantSetting()" class="btn btn-default-sm btn-red">    </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <restaurant  city="citySlug"  ng-repeat="restaurant in restaurantsList.list | toArray | limitTo: repeatLimit" restaurant="restaurant" grid-view="sharedData.gridView" index="$index"  in-method="increaseRepeatLimit(inview, index)"></restaurant>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</section>'),e.put("/app/user/ngApp/templates/views/restaurants/comment.html",'<div class="fullWidth default-tab-content comment-tab-wrapper" ng-if="selectedTab.bool === 1">\n    <div ng-show="loading">\n        <internal-loading></internal-loading>\n    </div>\n    <section class="user-reviews user-review-in-tab" ng-show="! loading">\n        <div class="user-rates">\n            <div class="user-rates-wrapper fullWidth">\n                <div class="border-light-gray-1 clearfix stars-wrapper inline-block">\n                    <ul class="list-nopadd list-unstyled list-inline star-rating-custom inline-block no-margin">\n                        <rating stars="restaurant.rateAverage"></rating>\n                    </ul>\n                    <div class="star-rate-item star-data">\n                        <div>{{ restaurant.rateAverage | persian}}</div>\n\n                        <div class="star-count-number light-gray font-small">\n                            <div>(</div>\n                            <div>\n                                <i class="icon icon-person"></i>\n                            </div>\n                            <div class="user-rate-num somePaddingRight">{{restaurant.commentCount ? restaurant.commentCount : 0}}</div>\n                            <div>)</div>\n                        </div>\n\n                    </div>\n                </div>\n                <div class="rates-number">\n                    <div ng-show="foodQualityVisible" class="columns food-quality">\n                        <div class="font-small">\n                            <span class="light-gray"> </span>\n                            <rate number="foodQuality"></rate>\n                        </div>\n                    </div>\n\n                    <div ng-show="deliverySpeedVisible" class="columns delivery-speed fivePaddingInRight">\n                        <div class="font-small">\n                            <span class="light-gray"> </span>\n                            <rate number="deliverySpeed"></rate>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="emoji-container text-center real-big-font-icon">\n            <div class="emoji-item text-center">\n\n                <circle-progress-bar-with-emoji percentage="rateCountAvgThree" progress-bar-color="#32c343" face="happy" font-size="font-icon-large"\n                    color="default"></circle-progress-bar-with-emoji>\n                <p>{{rateCountAvgThree}}\n                    <span>% </span>\n                </p>\n\n            </div>\n            <div class="emoji-item text-center">\n                <circle-progress-bar-with-emoji percentage="rateCountAvgTwo" progress-bar-color="#ffc200" face="normal" font-size="font-icon-large"\n                    color="default"></circle-progress-bar-with-emoji>\n                <p>{{rateCountAvgTwo}}\n                    <span>% </span>\n                </p>\n            </div>\n            <div class="emoji-item text-center">\n                <circle-progress-bar-with-emoji percentage="rateCountAvgOne" progress-bar-color="#ef4556" face="sad" font-size="font-icon-large"\n                    color="default"></circle-progress-bar-with-emoji>\n                <p> {{rateCountAvgOne}}\n                    <span> % </span>\n                </p>\n            </div>\n        </div>\n    </section>\n    <section class="comment-emoji-holder fullWidth">\n        <div class="your-comment-emojis background-pattern" ng-show="commentVisibility">\n            <!--further form-->\n            <order-comment-form ids="ids" foods="lastOrder.items" order="lastOrder" restaurant-id="restaurant.id" date="date"></order-comment-form>\n            <!--end of further form-->\n        </div>\n    </section>\n    <section class="user-comments">\n        <comments-list comments="comments.comments" total-comment="comments.totalComment" restaurant-id="restaurant.id" restaurant-profile="restaurant.profile" ng-if="comments !== undefined"></comments-list>\n    </section>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/food-item-vertical.html",'<div class="col-lg-4 col-md-6 hidden-sm hidden-xs hidden-xxs pull-right">\n    <div class="fullWidth food-item-wrapper food-item-vertical-wrapper relativeMatter" ng-class="{\'there-is-no-food\': food.status !== 1 && restaurant.isOpen === true}">\n        <div class="fullWidth relativeMatter image-holder">\n            <img class="cursor-pointer" ng-click="openDetailModal(food)" ng-src="{{food.image}}">\n            <span class="new-icon new-icon-Search_icon2 absoluteMatter zoom-icon-on-image cursor-pointer"\n                  ng-click="openDetailModal(food)"></span>\n        </div>\n        <div class="fullWidth food-item-bottom-section">\n            <div class="fullWidth">\n                <p class="food-title cursor-pointer" ng-click="nameAction(food)">{{food.name}}</p>\n                <span class="food-tags truncateText inline-block">{{food.description}}</span>\n            </div>\n        </div>\n        <div class="fullWidth food-item-price-section absoluteMatter">\n            <div class="fullWidth text-left food-tags-container">\n                <span style="display: none;" class="new-icon new-icon-veg_tag veg-icon"></span>\n                <span style="display: none;" class="new-icon new-icon-spicy_tag spicy-icon"></span>\n            </div>\n            <div class="fullWidth food-item-price-container">\n                <div class="halfWidth price-wrapper" ng-class="{\'with-discount\' : food.lastPrice != null}">\n                    <p class="price-text">{{food.price|number}} </p>\n                    <p class="disable-price-text" ng-show="food.lastPrice != null">{{food.lastPrice|number}} </p>\n                </div>\n                <div class="halfWidth ErrorColor small4Font text-left finished-food-text" ng-show="restaurant.isOpen === true && food.status !== 1">\n                     !\n                </div>\n                <div class="halfWidth" ng-show="restaurant.isOpen === true && food.status === 1">\n                    <div class="operat-wrapper text-left">\n                        <a href="#" class="side-dish-selection" ng-click="openDetailModal(food)" ng-show="food.hasOption === true">\n                            <span class="selection-text"></span>\n                            <span class="new-icon new-icon-plus_2 plus-icon-selection"></span>\n                        </a>\n                        <div class="fullWidth ordering-section" ng-show="food.hasOption !== true">\n                            <a href="#" class="increase" ng-click="addOneToBasket(food)">\n                                <span class="new-icon new-icon-plus_2 pull-left"></span>\n                            </a>\n                            <span class="food-count pull-left" ng-show="ordered(food)">{{countOrder(food)}}</span>\n                            <a href="#" class="decrease" ng-click="removeOneFromBasket(food)" ng-show="ordered(food)">\n                                <span class="new-icon new-icon-minus_2 pull-left"></span>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/food-item.html",'<div class="col-sm-12 col-xs-12 col-xxs-12">\n    <div class="food-item-wrapper fullWidth" ng-class="{\'there-is-no-food\': food.status !== 1 && restaurant.isOpen === true}">\n        <div class="fullWidth top-section-in-food-item relativeMatter">\n            <div class="food-image-holder relativeMatter">\n                <img class="cursor-pointer" ng-click="openDetailModal(food)" ng-src="{{food.image}}">\n                <span class="new-icon new-icon-Search_icon2 absoluteMatter zoom-icon-on-image cursor-pointer"\n                      ng-click="openDetailModal(food)"></span>\n            </div>\n            <div class="food-info-holder">\n                <div class="fullWidth"><h3 class="inline pull-right cursor-pointer" ng-click="nameAction(food)">{{food.name}}</h3>\n                    <span class="new-icon new-icon-image more-pic-icon cursor-pointer" ng-show="food.hasPic === true && restaurant.menuView === 3"\n                          ng-click="openDetailModal(food)"></span>\n                    <span style="display: none;" class="new-icon new-icon-veg_tag veg-icon hidden-xs hidden-xxs"></span>\n                    <span style="display: none;"\n                          class="new-icon new-icon-spicy_tag spicy-icon hidden-xs hidden-xxs"></span>\n                </div>\n                <p class="fullWidth">{{food.description}}</p>\n                <div class="hidden-sm">\n                    <span style="display: none;" class="new-icon new-icon-veg_tag veg-icon"></span>\n                    <span style="display: none;" class="new-icon new-icon-spicy_tag spicy-icon"></span>\n                </div>\n            </div>\n            <div class="pull-left bottom-section-in-food-item hidden-xs hidden-xxs">\n                <operate-section ng-show="restaurant.isOpen === true"></operate-section>\n                <div class="pull-left text-left price-wrapper">\n                    <span class="inline-block price-text disable-price-text" ng-show="food.lastPrice != null">{{food.lastPrice|number}} </span>\n                    <span class="inline-block price-text fivePaddingInLeft">{{food.price|number}} </span>\n                </div>\n            </div>\n        </div>\n        <div class="fullWidth bottom-section-in-food-item hidden-sm hidden-md hidden-lg">\n            <div class="sixTenWidth price-wrapper pull-right">\n                <span class="inline-block price-text disable-price-text" ng-show="food.lastPrice != null">{{food.lastPrice|number}} </span>\n                <span class="inline-block price-text">{{food.price|number}} </span>\n            </div>\n            <div class="fourTenWidth operat-wrapper text-left pull-right"  ng-show="restaurant.isOpen === true">\n                <a href="#" ng-click="openDetailModal(food)" class="side-dish-selection" ng-show="food.hasOption === true && food.status === 1">\n                    <span class="selection-text"></span>\n                    <span class="new-icon new-icon-plus_2 plus-icon-selection"></span>\n                </a>\n                <div class="fullWidth ErrorColor small4Font finished-text" ng-show="restaurant.isOpen === true && food.status !== 1"> !</div>\n                <div class="fullWidth ordering-section" ng-show="food.hasOption !== true && food.status === 1">\n                    <a href="#" class="increase" ng-click="addOneToBasket(food)">\n                        <span class="new-icon new-icon-plus_2 pull-left"></span>\n                    </a>\n                    <span class="food-count pull-left" ng-show="ordered(food)">{{countOrder(food)}}</span>\n                    <a href="#" class="decrease" ng-click="removeOneFromBasket(food)" ng-show="ordered(food)">\n                        <span class="new-icon new-icon-minus_2 pull-left"></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/info-section-sm.html",'<div class="info-section hidden-lg hidden-md">\n    <div class="col-lg-2 col-md-2 col-sm-12 col-xs-12 col-xxs-12 text-center pull-right">\n        <div class="logo-holder">\n            <img width="110" alt="{{::restaurant.name}}" ng-src="{{::restaurant.profile}}">\n        </div>\n    </div>\n    <div class="col-sm-12 col-xs-12 col-xxs-12">\n        <div class="stars-holder">\n            <div class="text-center">\n                <div class="star-and-comment-wrapper small-btn-head-restaurant">\n                    <div class="comment-holder">\n                        <span class="new-icon new-icon-person lightGrayColor"></span>\n                        <span>{{(restaurant.commentCount ? restaurant.commentCount : 0)}}</span>\n                    </div>\n                    <rate number="restaurant.rateAverage ? restaurant.rateAverage : 0"></rate>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="col-sm-12 col-xs-12 col-xxs-12">\n        <h3 class="text-center restaurant-name-in-info">{{::restaurant.name}}</h3>\n    </div>\n    <div class="col-sm-12 hidden-xs hidden-xxs">\n        <h3 class="text-center restaurant-address-in-info">{{::restaurant.address}}</h3>\n    </div>\n    <div class="col-sm-12 col-xs-12 col-xxs-12 text-center tenStepFromTop">\n        <div class="inline-block" ng-show="restaurant.isOpen === true">\n            <span class="inline-block restaurant-status"></span>\n            <span class="inline-block restaurant-title">   ...</span>\n        </div>\n        <div class="inline-block restaurant-status-sm-section" ng-show="restaurant.isOpen !== true">\n            <span class="inline-block restaurant-status restaurant-is-closed"></span>\n            <span class="inline-block restaurant-title restaurant-is-closed">    {{restaurant.nextActivationTime.time + (restaurant.nextActivationTime.unit === \'h\' ? \'  ...\' : \'  ...\')}}</span>\n        </div>\n    </div>\n    <div class="col-sm-12 col-xs-12 col-xxs-12 text-center" style="display: none;">\n        <div class="pre-order pull-left">\n            <div class="relativeMatter space-in-head">\n                <span class="new-icon new-icon-calendar absoluteMatter verticalCenter calendar-pre-order"></span>\n                <span class="selected-pre-order">  </span>\n                <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n            </div>\n            <div class="fullWidth pre-order-selection-wrapper space-in-head">\n                <div class="halfWidth relativeMatter">\n                    <span></span>\n                    <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n                </div>\n                <div class="halfWidth relativeMatter">\n                    <span></span>\n                    <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/info-section.html",'<div class="hidden-sm hidden-xs hidden-xxs fullWidth logo-stars-holder info-section relativeMatter">\n    <div class="pull-right">\n        <div class="logo-holder">\n            <img width="110" alt="{{::restaurant.name}}" ng-src="{{::restaurant.profile}}">\n        </div>\n        <div class="stars-holder">\n            <div class="">\n                <div class="star-and-comment-wrapper">\n                    <div class="comment-holder">\n                        <span class="new-icon new-icon-person lightGrayColor middleAlign"></span>\n                        <span>{{(restaurant.commentCount ? restaurant.commentCount : 0)}}</span>\n                    </div>\n                    <rate number="restaurant.rateAverage ? restaurant.rateAverage : 0"></rate>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="col-lg-7 col-md-7 pull-right white-color">\n        <h3 class="restaurant-name-in-info white-color">{{::restaurant.name}}\n            <span class="other-branchs-chain hidden-xxs" ng-show="restaurant.chainData !== undefined">\n                    <a class="semiBlackColor" ui-sref="app.chain-restaurants.index({city:restaurant.chainData.citySlug, slug: restaurant.chainData.chainRestaurantSlug})"> \n                      <i class="icon icon-arrow-left"></i>\n                    </a>\n                </span>\n        </h3>\n        <div class="info-items">\n            <span class="new-icon new-icon-pin white-color info-icons"></span>\n            <span class="small4Font">{{::restaurant.address}}</span>\n        </div>\n        <div class="info-items" ng-show="maxDeliveryTime !== undefined && minDeliveryTime !== undefined">\n            <span class="new-icon new-icon-sort_delivery info-icons"></span>\n            <span ng-show="minDeliveryTime !== 0 && maxDeliveryTime !== 0 && minDeliveryTime !== undefined && maxDeliveryTime !== undefined"  class="small4Font">  : {{minDeliveryTime}}  {{maxDeliveryTime}} </span>\n            <span ng-show="minDeliveryTime !== 0 && minDeliveryTime !== undefined && (maxDeliveryTime === 0 || maxDeliveryTime === undefined)" class="small4Font">  : {{minDeliveryTime}} </span>\n            <span ng-show="maxDeliveryTime !== 0 && maxDeliveryTime !== undefined && (minDeliveryTime === 0 || minDeliveryTime === undefined )" class="small4Font">  : {{maxDeliveryTime}} </span>\n        </div>\n        <div class="info-items" ng-show="::restaurant.slogan">\n            <span class="new-icon new-icon-special_food_restaurant info-icons"></span>\n            <span class="small4Font">{{::restaurant.slogan}}</span>\n        </div>\n    </div>\n    <div class="restaurant-status-section absoluteMatter" ng-show="restaurant.isOpen === true">\n        <span class="inline-block restaurant-status"></span>\n        <span class="inline-block restaurant-title">   ...</span>\n    </div>\n    <div class="restaurant-status-section absoluteMatter" ng-show="restaurant.isOpen !== true">\n        <span class="inline-block restaurant-status restaurant-is-closed"></span>\n        <span class="inline-block restaurant-title restaurant-is-closed">    {{restaurant.nextActivationTime.time + (restaurant.nextActivationTime.unit === \'h\' ? \'  ...\' : \'  ...\')}}</span>\n    </div>\n    <div class="share-section absoluteMatter inline-block">\n        <ul class="shares-icons">\n            <li class="share-holder">\n                <a target="_blank" href="https://telegram.me/share/url?url={{currentLocation}}&text={{restaurant.name}}"><span class="new-icon new-icon-telegram telegram-share"></span></a></li>\n            <li class="share-holder">\n                <a target="_blank" href="https://twitter.com/home?status={{currentLocation}}"><span class="new-icon new-icon-twitter twitter-share"></span></a></li>\n            <li class="share-holder">\n                <a target="_blank" href="http://www.facebook.com/share.php?u={{currentLocation}}"><span class="new-icon new-icon-facebook facebook-share"></span></a></li>\n            <li class="share-holder">\n                <a target="_blank" href="whatsapp://send?text={{currentLocation}}"><span class="new-icon new-icon-whats_app whatsapp-share"></span></a></li>\n        </ul>\n        <span class="new-icon new-icon-share2 white-color normalLineHeight middleAlign somePaddingLeft"></span>\n        <span class="white-color"> </span>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/info.html",'<div class="fullWidth default-tab-content info-tab-wrapper" ng-if="selectedTab.bool === 2">\n    <div class="fullWidth">\n        <h3 class="darkerGrayColor">\n            <span class="new-icon new-icon-bullet2 middleAlign color-dark-gray"></span>\n            <span class="middleAlign"></span>\n        </h3>\n    </div>\n    <div class="fullWidth verySmall3Font">\n        <div class="specification-item fullWidth" ng-show="restaurant.type !== undefined">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-shop_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight"></span>\n            </div>\n            <div class="text-left pull-left value-in-specification"><span ng-repeat="type in restaurant.type">{{type.tagName + (!$last ? \' \' : \'\')}}</span></div>\n        </div>\n        <div class="specification-item fullWidth" ng-show="restaurant.foodTypes !== undefined">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-food_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight"> </span>\n            </div>\n            <div class="text-left pull-left value-in-specification">\n                <span ng-repeat="ftype in restaurant.foodTypes">{{ftype.tagName + (!$last ? \' \' : \'\')}}</span>\n            </div>\n        </div>\n        <div class="specification-item fullWidth">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-Money_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight"> </span>\n            </div>\n            <div class="text-left pull-left value-in-specification">\n                {{restaurant.minPriceSendLimit | number}} \n            </div>\n        </div>\n        <div class="specification-item fullWidth" ng-show="restaurant.financialLevel.tagName !== undefined">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-econimic_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight"> </span>\n            </div>\n            <div class="text-left pull-left value-in-specification">\n                {{restaurant.financialLevel.tagName}}\n            </div>\n        </div>\n        <div class="specification-item fullWidth" ng-show="maxDeliveryTime !== undefined || minDeliveryTime !== undefined ">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-delivery_time_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight">  </span>\n            </div>\n            <div ng-show="minDeliveryTime !== 0 && maxDeliveryTime !== 0 && minDeliveryTime !== undefined && maxDeliveryTime !== undefined" class="text-left pull-left value-in-specification">\n                {{minDeliveryTime}}  {{maxDeliveryTime}} \n            </div>\n            <div ng-show="minDeliveryTime !== 0 && minDeliveryTime !== undefined && (maxDeliveryTime === 0 || maxDeliveryTime === undefined)" class="text-left pull-left value-in-specification">\n                {{minDeliveryTime}} \n            </div>\n            <div ng-show="maxDeliveryTime !== 0 && maxDeliveryTime !== undefined && (minDeliveryTime === 0 || minDeliveryTime === undefined )" class="text-left pull-left value-in-specification">\n                {{maxDeliveryTime}} \n            </div>\n\n        </div>\n        <div class="specification-item fullWidth" ng-hide="minDeliveryPrice === undefined && maxDeliveryPrice === undefined">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-delivery_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight">    </span>\n            </div>\n            <div class="text-left pull-left value-in-specification" ng-show="minDeliveryPrice !== undefined && maxDeliveryPrice !== undefined">\n                {{(minDeliveryPrice|number) + \'  \'  + (maxDeliveryPrice|number) + \' \'}}\n            </div>\n            <div class="text-left pull-left value-in-specification" ng-show="(minDeliveryPrice !== undefined || maxDeliveryPrice !== undefined) && !(minDeliveryPrice !== undefined && maxDeliveryPrice !== undefined)">\n                {{((minDeliveryPrice === undefined ? maxDeliveryPrice : minDeliveryPrice)|number) + \' \'}}\n            </div>\n        </div>\n        <div class="specification-item fullWidth" ng-show="restaurant.deliveryZoneList !== undefined">\n            <div class="text-right whiteSpaceNoWrap pull-right title-in-specification">\n                <span class="new-icon new-icon-Location_info pull-right bigFont5"></span>\n                <span class="info-tab-color fivePaddingInRight">  </span>\n            </div>\n            <span class="new-icon new-icon-arrow-down pull-left fivePaddingInRight" ng-click="showAlldeliveryZone = true" ng-show="showAlldeliveryZone === false"></span>\n            <span class="new-icon new-icon-arrow-up pull-left fivePaddingInRight" ng-click="showAlldeliveryZone = false" ng-show="showAlldeliveryZone === true"></span>\n            <div class="text-left pull-left value-in-specification" ng-class="{\'truncateText\': showAlldeliveryZone !== true}">\n                <span ng-repeat="address in restaurant.deliveryZoneList">{{address.title + (!$last ? \' \' : \'\')}}</span>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <!--<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 about-wrapper relativeMatter" ng-show="restaurant.description !== null">-->\n            <!--<span class="up-pattern"></span>-->\n        <!--</div>-->\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 map-wrapper">\n            <h3 class="darkerGrayColor thirtyStepFromTop">\n                <span class="new-icon new-icon-bullet2 middleAlign color-dark-gray"></span>\n                <span class="middleAlign"></span>\n            </h3>\n            <map-section-in-info ng-if="restaurant" restaurant="restaurant"></map-section-in-info>\n        </div>\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 working-hour-wrapper">\n            <h3 class="darkerGrayColor thirtyStepFromTop">\n                <span class="new-icon new-icon-bullet2 middleAlign color-dark-gray"></span>\n                <span class="middleAlign">  </span>\n            </h3>\n            <div class="working-hours fullWidth relativeMatter verySmall3Font">\n                <span class="new-icon new-icon-up_arrow absoluteMatter up-arrow cursor-pointer" ng-click="moveUp()"></span>\n                <span class="new-icon new-icon-down_arrow absoluteMatter down-arrow cursor-pointer" ng-click="moveDown()"></span>\n                <div class="fullWidth absoluteMatter shadow-hours shadow-hours-up"></div>\n                <div class="fullWidth absoluteMatter shadow-hours shadow-hours-down"></div>\n                <div class="fullWidth working-hour text-center" ng-repeat="(id,info) in restaurant.openingInfo" id="opening-info-{{id}}" ng-class="{\'selected-hour\': id == selectedHourIndex}">\n                    <span class="text-right working-hour-day" ng-class="{\'current-day-working\': info[0].isToday === true}">{{info[0].Day}}</span>\n                    <span class="text-right working-hour-hours"><span ng-repeat="inf in info">{{inf.start + \'  \' + inf.end}}<span class="gold-circle" ng-show="!$last"></span></span></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>'),
e.put("/app/user/ngApp/templates/views/restaurants/latest-buy.html",'<div class="col-lg-12 col-md-12 relativeMatter twentyStepFromTop hidden-sm hidden-xs hidden-xxs" ng-show="showMySelf">\n    <i class="icon icon-cancel remove-item-icon cursor-pointer absoluteMatter darkGrayColor" ng-click="showMySelf = false;"></i>\n    <div class="fullWidth">\n        <span class="new-icon new-icon-bullet2 pull-right darkGrayColor"></span>\n        <span class="lighterGrayColor smallFirstFont pull-right fivePaddingInRight">      </span>\n    </div>\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 latest-buy-wrapper">\n        <div class="clearfix">\n            <div class="content-jump latest-buy">\n                <div ng-repeat="food in buyList">\n                        <div class="fullWidth latest-buy-food">\n                            <p class="lastest-buy-food-name text-right">      </p>\n                            <div class="halfWidth price-wrapper text-right">\n                                <div><span class="inline-block price-text">/ </span></div>\n                                <div><span class="inline-block price-text disable-price-text">/ </span></div>\n                            </div>\n                            <div class="halfWidth ordering-section text-left">\n                                <a href="#" class="increase">\n                                    <span class="new-icon new-icon-plus pull-left"></span>\n                                </a>\n                            </div>\n                        </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/list.html",'<header class="header-bar-2">\n  <div class="container">\n    <div class="row">\n      <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-xs-12 col-lg-push-2 col-md-push-1">\n        <div>\n          <search-section></search-section>\n        </div>\n      </div>\n    </div>\n  </div>\n</header>\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li>\n            <a ui-sref="app.homepage"></a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantsnew.index({city: userLocation.data.citySlug,slug: undefined})">   {{userLocation.data.cityName}} </a>\n          </li>\n          <li ng-show="userLocation.data.regionSlug">\n            <a ui-sref="app.restaurantsnew.index({city: userLocation.data.citySlug ,slug: userLocation.data.regionSlug })">  {{ userLocation.data.regionName }} </a>\n          </li>\n          <li>\n            <!-- <a ui-sref="app.restaurant.show({city: cityName ,slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a> -->\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="restarurant-cat">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-9 col-md-3 col-sm-12 col-xs-12 stick-parent sidebar-fix pull-right clearfix">\n        <div class="filter-wrapper scrollbar-dynamic" ng-controller="filtersController">\n          <div class="filter">\n            <div class="sidebar-toggle visible-xs visible-xxs visible-sm clearfix" ng-click="hideFilter = !hideFilter">\n              <span class="text-right pull-right">   </span>\n              <i class="toggle-arrow-target icon pull-left " ng-class="{\'icon-arrow-up\':!hideFilter ,\'icon-arrow-down\':hideFilter}"></i>\n            </div>\n            <ul class="list-inline list-unstyled grid-view-change hidden-xs hidden-xxs text-right">\n              <li id="grid-view" ng-click="changeView(\'grid\')" ng-class="{\'active\' : sharedData.gridView}">\n                <i class="icon icon-group1"></i>\n              </li>\n              <li id="row-view" ng-click="changeView(\'row\')" ng-class="{\'active\' : !sharedData.gridView}">\n                <i class="icon icon-row-view"></i>\n              </li>\n              <li class="reset-config">\n                <p class=" text-right" ng-click="resetRestaurantSetting()">\n                    </p>\n              </li>\n            </ul>\n            <div class="sidebar-content" ng-hide="hideFilter">\n\n              <div class="search-box">\n                <form ng-submit="searchFormSubmit()">\n                  <input ng-model="searchKeyword" type="text" placeholder="    ...">\n                  <i ng-click="searchFormSubmit()" class="icon icon-search" ng-hide="showSpinner"></i>\n                  <div ng-show="showSpinner">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </form>\n              </div>\n              <div class="divider clearfix"></div>\n\n              <div data-toggle="dropdown-rest" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>   </span>\n\n                <span class="pull-left">\n                  <spinner-loader></spinner-loader>\n                </span>\n              </div>\n              <div data-toggle="dropdown-rest" class="sort-btn clearfix" ng-show="!restaurantsList.loading" ng-click=" toggleType = !toggleType">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>   </span>\n\n                <span class="pull-left">\n                  <i class="icon" ng-class="(toggleType && !restaurantsList.loading) ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n                </span>\n              </div>\n              <ul ng-show="toggleType && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="restaurantType in restaurantsList.restaurantTypes | toArray |  orderBy:\'-count\'| limitTo: restaurantToggleLimit">\n                  <a ng-click="filterByRestaurantType(restaurantType.tagId)" class="truncate" ng-class="{active : restaurantFilters[restaurantType.tagId] }"> {{ restaurantType.tagName }} ( {{ restaurantType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.restaurantTypes) > 4" class="show-more-btn-sec" ng-click="changeRestaurantToggle()" style="cursor: pointer;"> {{ restaurantToggleCurrentStatus }}</li>\n              </ul>\n              <div data-toggle="dropdown" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>   </span> <span class="pull-left">\n                <spinner-loader></spinner-loader>\n              </span>\n              </div>\n              <div data-toggle="dropdown" ng-show="!restaurantsList.loading" class="sort-btn clearfix" ng-click=" toggleFood = !toggleFood ">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>   </span> <span class="pull-left">\n                <i class="icon" ng-class="(toggleFood  && !restaurantsList.loading)  ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n              </span>\n              </div>\n              <ul ng-show="toggleFood  && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="foodType in restaurantsList.foodTypes | toArray |  orderBy:\'-count\' | limitTo: foodToggleLimit">\n                  <a ng-click="filterByFoodType(foodType.tagId)" ng-class="{active : foodFilters[foodType.tagId] }" class="truncate"> {{foodType.tagName}} ( {{ foodType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.foodTypes) > 4" class="show-more-btn-sec" ng-click="changeFoodToggle()" style="cursor: pointer;"> {{ foodToggleCurrentStatus }}\n                </li>\n              </ul>\n              <div class="divider clearfix">\n                <span class="text pull-right">  </span> <span class="pull-left">\n                <i class="icon icon-sort-2"></i> </span>\n              </div>\n              <div data-toggle="dropdown" class="sort-btn clearfix">\n                <ul class="sort-list list-unstyled list-unstyled list-nopadd">\n                  <li>\n                    <a ng-if="!restaurantsList.loading" ng-click="sortByTime(timeToggle,rateToggle,financialToggle)" ng-class="timeToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-transport"></i>   (  ) </a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByRate(timeToggle,rateToggle,financialToggle)" ng-class="rateToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-star-null"></i> </a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByFinancialLevel(timeToggle,rateToggle,financialToggle)" ng-class="financialToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-money"></i>  </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 pull-left">\n\n        <div id="container-cats">\n\n          <neighborhood-map loading="restaurantsList.loading" point="locationData.regionPoint" count="restaurantsList.list.length" region="regionData"></neighborhood-map>\n\n          <div class="content-loader-holder" ng-if="restaurantsList.loading">\n            <div class="content-loader">\n              <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n              <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n              <p class="text-center">  </p>\n            </div>\n          </div>\n\n          <div class="row" ng-hide="restaurantsList.loading">\n\n            <div ng-if="!restaurantsList.list || restaurantsList.list.length == 0" class="col-md-12">\n              <div class="empty-resault">\n                <div class="empty-content">\n                  <img src="app/user/assets/img/img-ico/nulllcontent.png" class="img-responsive center-block">\n                  <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 col-xs-offset-0 col-xxs-12">\n                    <div class="col-md-6">\n                      <a ui-sref="app.cooperation" class="btn btn-default-sm btn-green-2 " href="/cooperation">   </a>\n                    </div>\n                    <div class="col-md-6">\n                      <a ng-click="resetRestaurantSetting()" class="btn btn-default-sm btn-red">    </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <restaurant  city="citySlug"  ng-repeat="restaurant in restaurantsList.list | toArray | limitTo: repeatLimit" restaurant="restaurant" grid-view="sharedData.gridView" index="$index"  in-method="increaseRepeatLimit(inview, index)"></restaurant>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</section>'),e.put("/app/user/ngApp/templates/views/restaurants/listRestaurant.html",'<div class="container" style="margin-top: 60px;">\n    <div class="row">\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n            <div class="bread-crumbs">\n                <ul class="list-inline list-unstyled list-nopadd">\n                    <li>\n                        <a ui-sref="app.homepage"></a>\n                    </li>\n\n                    <li ng-if="chainRestaurant">\n                        <a ui-sref="app.chain-restaurants.index({slug: chainRestaurant.slug})">      {{ chainRestaurant.name }} </a>\n                    </li>\n                    <li ng-if="selectedCity.regionName !== undefined">\n                        <a ui-sref="app.restaurantsnew.index({city: selectedCity.regionSlug,slug: undefined })">   {{ selectedCity.regionName }} </a>\n                    </li>\n                    <li ng-if="selectedRegion">\n                        <a ui-sref="app.restaurantsnew.index({city: selectedCity.regionSlug ,slug: selectedRegion.regionSlug })">  {{ selectedRegion.regionName || selectedRegion.name}} </a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<section class="restarurant-cat list-restaurant-in-search">\n    <div class="container">\n        <div class="row hidden-sm hidden-md hidden-lg">\n            <div class="col-xs-12 col-xxs-12">\n                <div class="search-input-container relativeMatter">\n                    <form ng-submit="callSearch()">\n                        <input class="" type="text" ng-model="searchedString.str" placeholder="   ...">\n                        <span ng-click="callSearch()" class="new-icon new-icon-search2 absoluteMatter icon-search-after-input"></span>\n                    </form>\n                </div>\n            </div>\n        </div>\n        <div class="row" id="parent">\n            <div class="col-lg-9 col-md-9">\n                <div class="row restarurant-cat hidden-xs hidden-sm hidden-xxs" ng-if="showMap && point !== undefined">\n                    <map-search-section></map-search-section>\n                </div>\n                <div class="row display-flex" ng-class="{\'restaurant-vertical-item-holder\' : gridView.bool === true, \'restaurant-horizontal-item-holder\': gridView.bool !== true}">\n                    <restaurant-item ng-hide="showLoading" ng-if="gridView.bool === true" ng-repeat="restaurant in allRestaurants | limitTo: repeatLimit.count"\n                        restaurant="restaurant" index="$index" when-in-view="whenInView(inview, index)"></restaurant-item>\n                    <restaurant-mobile-item ng-hide="showLoading" ng-if="gridView.bool === true" ng-repeat="restaurant in allRestaurants | limitTo: repeatLimit.count"\n                        restaurant="restaurant" index="$index" when-in-view="whenInView(inview, index)"></restaurant-mobile-item>\n                    <restaurant-horizontal-item ng-hide="showLoading" ng-if="gridView.bool !== true" ng-repeat="restaurant in allRestaurants | limitTo: repeatLimit.count"\n                        restaurant="restaurant" index="$index" when-in-view="whenInView(inview, index)"></restaurant-horizontal-item>\n                    <div class="relativeMatter blockBecomeCenter no-result-wrapper" ng-show="noResult === true && !showLoading">\n                        <div class="absoluteMatter no-result-container">\n                            <div class="relativeMatter fullHeight">\n                                <p class="top-section">    </p>\n                                <a href="#" ng-click="removeFilters()" class="bottom-section">\n                                    <span>    </span>\n                                </a>\n                            </div>\n                            <a class="register-restaurant-link" ui-sref="app.cooperation">  </a>\n                        </div>\n\n                    </div>\n                    <loader-without-text ng-show="showLoading" class="blockBecomeCenter"></loader-without-text>\n                </div>\n            </div>\n            <div class="col-lg-3 col-md-3 hidden-sm hidden-xs hidden-xxs" id="filters-content">\n                <div class="filter-in-restaurant-search">\n                    <filter-section ng-if="tagsCount !== undefined" grid-view="gridView" restaurant-types="restaurantTypes" update="update(obj)"\n                        food-types="foodTypes" tags="tagsCount"></filter-section>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>'),e.put("/app/user/ngApp/templates/views/restaurants/list_backup.html",'<div ng-controller="listRestaurantsController">\n    <header class="header-bar-2">\n        <div class="container">\n            <div class="row">\n                <div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-lg-push-2 col-md-push-1">\n                    <div class="input-group input-search-2 hidden-xxs">\n                        <div class="input-group-btn hidden-xs">\n                            <button class="btn btn-yellow force-btn"> </button>\n                        </div>\n                        <div class="the-basics">\n                            <input class="form-control form-xs typeahead">\n                        </div>\n                        <div class="input-group-btn">\n                            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i>\n                            </button>\n                            <ul class="dropdown-menu list-unstyled text-right">\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                            </ul>\n                            <button class="btn margin-right locator"><i class="icon icon-target"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div class="input-group-xxs input-search-xs-2 visible-xxs hidden-sm hidden-xs hidden-md hidden-lg">\n                        <div class="input-group-btn displaybolock">\n                            <button class="btn margin-right locator"><i class="icon icon-target"></i>\n                            </button>\n                            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-down"></i>\n                            </button>\n                            <ul class="dropdown-menu list-unstyled text-right">\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                            </ul>\n                        </div>\n                        <div class="the-basics">\n                            <input value="  " class="form-control typeahead">\n                        </div>\n                    </div>\n                    <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n                        <button class="button btn-default-md btn btn-yellow force-btn xs-force"> </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </header>\n    <section class="restarurant-cat">\n        <div class="container">\n            <div class="row">\n                <div class="col-lg-12 col-md-12">\n                    <ul class="list-inline list-unstyled grid-view-change">\n                        <li id="grid-view"><i class="icon icon-group1"></i>\n                        </li>\n                        <li id="row-view" class="active"><i class="icon icon-row-view"></i>\n                        </li>\n                    </ul>\n                </div>\n                <div class="col-md-9 col-md-3 col-sm-12 col-xs-12 stick-parent sidebar-fix pull-right">\n                    <div class="filter-wrapper">\n                        <div class="filter">\n                            <div class="search-box">\n                                <input type="text" placeholder="  "><i class="icon icon-search"></i>\n                            </div>\n                            <div class="divider clearfix"><span class="text pull-right">  </span><span class="pull-left"><i class="icon icon-filter-2"></i></span>\n                            </div>\n                            <div data-toggle="dropdown-rest" class="sort-btn clearfix"><span class="pull-right text"><i class="icon icon-knife"></i> </span><span class="pull-left"><i class="icon icon-arrow-down"></i></span>\n                            </div>\n                            <ul class="cat-list list-unstyled list-nopadd">\n                                <li ng-repeat="kind in restaurantKinds"><a href="" class="truncate" ng-click="filterBy(\'restaurant\', kind.tagsEntityForeignKey)">{{kind.tagName}} ({{ kind.value }})</a>\n                                </li>\n                            </ul>\n                            <div data-toggle="dropdown" class="sort-btn clearfix"><span class="pull-right text"><i class="icon icon-dish"></i> </span><span class="pull-left"><i class="icon icon-arrow-down"></i></span>\n                            </div>\n                            <ul class="cat-list list-unstyled list-nopadd">\n                                <li ng-repeat="kind in foodKinds"><a href="" class="truncate" ng-click="filterBy(\'foods\', kind.tagsEntityForeignKey)">{{kind.tagName}} ({{ kind.value }})</a>\n                                </li>\n                            </ul>\n                            <div class="divider clearfix"><span class="text pull-right">  </span><span class="pull-left"><i class="icon icon-sort-2"></i></span>\n                            </div>\n                            <div data-toggle="dropdown" class="sort-btn clearfix">\n                                <ul class="sort-list list-unstyled list-unstyled list-nopadd">\n                                    <li><a href="" ng-click="orderBy(\'deliveryTime\')"><i class="icon icon-transport"></i> </a>\n                                    </li>\n                                    <li><a href="" ng-click="orderBy(\'point\')"><i class="icon icon-star-null"></i></a>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 pull-left">\n                    <div id="container-cats">\n                        <div class="row">\n                            <div ng-repeat="restaurant in restaurants" class="row-view grid-box open-restaurant col-md-4 col-sm-4 col-xs-6 col-xxs-12">\n\n                                <div class="box"><a ui-sref="app.restaurants.show({id: restaurant.restaurantId})"><span class="image"><img src="app/user/assets/img/boxes/1.jpg"><span class="img-hover"><img src="{{ restaurant.logo }}"><span class="hover-hour truncate">    12:30</span></span>\n                        <div class="feature-t"><span ng-if="restaurant.campaignPercent" class="discount">{{restaurant.campaignPercent}}%</span><span ng-if="restaurant.restaurantIsRecommended" class="special"></span></div></span></a><span class="cap"><span class="top-sec">\n                        <ul class="list-nopadd list-inline title truncate">\n                          <li>\n                            <i ng-show="restaurant.is_open" class="icon icon-opendoor"></i>\n                            <i ng-show="!restaurant.is_open" class="icon icon-closedoor"></i>\n                          </li>\n                          <li class="truncate"><a ui-sref="app.restaurants.show({id: restaurant.restaurantId})">\n                              <h4>{{restaurant.restaurantName}}</h4><span class="region">()</span>\n                                    </a>\n                                    </li>\n                                    <li class="cats">\n                                        <ul class="list-nopadd list-inline text-center cats">\n                                            <li ng-repeat="tag in restaurant.tags">{{ tag.tagName }}</li>\n                                        </ul>\n                                    </li>\n                                    </ul>\n                                    <ul class="list-nopadd list-inline options-t clearfix">\n                                        <li class="address"><i class="icon icon-pin-2"></i>{{restaurant.restaurantAddress}}</li>\n                                        <li class="deli-time">{{ changeToMinute(restaurant.region.distance.duration) }} <i class="icon icon-motor-1"></i>\n                                        </li>\n                                    </ul>\n                                    <ul class="list-nopadd list-inline feature clearfix">\n                                        <li><span ng-if="restaurant.restaurantIsRecommended" class="special"></span><span ng-if="restaurant.campaignPercent" class="discount">{{restaurant.campaignPercent}}</span>\n                                        </li>\n                                        <li class="eco-level-t"><i class="icon icon-money"></i><i class="icon icon-money"></i><i class="icon icon-money"></i>\n                                        </li>\n                                        <li class="star-rate">\n                                            <ul class="list-nopadd list-inline rating">\n                                                <li class="rate-title"><span class="text"><a href="#">  </a></span><span class="num">()</span>\n                                                </li>\n                                                <li class="stars">\n                                                    <rating stars="restaurant.restaurantRateAverage"></rating>\n                                                </li>\n                                            </ul>\n                                        </li>\n                                    </ul>\n                                    </span>\n                                    <div class="list-nopadd list-inline options-r clearfix">\n                                        <div class="col-md-4 col-sm-4 nopadding-x"><i class="icon icon-transport hidden-md"></i><span class="head">  :</span><span class="value">{{ changeToMinute(restaurant.region.distance.duration) }} </span>\n                                        </div>\n                                        <div class="col-md-4 col-sm-4 nopadding-x"><i class="icon icon-basket hidden-md"></i><span class="head"> :</span><span class="value">{{ restaurant.restaurantMinPriceSendLimit }} </span>\n                                        </div>\n                                        <div class="col-md-4 col-sm-4 nopadding-x eco-level-r"><i class="icon icon-money hidden-md"></i><span class="head"> :</span><span class="value">{{ restaurant.financialLevel }}</span>\n                                        </div>\n                                    </div>\n                                    </span>\n                                    <div class="foot-cap"><a ui-sref="app.restaurants.show({id: restaurant.restaurantId})" class="btn btn-default-xs btn-yellow"> </a><span class="address truncate"><i class="icon icon-pin-2"></i>{{restaurant.restaurantAddress}}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-md-12">\n                    <button ng-click="paginate()" ng-disabled="buttonDisabled">Load More</button>\n                </div>\n            </div>\n        </div>\n</div>\n</section>\n<section class="sub-section">\n    <div class="container">\n        <div class="row">\n            <div class="col-lg-6 col-md-8 col-sm-8 col-xs-12 col-lg-offset-3 col-md-offset-2 col-sm-offset-2 col-xs-offset-0">\n                <h2 class="text-center color-red-1">  </h2>\n                <p class="text-center">            .</p>\n                <div class="input-group input-search-2">\n                    <div class="input-group-btn hidden-xs hidden-xxs">\n                        <button class="btn btn-red force-btn"></button>\n                    </div>\n                    <input type="email" placeholder="" class="form-control">\n                    <div class="input-group-btn">\n                        <div class="dropup">\n                            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-up"></i>\n                            </button>\n                            <ul class="dropdown-menu list-unstyled text-right">\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                                <li><a href="#"></a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n                    <button class="button btn-default-sm btn btn-red force-btn xs-force"> </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n</div>\n'),e.put("/app/user/ngApp/templates/views/restaurants/main.html",'<internal-loading style="margin-top: 100px;display: block;min-height: 500px;" ng-show="loading"></internal-loading>\n<div ng-show="!loading">\n    <button ng-if="showActiveButton" ng-click="activeRestaurant()" class="draf-save-button btn-green">\n         \n        <div class="md-ripple-container"></div>\n    </button>\n    <div class="header-with-image fullWidth relativeMatter" ng-style="coverStyle">\n        <div class="fillParent overlay-on-header"></div>\n        <div class="curve-on-header hidden-lg hidden-md absoluteMatter"></div>\n    </div>\n    <div class="container" style="margin-top: 60px;">\n        <div class="row header-in-single">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 relativeMatter whole-info-cover"\n                 ng-class="{\'alert-showed\': alertShowed  === true}">\n                <!-- image section -->\n                <div class="row">\n                    <div class="header-with-image fullWidth relativeMatter">\n                        <info-section></info-section>\n                    </div>\n                </div>\n                <!-- end of image section -->\n                <!-- info section -->\n                <info-section-sm></info-section-sm>\n                <!-- end of info section -->\n                <!-- tabbed menu -->\n                <div ng-if="showMobileBasket.b" class="mobile-basket hidden-lg hidden-md" overflow-scroll\n                     parent-element="mobile-basket" except-element="mobile-basket-header,mobile-basket-footer"\n                     element-to-scrollable="mobile-basket-body">\n                    <div class="fullWidth mobile-basket-header">\n                        <div class="pull-right">\n                        <span class="new-icon new-icon-close close-basket"\n                              ng-click="showMobileBasket.b = false;"></span>\n                            <span> </span>\n                        </div>\n                        <div class="pull-left">\n                            <div class="relativeMatter">\n                                <i class="new-icon new-icon-bascket basketIcon"></i>\n                                <span class="num absoluteMatter">{{basket.basket.totalCount}}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="basket.basket.totalCount > 0" class="basket-body mobile-basket-body">\n                        <div class="basket-item relativeMatter fullWidth" ng-repeat="(id,item) in basket.basket.items">\n                            <i class="icon icon-cancel remove-item-icon cursor-pointer absoluteMatter"\n                               ng-click="removeEntryFromBasket(foodMap[item.orderItemFoodId], item.options)"></i>\n                            <div class="basket-item-title">{{foodMap[item.orderItemFoodId].name}}</div>\n                            <div class="fullWidth side-dish-wrapper relativeMatter"\n                                 ng-show="item.options !== undefined && item.options.length !== 0">\n                                <div class="fullWidth side-dish-item" ng-repeat="option in item.options">\n                                    <div class="halfWidth text-right verySmall3Font">{{option.foodOptionName}}</div>\n                                    <div class="halfWidth text-left verySmall3Font"\n                                         ng-show="option.foodOptionPrice !== 0">{{option.groupPriceDisplayType == 0 ? ((option.foodOptionPrice + item.foodPrice)|number) : (option.foodOptionPrice|number)}} \n                                    </div>\n                                </div>\n                                <button class="absoluteMatter edit-side-dish smallFirstFont"\n                                        ng-click="showMobileBasket.b = false;mainActions.editBasketItem(item, foodMap[item.orderItemFoodId], id)">\n                                    \n                                </button>\n                            </div>\n                            <div class="fullWidth" style="margin-top: 20px;">\n                                <div class="halfWidth operat-wrapper">\n                                    <div class="fullWidth ordering-section">\n                                        <a href="#" class="decrease"\n                                           ng-click="removeOneFromBasket(foodMap[item.orderItemFoodId], item.options)">\n                                            <span class="new-icon new-icon-minus_2 pull-right"></span>\n                                        </a>\n                                        <span class="food-count pull-right">{{item.itemCount}}</span>\n                                        <a href="#" class="increase"\n                                           ng-click="addOneToBasket(foodMap[item.orderItemFoodId], item.options)">\n                                            <span class="new-icon new-icon-plus_2 pull-right"></span>\n                                        </a>\n                                    </div>\n                                </div>\n                                <div class="basket-item-price text-left absoluteMatter">\n                                    {{calculatePriceOfEntry(foodMap[item.orderItemFoodId], item) | number}} \n                                </div>\n                            </div>\n                        </div>\n                        <div class="fullWidth">\n                            <div class="fullWidth padder-top-bottom" ng-show="basket.basket.restaurantPackagingPrice !== 0">\n                                <div class="halfWidth text-right smallFirstFont">  </div>\n                                <div class="halfWidth text-left smallFirstFont">\n                                    {{basket.basket.restaurantPackagingPrice|number}} \n                                </div>\n                            </div>\n                            <div class="fullWidth padder-top-bottom" ng-show="basket.basket.vat !== 0">\n                                <div class="halfWidth text-right smallFirstFont"> </div>\n                                <div class="halfWidth text-left smallFirstFont">{{basket.basket.vat|number}} </div>\n                            </div>\n                            <div class="fullWidth padder-top-bottom">\n                                <span class="smallFirstFont">        .</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div ng-show="basket.basket.totalCount === 0" class="basket-body mobile-basket-body">\n                        <div class="text-center twentyStepFromTop">\n                            <span class="new-icon new-icon-bascket veryLightColor veryBigFont"></span>\n                            <p class="veryLightColor bigFont2">   !</p>\n                        </div>\n                    </div>\n                    <div class="mobile-basket-footer absoluteMatter">\n                        <div class="fullWidth basket-footer-wrapper">\n                            <div class="threeTenWidth smallFirstFont pull-right title-in-delivary-type"> :</div>\n                            <div class="delivery-type-selector sevenTenWidth pull-left">\n                            <span class="pull-right smallFirstFont delivery-type delivery-right-part"\n                                  ng-class="{\'selected-delivery-type\' : basket.basket.deliveryType === true}"\n                                  ng-click="changeDeliveryType(true)">  </span>\n                                <span class="pull-left smallFirstFont delivery-type delivery-left-part"\n                                      ng-class="{\'selected-delivery-type\' : basket.basket.deliveryType === false}"\n                                      ng-click="changeDeliveryType(false)">  </span>\n                            </div>\n                        </div>\n                        <div class="fullWidth accept-decline-order"\n                             ng-class="{\'wait-for-order\': basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit}">\n                            <button class="threeTenWidth decline-order-button" ng-click="showMobileBasket.b = false;">\n                                \n                            </button>\n                            <button class="accept-order-button pull-left loadingInCenterOfButton"\n                                    ng-show="!basket.basket.minPriceSendLimit || basket.basket.totalPrice >= basket.basket.minPriceSendLimit"\n                                    ng-click="saveBasketData()">  |\n                                {{basket.basket.totalPrice | number}} \n                                <spinner-loader ng-show="loadingBasket"></spinner-loader>\n                            </button>\n                            <button class="accept-order-button pull-left"\n                                    ng-show="basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit">\n                                <span class="smallFirstFont">  {{basket.basket.minPriceSendLimit|number}} </span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class="mobile-basket-brief hidden-lg hidden-md" ng-show="basket.basket.totalCount > 0">\n                    <div class="fullWidth">\n                        <div class="open-basket-wrapper pull-right">\n                            <button class="open-basket-button" ng-click="showMobileBasket.b = true;">\n                            <span class="inline-block basket-counter relativeMatter">\n                                <span class="white-color objectInMiddle">{{basket.basket.totalCount}}</span>\n                            </span>\n                                <span class="inline-block smallFirstFont">{{basket.basket.totalPrice|number}} </span>\n                            </button>\n                        </div>\n                        <div class="go-to-payment-wrapper pull-right"\n                             ng-class="{\'wait-for-order\': basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit}">\n                            <button class="go-to-payment-button loadingInCenterOfButton" ng-click="saveBasketData()"\n                                    ng-show="!basket.basket.minPriceSendLimit || basket.basket.totalPrice >= basket.basket.minPriceSendLimit">\n                                <span class="smallFirstFont">   </span>\n                                <span ng-show="!loadingBasket" class="new-icon new-icon-arrow-left"></span>\n                                <spinner-loader ng-show="loadingBasket"></spinner-loader>\n                            </button>\n                            <button class="go-to-payment-button"\n                                    ng-show="basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit">\n                                <span class="smallFirstFont">  {{basket.basket.minPriceSendLimit|number}} </span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <div class="default-tab-container container-fluid">\n                    <div class="row">\n                        <div class="bread-crumbs fullWidth hidden-sm hidden-xs hidden-xxs">\n                            <ul class="list-inline list-unstyled list-nopadd">\n                                <li>\n                                    <a ui-sref="app.homepage"></a>\n                                </li>\n                                <li>\n                                    <a ui-sref="app.restaurantsnew.index({city: restaurant.neighborhood.citySlug,slug: undefined })">\n                                        \n                                        {{restaurant.neighborhood.cityName}} </a>\n                                </li>\n                                <li>\n                                    <a ui-sref="app.restaurantsnew.index({city: restaurant.neighborhood.citySlug,slug: restaurant.neighborhood.slug})">\n                                         {{restaurant.neighborhood.name}}</a>\n                                </li>\n                                <li>\n                                    <a ui-sref="app.restaurantnew.show.menu({city:restaurant.neighborhood.citySlug,slug: restaurant.slug})">{{restaurant.name}}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-lg-3 col-md-3 back-to-restaurants hidden-sm hidden-xs hidden-xxs text-center tenPaddingTopBottom">\n                            <a href="{{goToRestaurantList}}">\n                                <span class="btr-text">   </span>\n                                <span class="new-icon new-icon-back_to_restaurants btr-icon fivePaddingInRight"></span>\n                            </a>\n                        </div>\n                        <div ng-class="{\'visible-hidden\' :selectedTab.bool !== 0}" class="col-lg-2 col-md-2 hidden-sm hidden-xs hidden-xxs text-center tenPaddingTopBottom">\n                        <span class="new-icon new-icon-row-view round-icon-with-padding cursor-pointer"\n                              ng-class="{\'gray-color-back\': selectedView !== 2, \'chili-color-back\': selectedView === 2}"\n                              ng-click="changeView(2)"></span>\n                            <span class="new-icon new-icon-group1 round-icon-with-padding cursor-pointer"\n                                  ng-class="{\'gray-color-back\': selectedView !== 1, \'chili-color-back\': selectedView === 1}"\n                                  ng-click="changeView(1)"></span>\n                        </div>\n                        <div class="col-lg-7 col-md-7 col-sm-12 col-xs-12 col-xxs-12 default-tab-parent">\n                            <div class="row default-tab-wrapper pull-right">\n                                <a ui-sref="app.restaurantnew.show.menu">\n                                    <div class="col-xs-4 col-xxs-4 pull-right default-tab"\n                                         ng-class="{\'selected-tab\' : selectedTab.bool === 0}" ng-click="selectedTab.bool = 0">\n                                        <span class="new-icon new-icon-tab_icon1 inline-block middleAlign icon-of-tab hidden-sm hidden-xs hidden-xxs default-tab-icon"></span>\n                                        <span class="default-tab-text inline-block middleAlign"></span>\n                                    </div>\n                                </a>\n                                <a ui-sref="app.restaurantnew.show.comment">\n                                    <div class="col-xs-4 col-xxs-4 pull-right default-tab"\n                                         ng-class="{\'selected-tab\' : selectedTab.bool === 1}" ng-click="selectedTab.bool = 1">\n                                        <span class="new-icon inline-block middleAlign new-icon-tab_icon2 icon-of-tab hidden-sm hidden-xs hidden-xxs default-tab-icon"></span>\n                                        <span class="default-tab-text inline-block middleAlign">  </span>\n                                    </div>\n                                </a>\n                                <a ui-sref="app.restaurantnew.show.info">\n                                    <div class="col-xs-4 col-xxs-4 pull-right default-tab"\n                                         ng-class="{\'selected-tab\' : selectedTab.bool === 2}" ng-click="selectedTab.bool = 2">\n                                        <span class="new-icon inline-block middleAlign new-icon-tab_icon3 icon-of-tab hidden-sm hidden-xs hidden-xxs default-tab-icon"></span>\n                                        <span class="default-tab-text inline-block middleAlign"></span>\n                                    </div>\n                                </a>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!-- end of tabbed menu -->\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-lg-3 col-md-3 hidden-sm hidden-xs hidden-xxs" id="basket-fix">\n                <div class="left-content">\n                    <div class="fullWidth back-to-restaurants sticky-back hidden-sm hidden-xs hidden-xxs text-center tenPaddingTopBottom">\n                        <a href="{{goToRestaurantList}}">\n                            <span class="btr-text">   </span>\n                            <span class="new-icon new-icon-back_to_restaurants btr-icon fivePaddingInRight"></span>\n                        </a>\n                    </div>\n                    <div class="pre-order fullWidth" style="display: none;">\n                        <div class="relativeMatter space-in-head">\n                            <span class="new-icon new-icon-calendar absoluteMatter verticalCenter calendar-pre-order"></span>\n                            <span class="selected-pre-order">  </span>\n                            <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n                        </div>\n                        <div class="fullWidth pre-order-selection-wrapper space-in-head">\n                            <div class="halfWidth relativeMatter">\n                                <span></span>\n                                <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n                            </div>\n                            <div class="halfWidth relativeMatter">\n                                <span></span>\n                                <span class="icon icon-arrow-down absoluteMatter verticalCenter arrow-down-pre-order"></span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row">\n                        <div class="basket-wrapper">\n                        <div class="basket-counter-wrapper fullWidth"\n                             ng-class="{\'disable-basket\': basket.basket.totalCount === 0}">\n                            <div class="pull-right">\n                                <span class="new-icon new-icon-bascket basket-icon pull-right"></span>\n                                <span class="pull-right basket-title-text"> </span>\n                            </div>\n                            <div class="pull-left">\n                                <div class="inline-block basket-counter relativeMatter">\n                                    <span class="white-color objectInMiddle">{{basket.basket.totalCount}}</span>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="basket-body fullWidth" ng-show="basket.basket.totalCount > 0">\n                            <div class="basket-item relativeMatter fullWidth"\n                                 ng-repeat="(id,item) in basket.basket.items">\n                                <i class="icon icon-cancel remove-item-icon cursor-pointer absoluteMatter"\n                                   ng-click="removeEntryFromBasket(foodMap[item.orderItemFoodId], item.options)"></i>\n                                <div class="basket-item-title">{{foodMap[item.orderItemFoodId].name}}</div>\n                                <div class="fullWidth side-dish-wrapper relativeMatter"\n                                     ng-show="item.options !== undefined && item.options.length !== 0">\n                                    <div class="fullWidth side-dish-item" ng-repeat="option in item.options">\n                                        <div class="halfWidth text-right verySmall3Font">{{option.foodOptionName}}</div>\n                                        <div class="halfWidth text-left verySmall3Font"\n                                             ng-show="option.foodOptionPrice !== 0">{{option.groupPriceDisplayType == 0 ? ((option.foodOptionPrice + item.foodPrice)|number) : (option.foodOptionPrice|number)}}\n                                            \n                                        </div>\n                                    </div>\n                                    <button class="absoluteMatter edit-side-dish smallFirstFont"\n                                            ng-click="mainActions.editBasketItem(item, foodMap[item.orderItemFoodId], id)">\n                                        \n                                    </button>\n                                </div>\n                                <div class="fullWidth" style="margin-top: 20px;">\n                                    <div class="halfWidth operat-wrapper">\n                                        <div class="fullWidth ordering-section">\n                                            <a href="#" class="decrease"\n                                               ng-click="removeOneFromBasket(foodMap[item.orderItemFoodId], item.options)">\n                                                <span class="new-icon new-icon-minus_2 pull-right"></span>\n                                            </a>\n                                            <span class="food-count pull-right">{{item.itemCount}}</span>\n                                            <a href="#" class="increase"\n                                               ng-click="addOneToBasket(foodMap[item.orderItemFoodId], item.options)">\n                                                <span class="new-icon new-icon-plus_2 pull-right"></span>\n                                            </a>\n                                        </div>\n                                    </div>\n                                    <div class="basket-item-price text-left absoluteMatter">\n                                        {{calculatePriceOfEntry(foodMap[item.orderItemFoodId], item) | number}} \n                                    </div>\n                                </div>\n                            </div>\n                            <div class="fullWidth">\n                                <div class="fullWidth padder-top-bottom" ng-show="basket.basket.restaurantPackagingPrice !== 0">\n                                    <div class="halfWidth text-right smallFirstFont">  </div>\n                                    <div class="halfWidth text-left smallFirstFont">\n                                        {{basket.basket.restaurantPackagingPrice|number}} \n                                    </div>\n                                </div>\n                                <div class="fullWidth padder-top-bottom" ng-show="basket.basket.vat !== 0">\n                                    <div class="halfWidth text-right smallFirstFont"> </div>\n                                    <div class="halfWidth text-left smallFirstFont">{{basket.basket.vat|number}} \n                                    </div>\n                                </div>\n                                <div class="fullWidth padder-top-bottom total-price-wrapper">\n                                    <div class="halfWidth text-right smallFirstFont"> </div>\n                                    <div class="halfWidth text-left smallFirstFont">{{basket.basket.totalPrice | number}}\n                                        \n                                    </div>\n                                </div>\n                                <div class="fullWidth padder-top-bottom">\n                                    <span class="verySmall3Font">        .</span>\n                                </div>\n                            </div>\n                            <div class="fullWidth smallFirstFont marginFromTopOneStep"> :</div>\n                            <div class="fullWidth">\n                                <div class="delivery-type-selector fullWidth">\n                                <span class="pull-right smallFirstFont delivery-type cursor-pointer delivery-right-part"\n                                      ng-class="{\'selected-delivery-type\' : basket.basket.deliveryType === true}"\n                                      ng-click="changeDeliveryType(true)">  </span>\n                                    <span class="pull-left smallFirstFont delivery-type cursor-pointer delivery-left-part"\n                                          ng-class="{\'selected-delivery-type\' : basket.basket.deliveryType === false}"\n                                          ng-click="changeDeliveryType(false)">  </span>\n                                </div>\n                            </div>\n                            <div class="fullWidth accept-order"\n                                 ng-class="{\'wait-for-order\': basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit}">\n                                <button class="fullWidth loadingInCenterOfButton"\n                                        ng-show="!basket.basket.minPriceSendLimit || basket.basket.totalPrice >= basket.basket.minPriceSendLimit"\n                                        ng-click="saveBasketData()"> \n                                    <spinner-loader ng-show="loadingBasket"></spinner-loader>\n                                </button>\n                                <button class="fullWidth"\n                                        ng-show="basket.basket.minPriceSendLimit && basket.basket.totalPrice < basket.basket.minPriceSendLimit"\n                                        disabled>  {{basket.basket.minPriceSendLimit|number}}\n                                    \n                                </button>\n                            </div>\n                        </div>\n                        <div class="basket-body fullWidth empty-basket-wrapper"\n                             ng-show="basket.basket.totalCount === 0">\n                            <div class="text-center twentyStepFromTop">\n                                <span class="new-icon new-icon-bascket veryLightColor veryBigFont"></span>\n                                <p class="veryLightColor bigFont2">   !</p>\n                                <div class="fullWidth accept-order wait-for-order"\n                                     ng-show="restaurant.isOpen === true && basket.basket.minPriceSendLimit">\n                                    <button class="fullWidth" disabled>  {{basket.basket.minPriceSendLimit|number}}\n                                        \n                                    </button>\n                                </div>\n                                <div class="fullWidth accept-order" ng-show="restaurant.isOpen !== true">\n                                    <button class="fullWidth">  !</button>\n                                </div>\n                                <div class="now-close fullWidth" ng-show="restaurant.isOpen !== true">\n                                <span class="small2Font" ng-show="restaurant.nextActivationTime.time != 0">   <div\n                                        class="inline-block relativeMatter overflow-hidden hour-wrapper"><span\n                                        class="hour-container objectInMiddle">{{restaurant.nextActivationTime.time}}</span></div> {{restaurant.nextActivationTime.unit === \'h\' ? \'\' : \'\'}} </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 col-xxs-12 default-tab-content-container">\n                <div ui-view ng-if="restaurant"></div>\n            </div>\n        </div>\n    </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/restaurants/map-section-in-info.html",'<div class="fullWidth map-container-info relativeMatter">\n    <p class="absoluteMatter address-in-map"><span class="new-icon new-icon-pin pull-right bigFont tenPaddingRight fivePaddingInLeft"></span>{{restaurant.address}}</p>\n    <div id="map-in-info"></div>\n    <div class="open-zooming-modal absoluteMatter">\n        <a href="#" ng-click="openModalForShowing()">\n            <div>\n                <span class="new-icon new-icon-search2 zooming-icon pull-right"></span>\n                <span class="zooming-text pull-right"> </span>\n            </div>\n        </a>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/menu-section.html",'<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 menu-section-wrapper" id="section-{{sectionId}}">\n    <div class="fullWidth menu-section relativeMatter" ng-style="menuBackground" ng-class="{\'menu-section-without-image\': withoutImage}">\n        <div class="menu-section-info">\n            <div class="fullWidth tenPaddingBottom bordered-info-child">\n                <span class="new-icon lightGrayColor middleAlign" ng-class="[\'new-icon-\' + (icon ? icon : \'food\')]"></span>\n                <span class="title-in-menu-section">{{menuTitle}}</span>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/menu.html",'<div class="fullWidth default-tab-content" ng-if="selectedTab.bool === 0">\n    <restaurant-top-menu></restaurant-top-menu>\n    <div class="row" style="margin: 30px 0;">\n        \n        <div ng-repeat="section in restaurant.menuSections">\n            <div class="row"><menu-section icon="section.iconSlug" image="section.image" menu-title="section.name" section-id="section.id"></menu-section></div>\n            <div ng-repeat="food in section.foods" class="food-item-row" ng-class="{\'food-gride-view\' : selectedView === 2, \'food-list-view\': selectedView === 2, \'food-list-simple\': restaurant.menuView === 3}">\n                <food-item ng-if="selectedView === 2"></food-item>\n                <food-item-vertical ng-if="selectedView === 1"></food-item-vertical>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/operate-section.html",'<div class="threeTenWidth operat-wrapper text-left">\n    <a href="#" ng-click="openDetailModal(food)" class="side-dish-selection" ng-show="food.hasOption === true && food.status === 1">\n        <span class="selection-text"></span>\n        <span class="new-icon new-icon-plus_2 plus-icon-selection"></span>\n    </a>\n    <div class="fullWidth ErrorColor small4Font finished-text" ng-show="restaurant.isOpen === true && food.status !== 1"> !</div>\n    <div class="fullWidth ordering-section" ng-show="food.hasOption !== true && food.status === 1">\n        <a href="#" class="increase" ng-click="addOneToBasket(food)">\n            <span class="new-icon new-icon-plus_2 pull-left"></span>\n        </a>\n        <span class="food-count pull-left" ng-show="ordered(food)">{{countOrder(food)}}</span>\n        <a href="#" class="decrease" ng-click="removeOneFromBasket(food)" ng-show="ordered(food)">\n            <span class="new-icon new-icon-minus_2 pull-left"></span>\n        </a>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/restaurant_comment.html",'<div id="rest-comment" class="tab-pane">\n    <div ng-show="loading">\n        <internal-loading></internal-loading>\n    </div>\n  <section class="user-reviews user-review-in-tab" ng-show="! loading">\n      <div class="user-rates" >\n        <div class="user-rates-wrapper">\n            <div class="border-light-gray-1 border-radius-20 clearfix stars-wrapper inline-block">\n              <ul class="list-nopadd list-unstyled list-inline star-rating-custom inline-block no-margin">\n                    <rating stars="restaurant.restaurantRateAverage"></rating>\n              </ul>\n              <div class="star-rate-item star-data">\n                  <div>{{ restaurant.restaurantRateAverage | persian}}</div>\n\n                  <div class="star-count-number light-gray font-small">\n                      <div>(</div>\n                      <div><i class="icon icon-person"></i> </div>\n                      <div class="user-rate-num">{{restaurant.restaurantCommentCount ? restaurant.restaurantCommentCount : 0| persian}}</div>\n                      <div>)</div>\n                  </div>\n\n              </div>\n            </div>\n            <div class="rates-number">\n                  <div ng-show="foodQualityVisible" class="columns food-quality">\n                      <div class="font-small">\n                        <span class="light-gray"> </span>\n                        <rate number="foodQuality"></rate>\n                    </div>\n                  </div>\n\n                  <div ng-show="deliverySpeedVisible" class="columns delivery-speed ">\n                      <div class="font-small">\n                          <span class="light-gray"> </span>\n                           <rate number="deliverySpeed"></rate>\n                      </div>\n                  </div>\n            </div>\n        </div>\n      </div>\n      <div class="emoji-container text-center real-big-font-icon">\n          <div class="emoji-item text-center">\n\n              <circle-progress-bar-with-emoji percentage="rateCountAvgThree" progress-bar-color="#32c343" face="happy" font-size="font-icon-large" color="default"></circle-progress-bar-with-emoji>\n              <p>{{rateCountAvgThree}} <span>% </span> </p>\n\n          </div>\n          <div class="emoji-item text-center">\n              <circle-progress-bar-with-emoji percentage="rateCountAvgTwo"  progress-bar-color="#ffc200" face="normal" font-size="font-icon-large" color="default"></circle-progress-bar-with-emoji>\n              <p>{{rateCountAvgTwo}} <span>% </span></p>\n          </div>\n          <div class="emoji-item text-center">\n              <circle-progress-bar-with-emoji  percentage="rateCountAvgOne"  progress-bar-color="#ef4556" face="sad" font-size="font-icon-large" color="default"></circle-progress-bar-with-emoji>\n            <p> {{rateCountAvgOne}}  <span> % </span>  </p>\n        </div>\n      </div>\n\n      <div class="your-comment-emojis background-pattern" ng-show="commentVisibility"  >\n          <!--further form-->\n          <order-comment-form ids="ids" foods="lastOrder.items" order="lastOrder" restaurant-id="restaurantId" date="date"></order-comment-form>\n          <!--end of further form-->\n      </div>\n  <!--end of add comment part-->\n  </section>\n\n  <!--previous comments-->\n  <section class="user-comments padding-20">\n    <comments-list></comments-list>\n  </section>\n  <!--end of previous comments-->\n\n</div>\n'),e.put("/app/user/ngApp/templates/views/restaurants/restaurant_info.html",'<div id="rest-info" class="tab-pane">\n  <section class="rest-tab-info clearfix">\n    <div class="col-lg-6 col-md-6 col-xs-12 pull-right">\n      <div class="col-lg-12 col-md-12 col-xs-12 nopadding-x">\n        <div class="title-bar title-bar-2 list-inline">\n          <i class="icon icon-bullet"></i>\n          <span class="color-red-1"></span>\n        </div>\n      </div>\n      <div class="col-md-12 col-xs-12 nopadding-x">\n        <ul class="list-nopadd list-unstyled info-list">\n          <li>\n            <i class="icon icon-rest-type"></i>\n            <span class="title"> :\n            </span>\n            <span ng-repeat="(catId, type) in restaurant.restaurantType" class="desc"\n                  style="margin-right: 0.7em;">{{type.tagName}}\n            </span>\n          </li>\n          <li>\n            <i class="icon icon-food"></i>\n            <span class="title"> :\n            </span>\n            <span class="desc">\n              <span ng-repeat="(typeId, type) in restaurant.restaurantFoodTypes">{{type.tagName}}\n                .\n              </span>\n            </span>\n          </li>\n          <li>\n            <i class="icon icon-basket"></i>\n            <span class="title"> :\n            </span>\n            <span class="desc"> {{restaurant.restaurantMinPriceSendLimit | number | persian }}\n              </span>\n          </li>\n          <li>\n            <i class="icon icon-money"></i>\n            <span class="title"> :\n            </span>\n            <span class="desc">\n              <span>\n                  {{ restaurant.restaurantFinancialLevel.tagName }}\n              </span>\n            </span>\n          </li>\n          <li>\n            <i class="icon icon-transport"></i>\n            <span class="title">  :\n            </span>\n            <span class="desc" ng-show="restaurant.deliveryTime">{{restaurant.deliveryTime[0]}}  {{restaurant.deliveryTime[1]}}\n              </span>\n            <span class="desc" ng-show="!restaurant.deliveryTime">\n                     \n            </span>\n          </li>\n          <li>\n            <i class="icon icon-truck"></i>\n            <span class="title">    :\n            </span>\n            <span class="desc" ng-show="restaurant.currentDeliveryZone">  {{restaurant.currentDeliveryZone.currentDeliveryZonePrice}} </span>\n            <span class="desc" ng-show="!restaurant.currentDeliveryZone">      </span>\n          </li>\n          <li>\n            <i class="icon icon-map"></i>\n            <span class="title">  :\n            </span>\n            <span class="desc">\n              <span ng-repeat="(zoneId, zone) in restaurant.deliveryZoneList">\n                {{zone.deliveryZoneTitle}} .\n              </span>\n            </span>\n          </li>\n          <li>\n            <i class="icon icon-bag"></i>\n            <span class="title"> :</span>\n            <span class="desc">{{ restaurant.restaurantDeliveryBy }}</span>\n          </li>\n          <li>\n            <i class="icon icon-card-2"></i>\n            <span class="title"> :</span>\n            <span class="desc"></span>\n          </li>\n          <li>\n            <i class="icon icon-web"></i>\n            <span class="title"> :</span>\n            <span class="desc">{{restaurant.restaurantSite}}</span>\n          </li>\n          <li>\n            <i class="icon icon-email"></i>\n            <span class="title">:</span>\n            <span class="desc">{{ (restaurant.restaurantEmail) ? restaurant.restaurantEmail :\n              \'___\'}}</span>\n          </li>\n          <li>\n            <i class="icon icon-parking"></i>\n            <span class="title">:</span>\n            <span class="desc">{{ (restaurant.features[0].parking) ? \'\' : \'\'}}</span>\n          </li>\n\n          <li>\n            <i class="icon icon-menu-2"></i>\n            <span class="title">:</span>\n            <p ng-bind-html="restaurant.restaurantDescription"></p>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-md-6">\n      <div class="col-md-12 nopadding-x">\n        <div class="title-bar title-bar-2 list-inline">\n          <i class="icon icon-bullet"></i>\n          <span class="color-red-1"></span>\n        </div>\n      </div>\n      <div class="col-md-12 nopadding-x">\n        <div class="rest-map">\n          <p class="address">\n            <i class="icon icon-pin-2"></i>\n            {{ restaurant.neighborhood.name }} - {{ restaurant.restaurantAddress }}\n          </p>\n        </div>\n        <div style="width:100%; height: 200px;" id="map-box"></div>\n      </div>\n      <div class="col-md-12 nopadding-x">\n        <div class="title-bar title-bar-2 list-inline">\n          <i class="icon icon-bullet"></i>\n          <span class="color-red-1">  </span>\n        </div>\n      </div>\n      <div class="col-md-12 nopadding-x">\n        <div class="panel">\n          <div class="table-responsive time-sheet">\n            <table class="table">\n              <tbody>\n\n              <tr ng-repeat="day in restaurant.openingInfo">\n                <td class="day">  {{ day[0].timeDay }} </td>\n                <td ng-repeat="hour in day">\n                    {{ hour.start }}  {{ hour.end }}\n                </td>\n              </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</div>\n'),e.put("/app/user/ngApp/templates/views/restaurants/restaurant_menu.html",'<!-- {{viewMode}}\n<br>\nlistView: {{listView}}\n<br>\ngridView: {{gridView}}\n<br>\nlistWithModal: {{listWithModal}}\n<br>\nisMobile : {{isMobile}} -->\n<div id="food-menu" class="tab-pane in active">\n  <section class="content-food-menu clearfix">\n    <div class="col-md-12 nopadding-x">\n      <ul class="list-inline list-unstyled grid-view-change text-left hidden-xs">\n        <li id="grid-view" ng-click="changeView(\'grid\')"\n            ng-class="{\'active\' : gridView}">\n          <i class="icon icon-group1"></i>\n        </li>\n        <li ng-if="viewMode == \'listView\'" id="row-view" ng-click="changeView(\'list\')"\n            ng-class="{\'active\' : listView || listWithModal}">\n            <i class="icon icon-row-view"></i>\n        </li>\n        <li ng-if="viewMode == \'listWithModal\' || viewMode == \'gridView\'" id="row-view" ng-click="changeView(\'list-with-modal\')"\n           ng-class="{\'active\': listView || listWithModal}">\n          <i class="icon icon-row-view"></i>\n        </li>\n       \n      </ul>\n    </div>\n    <restaurant-top-menu></restaurant-top-menu>\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-mobile">\n        <!--special food menu items-->\n          <special-food-items ng-show="showSpecials" viewMode="{{viewMode}}"></special-food-items>\n        <!--end of special food menu items-->\n      <div class="special-offer clearfix">\n        <!-- header Of Food category  Section -->\n        <span ng-repeat="(sectionId, section) in restaurant.menuSections">\n          <menu-headers></menu-headers>\n        <!--beigin of food\'s item loop in in listView Mode-->\n            <div ng-if="listView">\n              <list-view-items ng-repeat="(foodId, food) in section.foods"></list-view-items>\n            </div>\n        <!--end of food\'s item loop in listView Mode-->\n\n        <!--beigin of food\'s item loop in gridView Mode-->\n            <div ng-if="gridView && !isMobile">\n                <grid-view-items ng-repeat="(foodId, food) in section.foods track by $index"></grid-view-items>\n            </div>\n        <!--end of food\'s item loop in gridView Mode-->\n\n      <!--beigin of food\'s item loop in listWithModal Mode-->\n            <div ng-if="listWithModal">\n                <list-with-modal-items ng-repeat="(foodId, food) in section.foods"></list-with-modal-items>\n            </div>\n          <!--end of food\'s item loop in listWithModal Mode-->\n        </span>\n      </div>\n    </div>\n  </section>\n  \n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/show.html",'<!--<restaurant-region-modal></restaurant-region-modal>-->\n<!-- <select-region-modal></select-region-modal> -->\n<header class="header-bar-2 header-bar-read ">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-4 col-lg-4 col-sm-4 col-xs-4 col-xxs-12 hidden-xxs">\n        <a ui-sref="app.restaurantsnew.index({city:cityName, slug: restaurantRegionSlug})" class="location-red-back"> &zwnj;\n          <i class="icon icon-arrow-left"></i> </a>\n      </div>\n      <div class="col-md-4 col-lg-4 col-sm-4 col-xs-4 col-xxs-12 hidden-xxs">\n        <div class="location-read">{{restaurantNeighborhoodName}}</div>\n      </div>\n    </div>\n  </div>\n</header>\n<restaurant-header data="restaurant"></restaurant-header>\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li>\n            <a ui-sref="app.homepage"></a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantsnew.index({city: cityName,slug: undefined })">  {{cityFaName}} </a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantsnew.index({city:cityName,slug: restaurantRegionSlug})">  {{ restaurantNeighborhoodName}} </a>\n          </li>\n          <li>\n            <a ui-sref="app.restaurantnew.show.menu({city:cityName,slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="restaurant-content" ng-cloak>\n  <div class="container">\n    <div class="row">\n      <internal-loading ng-if="contentSpinner"></internal-loading>\n      <div ng-cloak ng-show="!contentSpinner" class="clearfix">\n        <div class="col-md-12" ng-if="restaurant.restaurantNotificationTimeLimit && restaurant.restaurantNotification.length > 0">\n          <div ng-show="restaurantAlertMessage" class="alert alert-success">\n            <div class="truncate message">\n              <i class="icon icon-basket2"></i> {{ restaurant.restaurantNotification }}\n            </div>\n            <a href="#" ng-click="closeBasketMobile()" class="close"> <i class="icon icon-cancel"></i> </a>\n          </div>\n        </div>\n        <div class="col-md-12">\n          <div ng-show="restaurantNoPointAlertMessage" class="alert alert-danger">\n            <div class="truncate message">\n                         .\n              <a style="text-decoration: underline; color: snow; cursor: pointer" ng-click="showModal()">  </a>\n            </div>\n            <a href="#" data-dismiss="alert" class="close"> <i class="icon icon-cancel"></i> </a>\n          </div>\n        </div>\n        <div class="col-md-12">\n          <div ng-show="restaurnatDelvieryZoneAlertMessage" class="alert alert-warning">\n            <div class="truncate message">\n                  {{ coockieNeighborhoodName }}         {{ coockieNeighborhoodName}}\n              <a class="regionlist-alert" ng-click="showRestaurantListByRegion()"> (   )</a>\n            </div>\n            <a href="#" data-dismiss="alert" class="close"> <i class="icon icon-cancel"></i> </a>\n          </div>\n        </div>\n        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" id="basket-fix">\n          <div class="rest-info-box">\n            <div class="sidebar-shoppingcart">\n              <div class="clearfix">\n                <div class="col-lg-9 col-md-6 col-sm-6 col-xs-6">\n                  <p class="rest-name">{{restaurant.restaurantName}}</p>\n                </div>\n                <div class="col-lg-3 col-md-6 col-sm-6 col-xs-6 no-padding">\n                  <div class="img-border"><img src="{{restaurant.profile}}" class="img-responsive"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="rest-basket-status" ng-if="!restaurant.isOpen">\n              \n          </div>\n\n          <!-- desktop Basket -->\n\n          <div id="basket" class="sidebar-shoppingcart slideup clearfix" ng-class="{\'deactive\': !(basketService.basket.totalCount > 0 ) || !restaurant.isOpen }">\n            <div class="header clearfix">\n              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">\n                <span class="shopping-icon">\n                  <span class="num"> {{restaurant.isOpen ? basketService.basket.totalCount : 0}} </span>\n                  <i class="icon icon-basket2"></i> </span>\n              </div>\n              <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">\n                <span class="text"> \n                </span>\n              </div>\n            </div>\n            <div class="shoppingcart-control clearfix">\n                <div class="col-md-12" ng-repeat="(foodId, item) in basketService.basket.items" ng-show="restaurant.isOpen">\n                    <div class="shoppingcart-item">\n                      <div class="item-header">\n                      <!--{{item}}-->\n                      <span class="name truncate">{{item.foodName}} </span>\n                      <a style="cursor: pointer;" ng-click="basketService.cancelItem(foodId)">\n                          <i class="icon icon-cancel"></i> </a>\n                      </div>\n                      <div class="item-details">\n\n                        <!-- Ordering options -->\n                        <span ng-if="item.options" ng-repeat="options in restaurant.foods[item.orderItemFoodId].options">\n                          <span ng-repeat="option in options.options">\n\n                            <span ng-repeat="item in item.options">\n                              <span class="col-md-12" ng-if="item.foodOptionId == option.foodOptionId">\n                                <!-- <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price"><p class="truncate" ng-if="option.price > 0">{{option.price}}</p></span> -->\n                                <p class="truncate">{{option.foodOptionName}}</p>\n                              </span>\n                            </span>\n                          </span>\n                        </span>\n                        <!-- Ordering options -->\n\n\n\n                        <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                            <p class="truncate">\n\n                               {{ priceItem(item) |number }} \n                              <!-- {{item.price | number | persian}}  -->\n                              <!-- {{restaurant.foods[item.orderItemFoodId].foodPrice | number | persian}}   -->\n                            </p>\n                        </span>\n                        <span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x controls">\n                          <span class="minus" ng-click="basketService.removeFromBasket(foodId, restaurant.foods[item.orderItemFoodId].foodPrice)">\n                            <i class="icon icon-minus" ng-hide="basketService.inWait[foodId]"></i>\n                            <div ng-show="basketService.inWait[foodId]">\n                              <spinner-loader></spinner-loader>\n                            </div>\n                          </span><span class="num">{{item.itemCount | persian}}</span>\n                          <span class="plus basket-plus" ng-click="basketService.addToBasket(foodId, restaurant.foods[item.orderItemFoodId].foodPrice)">\n                            <i class="icon icon-plus " ng-hide="basketService.inWait[foodId]"></i>\n                            <div ng-show="basketService.inWait[foodId]">\n                              <spinner-loader></spinner-loader>\n                            </div>\n                          </span>\n                        </span>\n\n\n\n                      </div>\n                  </div>\n                </div>\n              <div class="col-md-12">\n                <div class="additions">\n                  <div class="empty-basket" ng-hide="basketService.basket.totalCount > 0">\n                    <div class="img"></div>\n                    <p>    </p>\n                  </div>\n\n                  <div class="fill-basket">\n                    <div class="delivery-price clearfix">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate"> {{basketService.basket.deliveryZonePrice | number | persian }}  </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate"> :</span>\n                      </div>\n                    </div>\n                    <div class="delivery-price clearfix">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate"> {{basketService.basket.restaurantPackagingPrice | number | persian }}  </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate">  :</span>\n                      </div>\n                    </div>\n                    <div class="tax-price clearfix">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate">{{basketService.basket.vat | number | persian }} </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate">  :</span>\n                      </div>\n                    </div>\n                    <div class="full-price clearfix">\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="price truncate"> {{parsePrice( basketService.basket.totalPrice) | number | persian }}  </span>\n                      </div>\n                      <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                        <span class="text truncate">  :</span>\n                      </div>\n                    </div>\n                  </div>\n                  <div class="deliver-system clearfix" ng-show="restaurant.isOpen">\n                    <p class="text">  :</p>\n                    <div class="system-select clearfix">\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <span class="before" ng-class="{false:\'checked\'}[basketService.basket.deliveryType]">  </span>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <label>\n                          <input ng-model="basketService.basket.deliveryType" ng-change="basketService.toggleDeliveryType()" type="checkbox" class="ios-switch" ng-disabled="basketService.deliveryDisabled">\n                          <span class="circle"></span> </label>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <span class="after" ng-class="{true:\'checked\'}[basketService.basket.deliveryType]">   </span>\n                      </div>\n                    </div>\n                  </div>\n                  <a href="#" ng-show="\n                            (\n                              restaurant.isOpen\n                              && !isEmptyObject(basketService.basket.items)\n                            )\n                            && checkMinPrice(basketService.basket.deliveryType, basketService.basket.totalPrice,  restaurant.restaurantMinPriceSendLimit)\n                            && !basketService.basket.disable\n                          "\n                     ng-click="basketService.saveBasketData({name: \'app.pay\'}, true)"\n                     class="btn btn-default-md btn-green"> \n                    <div ng-show="basketService.basket.spinnerShow">\n                      <spinner-loader></spinner-loader>\n                    </div>\n                  </a>\n                  <span\n                      ng-show=\n                          "\n                        (\n                            !restaurant.isOpen          ||\n                            !checkMinPrice(basketService.basket.deliveryType, basketService.basket.totalPrice,  restaurant.restaurantMinPriceSendLimit) ||\n                            isEmptyObject(basketService.basket.items) ||\n                            basketService.basket.disable\n                        )\n                        " class="btn btn-default-md btn-disabled">  </span>\n                  <span ng-show="(basketService.basket.totalPrice < restaurant.restaurantMinPriceSendLimit) && (basketService.basket.deliveryType == false)" class="minimum-order">  : {{restaurant.restaurantMinPriceSendLimit | number | persian }}  </span>\n                  <p class="open-hours" ng-show=" (\n                    !restaurant.isOpen && restaurant.nextActivationTime\n                      )">\n                         :\n                      <span> {{restaurant.nextActivationTime}}  </span>\n\n                    </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- end of desktop Basket -->\n          <mobile-basket></mobile-basket>\n        </div>\n\n        <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n          <div class="rest-tabs">\n            <ul class="nav nav-tabs">\n              <li class="active menu">\n                <a ui-sref="app.restaurantnew.show.menu" data-target="food-menu" data-toggle="tab">  </a>\n              </li>\n              <li class="comment">\n                <a ui-sref="app.restaurantnew.show.comment" data-target="rest-comment" data-toggle="tab">    </a>\n              </li>\n              <li class="info">\n                <a ui-sref="app.restaurantnew.show.info" data-target="rest-info" data-toggle="tab">   </a>\n              </li>\n            </ul>\n            <div class="tab-content">\n              <div ui-view autoscroll="false" keep-scroll-position></div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="basket-icon-wrapper">\n    <a href="javascript:void(0)" id="basket-icons" class="basket-scroll visible-xs visible-sm" ng-click="openBasket($event)">\n      <span ng-show="showBasketCount" class="basket-count"> {{basketService.basket.totalCount }}</span> <i class="icon icon-basket2"></i>\n    </a>\n</div>\n</section>\n<button ng-if="showActiveButton" ng-click="activeRestaurant()" class="draf-save-button btn-green">\n   \n  <div class="md-ripple-container"></div>\n</button>\n<div class="basket-overlay-on-body"></div>\n'),e.put("/app/user/ngApp/templates/views/restaurants/show_backup.html",'<profile-base></profile-base>\n<div ng-controller="showRestaurantController">\n  <section class="restaurant-header">\n    <div class="panel-img">\n      <div class="overlay"></div>\n      <div class="container">\n        <div class="row">\n          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-right">\n            <div class="restaurant-info-1 deactive">\n              <span class="restaurant-logo-rate">\n                <div class="img-holder"><img src="assets/img/img-ico/respina.jpg" class="img-responsive center-block">\n                  <div class="overlay"></div>\n                </div>\n                <ul class="list-inline rating">\n                  <li class="active"><i class="icon icon-star-fill"></i></li>\n                  <li class="active"><i class="icon icon-star-fill"></i></li>\n                  <li class="active"><i class="icon icon-star-fill"></i></li>\n                  <li><i class="icon icon-star-fill"></i></li>\n                  <li><i class="icon icon-star-fill"></i></li>\n                </ul>\n              </span>\n              <span class="restaurant-deatail">\n                <span class="title">\n                  <h1> </h1></span>\n                <p class="address"><i class="icon icon-pin-2"> </i>       23\n                  \n                  9</p>\n                <p class="delivery-time"><i class="icon icon-truck2"></i>  : 30 </p>\n              </span>\n            </div>\n          </div>\n          <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">\n            <div class="restaurant-state deactive-restaurant">\n              <span class="text">\n                <p>  </p>\n                <p>: - : : - :</p></span>\n              <span class="state"><i class="icon icon-opendoor"></i></span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section class="restaurant-content">\n    <div class="container">\n      <div class="row">\n        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12 sidebar-fix">\n          <div class="sidebar-shoppingcart clearfix">\n            <div class="header">\n              <div class="col-md-6">\n                <span class="shopping-icon">\n                  <span class="num">{{ basketService.basket.totalCount }}</span>\n                  <i class="icon icon-basket2"></i>\n                </span>\n              </div>\n              <div class="col-md-6">\n                <span class="text"> </span>\n              </div>\n            </div>\n            <div class="shoppingcart-control clearfix">\n              <div class="col-md-12" ng-repeat="(foodId,item) in basketService.basket.items" ng-if="item.name">\n                <div class="shoppingcart-item">\n                  <div class="item-header">\n                    <span class="name truncate">{{ item.name }}</span>\n                    <a href="" ng-click="basketService.cancelItem(foodId)"><i class="icon icon-cancel"></i></a>\n                  </div>\n                  <div class="item-details">\n                    <span class="col-6 col-md-5 col-sm-6 col-xs-6 nopadding-x price">\n                      <p class="truncate">{{ item.price }} </p>\n                    </span>\n                    <span class="col-6 col-md-7 col-sm-6 col-xs-6 nopadding-x controls">\n                      <span class="minus" ng-click="basketService.removeFromBasket(foodId, item.price)">\n                        <i class="icon icon-minus"></i>\n                      </span>\n                      <span class="num">{{ item.itemCount }}</span>\n                      <span class="plus" ng-click="basketService.addToBasket(foodId, item.price, item.name)">\n                        <i class="icon icon-plus"></i>\n                      </span>\n                    </span>\n                  </div>\n                </div>\n              </div>\n              <div class="col-md-12">\n                <div class="additions">\n                  <div class="delivery-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate"> \n                        \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate">\n                        :\n                      </span>\n                    </div>\n                  </div>\n                  <div class="tax-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate"> \n                        \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate"> \n                        :\n                      </span>\n                    </div>\n                  </div>\n                  <div class="full-price clearfix">\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="price truncate"> {{ basketService.basket.totalPrice }} \n                      </span>\n                    </div>\n                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 nopadding-x">\n                      <span class="text truncate"> \n                        :\n                      </span>\n                    </div>\n                  </div>\n                  <div class="deliver-system clearfix">\n                    <p class="text">  :</p>\n                    <div class="system-select">\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <span class="before"> </span>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <label>\n                          <input type="checkbox" checked class="ios-switch">\n                          <span class="circle"></span>\n                        </label>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 nopadding-x">\n                        <span class="after checked">\n                          \n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <a href="#" class="btn btn-default-md btn-green"\n                     ng-style="(basketService.basket.totalPrice < restaurant.restaurantMinPriceSendLimit) ? {cursor: \'default\', \'pointer-events\': \'none\', \'opacity\': 0.5} : {}">\n                    </a>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12">\n          <div class="rest-tabs">\n            <ul class="nav nav-tabs">\n              <li class="active"><a href="\\\\#food-menu" data-toggle="tab"> </a>\n              </li>\n              <li><a href="\\\\#rest-info" data-toggle="tab"> </a>\n              </li>\n              <li><a href="\\\\#rest-comment" data-toggle="tab">   </a>\n              </li>\n            </ul>\n            <div class="tab-content">\n              <div id="food-menu" class="tab-pane fade in active">\n                <section class="content-food-menu clearfix">\n                  <div class="col-md-12 nopadding-x">\n                    <ul class="list-inline list-unstyled grid-view-change text-left hidden-xs">\n                      <li id="row-view" class="active"><i class="icon icon-row-view"></i>\n                      </li>\n                      <li id="grid-view"><i class="icon icon-group1"></i>\n                      </li>\n                    </ul>\n                  </div>\n                  <div class="col-md-12 nopadding-x smooth-fix">\n                    <ul id="top-menu" class="list-inline list-unstyled text-right content-jump">\n                      <li ng-repeat="tag in restaurant.foods.tags" class="food-tag"><a href=""\n                                                                                       ng-click="scrollTo($event, tag)"\n                                                                                       class="scroll">{{ tag }}</a>\n                      </li>\n                    </ul>\n                  </div>\n                  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                    <div class="special-offer clearfix">\n                      <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 clearfix">\n                        <div class="title-bar list-inline"><i class="icon icon-special-tag"></i>\n                          <h2 class="color-red-1">  </h2>\n                          <h5 class="date">{{restaurant.today.day}} {{restaurant.today.date}}</h5>\n                        </div>\n                      </div>\n                      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 col-xxs-12 clearfix row-view grid-box"\n                           ng-repeat="special in restaurant.foods.special">\n                        <div class="restaurant-menu-item clearfix selected-box">\n                          <img src="app/user/assets/img/food/hamburger.jpg">\n                          <div class="caption">\n                            <p class="name">{{ special.food.foodName }}</p>\n                            <p class="desc">{{ special.food.foodDescription }}</p>\n                          </div>\n                          <div class="control-panel">\n                            <div class="col-lg-6 col-md-7 col-sm-6 col-xs-12 clearfix nopadding-x controls">\n                              <span class="plus"\n                                    ng-click="basketService.addToBasket(special.food.foodId, special.food.foodPrice, special.food.foodName)">\n                                <i class="icon icon-plus"></i>\n                              </span>\n                              <span class="num">{{ (basketService.basket.items[special.food.foodId].itemCount) ?\n                                basketService.basket.items[special.food.foodId].itemCount : 0 }}\n                              </span>\n                              <span class="minus"\n                                    ng-click="basketService.removeFromBasket(special.food.foodId, special.food.foodPrice)">\n                                <i class="icon icon-minus"></i>\n                              </span\n                              >\n                            </div>\n                            <div class="col-lg-6 col-md-5 col-sm-6 col-xs-12 nopadding-x clearfix price">\n                              <span>{{special.food.foodPrice}}\n                                \n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div ng-repeat="(tag,regular) in restaurant.foods.regular">\n                        <div id="{{tag}}" class="col-md-12 col-sm-12 col-xs-12 col-lg-12 clearfix">\n                          <div class="title-bar-2"><i class="icon icon-bullet"></i>\n                            <span\n                                class="color-red-1">{{tag}}\n                            </span>\n                          </div>\n                        </div>\n                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-6 col-xxs-12 clearfix row-view grid-box"\n                             ng-repeat="regularFood in regular">\n                          <div class="restaurant-menu-item clearfix selected-box">\n                            <img src="app/user/assets/img/food/hamburger.jpg">\n                            <div class="caption">\n                              <p class="name">{{ regularFood.food.foodName }}</p>\n                              <p class="desc">{{ regularFood.food.foodDescription }}</p>\n                            </div>\n                            <div class="control-panel">\n                              <div class="col-lg-6 col-md-7 col-sm-6 col-xs-12 clearfix nopadding-x controls">\n                                <span class="plus"\n                                      ng-click="basketService.addToBasket(regularFood.food.foodId, regularFood.food.foodPrice, regularFood.food.foodName)">\n                                  <i class="icon icon-plus"></i>\n                                </span>\n                                <span class="num">{{ (basketService.basket.items[regularFood.food.foodId].itemCount) ?\n                                  basketService.basket.items[regularFood.food.foodId].itemCount : 0 }}\n                                </span>\n                                <span class="minus"\n                                      ng-click="basketService.removeFromBasket(regularFood.food.foodId, regularFood.food.foodPrice)">\n                                  <i class="icon icon-minus"></i>\n                                </span\n                                >\n                              </div>\n                              <div class="col-lg-6 col-md-5 col-sm-6 col-xs-12 nopadding-x clearfix price">\n                                <span>{{regularFood.food.foodPrice}}\n                                  \n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </section>\n              </div>\n              <div id="rest-info" class="tab-pane fade">\n                <section class="rest-tab-info clearfix">\n                  <div class="col-md-6 pull-right">\n                    <div class="col-md-12 nopadding-x">\n                      <div class="title-bar list-inline"><i class="icon icon-bullet"></i>\n                        <span class="color-red-1"></span>\n                      </div>\n                    </div>\n                    <div class="col-md-12 nopadding-x">\n                      <ul class="list-nopadd list-unstyled info-list">\n                        <li>\n                          <i class="icon icon-rest-type"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">{{ restaurant.tags.restaurantType }}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-food"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">\n                            {{ restaurant.foods.inlineTags }}\n                          </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-basket"></i>\n                          <span class="title"> :</span>\n                          <span class="desc"> {{ restaurant.restaurantMinPriceSendLimit }} </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-money"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">{{ restaurant.tags.financialLevel }}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-transport"></i>\n                          <span class="title">  :</span>\n                          <span class="desc">{{ changeToMinute(restaurant.region[0].distance.duration) }} </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-truck"></i>\n                          <span class="title">    :</span>\n                          <span class="desc"> </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-map"></i>\n                          <span class="title">  :</span>\n                          <span class="desc">{{ restaurant.deliveryZones }}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-bag"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">  |  </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-card2"></i>\n                          <span class="title"> :</span>\n                          <span class="desc"> {{ (restaurant.restaurantWifiPos) ? \'  \' : \'\'\n                            }}\n                          </span>\n                        </li>\n                        <li>\n                          <i class="icon icon-web"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">{{ restaurant.restaurantSite }}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-email"></i>\n                          <span class="title">:</span>\n                          <span class="desc">{{ restaurant.contact.restaurantEmail }}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-parking"></i>\n                          <span class="title">:</span>\n                          <span class="desc">{{ (restaurant.features.parking) ? \'\' : \'\'}}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-mw"></i>\n                          <span class="title"> :</span>\n                          <span class="desc">{{ (restaurant.features.vip) ? \'\' : \'\'}}</span>\n                        </li>\n                        <li>\n                          <i class="icon icon-wheel-chair"></i>\n                          <span class="title">  :</span>\n                          <span class="desc">{{ (restaurant.features.paralizes) ? \'\' : \'\'}}</span>\n                        </li>\n                        <li class="ltr-direction">\n                          <span class="desc">{{ (restaurant.features.wifi) ? \'\' : \'\'}}</span>\n                          <span class="title">: WiFi</span>\n                          <i class="icon icon-wifi"></i>\n                        </li>\n                        <li>\n                          <i class="icon icon-menu-2"></i>\n                          <span class="title">:</span>\n                          <p class="desc">{{ restaurant.restaurantDescription }}</p>\n                        </li>\n                      </ul>\n                    </div>\n                  </div>\n                  <div class="col-md-6">\n                    <div class="col-md-12 nopadding-x">\n                      <div class="title-bar list-inline"><i class="icon icon-bullet"></i>\n                        <span\n                            class="color-red-1">\n                        </span>\n                      </div>\n                    </div>\n                    <div class="col-md-12 nopadding-x">\n                      <div class="rest-map">\n                        <p class="address"><i class="icon icon-pin-2"></i>{{ restaurant.restaurantAddress }}</p>\n                      </div>\n                      <div class="map-box" ng-if="googleMapURL">\n                        <iframe ng-src="{{ googleMapURL }}" width="400" height="300" frameborder="0" style="border:0"\n                                allowfullscreen></iframe>\n                      </div>\n                    </div>\n                    <div class="col-md-12 nopadding-x">\n                      <div class="title-bar list-inline"><i class="icon icon-bullet"></i>\n                        <span class="color-red-1">\n                           \n                        </span>\n                      </div>\n                    </div>\n                    <div class="col-md-12 nopadding-x">\n                      <div class="panel">\n                        <div class="table-responsive time-sheet">\n                          <table class="table">\n                            <tr ng-repeat="day in restaurant.openingInfo.dayInfo">\n                              <td class="day">{{day.timeDay}}</td>\n                              <td class="time">{{ day.timeEndNoon }} - {{ day.timeStartNoon }}</td>\n                              <td class="time">{{ day.timeEndMorning }} - {{ day.timeStartMorning }}</td>\n                            </tr>\n                          </table>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </section>\n              </div>\n              <div id="rest-comment" class="tab-pane fade">3</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section class="sub-section">\n    <div class="container">\n      <div class="row">\n        <div\n            class="col-lg-6 col-md-8 col-sm-8 col-xs-12 col-lg-offset-3 col-md-offset-2 col-sm-offset-2 col-xs-offset-0">\n          <h2 class="text-center color-red-1">  </h2>\n          <p class="text-center">            .</p>\n          <div class="input-group input-search-2">\n            <div class="input-group-btn hidden-xs hidden-xxs">\n              <button class="btn btn-red force-btn"></button>\n            </div>\n            <input type="email" placeholder="" class="form-control">\n            <div class="input-group-btn">\n              <div class="dropup">\n                <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"\n                        class="btn btn-dropdown dropdown-toggle"> <i class="icon icon-arrow-up"></i>\n                </button>\n                <ul class="dropdown-menu list-unstyled text-right">\n                  <li><a href="#"></a>\n                  </li>\n                  <li><a href="#"></a>\n                  </li>\n                  <li><a href="#"></a>\n                  </li>\n                  <li><a href="#"></a>\n                  </li>\n                  <li><a href="#"></a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class="col-xs-6 col-xxs-12 col-xxs-push-0 col-xs-push-3 visible-xs nopadding-x">\n            <button class="button btn-default-sm btn btn-red force-btn xs-force"> </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</div>'),
e.put("/app/user/ngApp/templates/views/restaurants/top_menu.html",'<div class="row smooth-fix">\n    <div class="col-lg-12 col-md-12 nopadding-x" id="main-top-menu">\n        <div class="clearfix">\n            <div id="top-menu" class="content-jump owl-text">\n                <div ng-repeat="(sectionId, section) in restaurant.menuSections" data-hash="section-{{section.id}}"\n                     ng-class="{\'selected-section\' : selectedMenuSection.id == section.id}">\n                    <a class="smallFirstFont section-name " href="#section-{{section.id}}"\n                       ng-click="menuSectionClick($event, section)">\n                        <div>{{section.name}}</div>\n                        <div class="section-icon hidden-xs hidden-xxs"><span class="new-icon"\n                                                                             ng-class="[\'new-icon-\' + (section.iconSlug ? section.iconSlug : \'food\')]"></span>\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/about-chilivery.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash aboutus"></div>\n</div>\n<div class="container aboutus general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1> </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box about general-padding">\n          <h3 class="general-title"> </h3>\n          <span>             .\n                                   \n                       .\n          </span>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box about margin-bottom-fix general-padding">\n          <h3 class="general-title"> </h3>\n          <span>           \n                        .\n          </span>\n          <span>         \n                               \n            .         .\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/faq.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash faq"></div>\n</div>\n<div class="container faq faq-redesign general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1>  </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box faq-box general-padding">\n          <div class="sf">\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                     (chilivery)   \n            </h3>\n            <p>1-             .</p>\n            <p>2-            .</p>\n            <p>3-                .</p>\n            <p>4-         .</p>\n            <p>5-                   .</p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                     (chilivery)    \n            </h3>\n            <p>                 \n              </p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                  (chilivery)  \n            </h3>\n            <p>1-              </p>\n            <p>2-          (chilivery wallet)</p>\n            <p>3-                    \n                     .             \n              .            .</p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                      \n            </h3>\n            <p>                     \n                                 .  \n                     (chilivery)  .</p>\n            \n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                   \n            </h3>\n            <p>                      \n                         .          \n                  .</p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                   \n            </h3>\n            <p>                         \n                     .             \n                            .</p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                        \n            </h3>\n            <p>                   .</p>\n            <div class="divider"></div>\n            <h3 class="general-title">\n              <span class="icon icon-bullet"></span>\n                    (delivery)     \n            </h3>\n            <p>     (chilivery)      .       \n                                \n               .</p>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box faq-box qa general-padding">\n          <div class="col-xs-12">\n            <div class="col-sm-8 nopadding-x pull-right">\n              <h3 class="general-title block">  </h3>\n              <div class="col-lg-12 col-sm-12 col-xs-12 nopadding-x contact-faq">\n                <div class="cf-label">\n                  <span class="label-title">:</span>\n                  <span class="label-value">cs@chilivery.com</span>\n                </div>\n                <div class="cf-label">\n                  <span class="label-title"> :</span>\n                  <span class="label-value">021-42091000</span>\n                </div>\n              </div>\n              <div class="col-lg-12 hr-divider">\n              </div>\n              <div class="col-xs-12 nopadding-x contact-faq">\n                <div class="cf-label">\n                  <span class="label-title">:</span>\n                  <span class="label-value">   ()    12 3</span>\n                </div>\n              </div>\n            </div>\n            <div class="col-sm-4 nopadding-x hidden-xs hidden-xxs"><img src="app/user/assets/img/bg/faq.png" class="faq-berger">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/index.html","<div ng-controller=\"staticpagesController\">\n\t<div ng-include=\"'/app/admin/ngApp/templates/views/static_pages/pages/'+filename+'.html'\"></div>\n</div>"),e.put("/app/user/ngApp/templates/views/static_pages/law.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n    <div class="splash law"></div>\n</div>\n<div class="container faq general-setting">\n    <div class="col-lg-12 nopadding-x">\n        <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n            <h1>  </h1>\n            <div class="col-xs-12 col-lg-12 nopadding-x">\n                <div class="static-content-box faq-box law general-padding">\n                    <div class="sfl">\n                        <span class="icon icon-bullet"></span>\n                        <p> (chilivery.com)             \n                                          .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>           .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                  \n                                    . (          \n                            .)</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>              \n                                       .     \n                                             \n                                .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 .   \n                                       .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                   \n                                  .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p class="red">      </p>\n                        <p>      .           \n                               (42091700-021)            \n                             .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                  \n                                               \n                                 .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>         .       3000  \n                                 .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 72 \n                                          .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>       .         \n                                   .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 \n                            .                  \n                                   .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                    \n                                   .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                \n                                              \n                                      .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>              .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 \n                                              \n                                 .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                   \n                              .               \n                                    .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                   \n                                              \n                              .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                  \n                                             .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>         (chilivery.com)     . \n                                              \n                                         .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 .</p>\n                        <div class="divider"></div>\n                        <span class="icon icon-bullet"></span>\n                        <p>                 \n                                    .      \n                                     .</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/opportunity.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash job-opportunity"></div>\n</div>\n<div class="container job-opportunity general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1>  </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box general-padding">\n          <span>                 \n                              \n            .<br>          HR@chilivery.com  .\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/payment-guide.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash payment-guide"></div>\n</div>\n<div class="container payment-guide general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1> </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box payment-guide general-padding clearfix">\n          <div class="col-lg-6 col-md-6 col-sm-push-6 col-sm-6">\n            <h3 class="title-payment-g">\n              <span class="tpg-number">1</span>\n               16      \n            </h3>\n            <span>           .         \n                  .\n            </span>\n          </div>\n          <div class="col-lg-6 col-md-6 col-sm-pull-6 col-sm-6"><img src="app/user/assets/img/guide/payment-g1.jpg"\n                                                                     class="payment-g"></div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box payment-guide general-padding clearfix">\n          <div class="col-lg-6 col-md-6 col-sm-6">\n            <h3 class="title-payment-g">\n              <span class="tpg-number">2</span>\n                   \n            </h3>\n            <span>             ATM   \n              .             :\n              <ul>\n                <li>\n                  <span>      .</span>\n                </li>\n                <li>\n                  <span>           .         \n                     .\n                  </span>\n                </li>\n                <li>\n                  <span>      .</span>\n                </li>\n              </ul>\n            </span>\n          </div>\n          <div class="col-lg-6 col-md-6 col-sm-6"><img src="app/user/assets/img/guide/payment-g2.jpg"\n                                                       class="payment-g pg-marg-top"></div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box payment-guide general-padding clearfix">\n          <div class="col-lg-6 col-md-6 col-sm-push-6 col-sm-6">\n            <h3 class="title-payment-g">\n              <span class="tpg-number">3</span>\n               CVV2    \n            </h3>\n            <span> CVV2     3 (   4)   16        \n                .          ...     \n                .                 .\n            </span>\n          </div>\n          <div class="col-lg-6 col-md-6 col-sm-pull-6 col-sm-6"><img src="app/user/assets/img/guide/payment-g3.jpg"\n                                                                     class="payment-g"></div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box payment-guide general-padding clearfix">\n          <div class="col-lg-6 col-md-6 col-sm-6">\n            <h3 class="title-payment-g">\n              <span class="tpg-number">4</span>\n               \n            </h3>\n            <span>         .         \n              .   12      99       .\n            </span>\n          </div>\n          <div class="col-lg-6 col-md-6 col-sm-6"><img src="app/user/assets/img/guide/payment-g4.jpg" class="payment-g"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/privacy.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash privacy"></div>\n</div>\n<div class="container faq general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1> </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box faq-box privacy general-padding">\n          <div class="sfp">\n            <div class="col-xs-12 nopadding-x">\n              <div class="col-sm-6 col-xs-12"><i class="icon icon-bullet"></i>\n                <p class="cc-one">                \n                       .              . \n                         Promotion   .        \n                  chilivery.com            .</p>\n              </div>\n              <div class="col-sm-6 col-xs-12"><img src="app/user/assets/img/bg/monkey.png" class="hidden-xs hidden-xxs"></div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="col-sm-6 col-xs-12"><img src="app/user/assets/img/bg/firechili.png"\n                                                   class="firechili hidden-xs hidden-xxs"></div>\n              <div class="col-sm-6 col-xs-12"><i class="icon icon-bullet"></i>\n                <p class="cc-one">        .  \n                  (chilivery.com)  Cookies   I.P Address       \n                               ..</p>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="col-sm-6 col-xs-12"><i class="icon icon-bullet"></i>\n                <p class="cc-one"> (chilivery.com)      SMS        \n                  .</p>\n              </div>\n              <div class="col-sm-6 col-xs-12"><img src="app/user/assets/img/bg/berger.png" class="hidden-xs hidden-xxs"></div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="col-sm-6 col-xs-12"><img src="app/user/assets/img/bg/hotdog.png" class="hotdog hidden-xs hidden-xxs">\n              </div>\n              <div class="col-sm-6 col-xs-12"><i class="icon icon-bullet"></i>\n                <p class="cc-one"> (chilivery.com)          \n                          .</p>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="col-sm-6 col-xs-12"><i class="icon icon-bullet"></i>\n                <p class="cc-one">       (chilivery.com)        .\n                                   .   \n                                  .  \n                                 : cs@chilivery.com</p>\n              </div>\n              <div class="col-sm-6 col-xs-12"><img src="app/user/assets/img/bg/dizi.png" class="hidden-xs hidden-xxs"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/static_pages/purchase-guide.html",'<div class="container-fluid nopadding-x hidden-xs hidden-xxs">\n  <div class="splash purchase-guide"></div>\n</div>\n<div class="container purchase-guide general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-10 col-lg-offset-1 nopadding-x">\n      <h1>   </h1>\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box purchase-guide general-padding">\n          <div class="sfp clearfix">\n            <div class="col-xs-12 nopadding-x">\n              <div class="guide-box gb-one">\n                <div class="cc-one">\n                  <h3 class="span title-gb gbt-number">1-    </h3>\n                  <span>                   .\n                  </span>\n                  <img src="app/user/assets/img/guide/help-1.jpg" class="gb-img">\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="guide-box gb-two">\n                <div class="cc-one">\n                  <h3 class="span title-gb gbt-number">2-  </h3>\n                  <span>            .</span>\n                  <img src="app/user/assets/img/guide/help-2.jpg" class="gb-img gb-img-other">\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="guide-box gb-two dot">\n                <div class="cc-one">\n                  <span>            .</span>\n                  <img src="app/user/assets/img/guide/help-2-2.jpg" class="gb-img gb-img-other"></div>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="guide-box gb-three">\n                <div class="cc-one">\n                  <h3 class="span title-gb gbt-number">3-    </h3>\n                  <span>              .</span>\n                  <img src="app/user/assets/img/guide/help-3.jpg" class="gb-img gb-img-other">\n                </div>\n              </div>\n              <div class="guide-box gb-three dot">\n                <div class="cc-one">\n                  <span></span>\n                  <img src="app/user/assets/img/guide/help-3-2.jpg" class="gb-img gb-img-other"></div>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="guide-box gb-four">\n                <div class="cc-one">\n                  <h3 class="span title-gb gbt-number">4- </h3>\n                  <span>\n                    <ul class="ul-reset gbul-pad">\n                      <li>\n                        <span class="gbt-text gbt-number">1-</span>\n                        <span class="gbt-text">      .</span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">2-</span>\n                        <span class="gbt-text">          .</span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">3-</span>\n                        <span class="gbt-text">                \n                          .\n                        </span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">4-</span>\n                        <span class="gbt-text">     .</span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">4-1-</span>\n                        <span class="gbt-text">             \n                           .\n                        </span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">4-2-</span>\n                        <span class="gbt-text">               \n                                    .\n                        </span>\n                      </li>\n                      <li>\n                        <span class="gbt-text gbt-number">4-3-</span>\n                        <span class="gbt-text">              \n                              .\n                        </span>\n                      </li>\n                    </ul>\n                    <img src="app/user/assets/img/guide/help-4.jpg" class="gb-img gb-img-other"></span>\n                </div>\n              </div>\n            </div>\n            <div class="col-xs-12 nopadding-x top-margin">\n              <div class="guide-box gb-five">\n                <div class="cc-one">\n                  <h3 class="span title-gb gbt-number">5-  </h3>\n                  <span class="gbt-text">     .        .</span>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-4 col-lg-4 col-xs-6 col-xxs-12 col-md-offset-4 col-lg-offset-4 col-xs-offset-3">\n              <a ui-sref="app.homepage" href="/" class=" btn btn-green btn-default-md">\n                 \n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/user/codeverification.html",'<div class="container">\n  <div class="row">\n    <div class="col-xs-12 col-lg-6 col-md-6 col-sm-8 col-md-offset-3 col-lg-offset-3 col-sm-offset-2">\n      <div class="col-xs-12 box-gn nopadding-x login-page-form verification-form">\n        <div class="col-lg-10 col-lg-offset-1">\n          <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="signuplogo"><img src="app/user/assets/img/img-ico/mobile_confirm_icon.png">\n              <p>  </p>\n            </div>\n          </div>\n          <div class="col-xs-12">\n            <div class="verification-well confirm-state">           .\n            </div>\n          </div>\n          <div class="col-xs-12">\n            <form class="signinform" name="verificationForm">\n              <div class="codenumber-confirm">\n                <div class="form-group inner-addon right-inner-addon clearfix">\n                  <input ng-model="verificationCode" type="tel" id="" name="" code-validation\n                         placeholder="      ..."\n                         class="form-control default-input singleline-input" required>\n                  <span class="form-icon icon icon-password"></span>\n                </div>\n                <button type="button" ng-click="verifyCode()"\n                        class="btn btn-default-md verification-confirm btn-green"> \n                  <div ng-show="isMobileSpinnerShow">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </button>\n                <div ng-show="!timeEnd" class="verification-countdown" ng-class="{\'countdown-zero\' : timeEnd}">     \n                    <span>{{minute | persian}}:{{second | persian}}</span>  .\n                </div>\n              </div>\n              <div class="recive-new-code" ng-show="timeEnd">\n                <div class="recive-title">   :</div>\n                <div class="verification-way">\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-12 text-center">\n                    <label>\n                      <input type="radio" ng-model="sendCodeChoice" value="crisp" name="address-select">\n                      <span class="radio"><span class="checked-radio"></span> </span>\n                      <span class="radio-label"> </span>\n                    </label>\n                  </div>\n<!--                  <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-xxs-12">\n                    <label>\n                      <input type="radio" ng-model="sendCodeChoice" value="call" ng-checked="true" checked name="address-select">\n                      <span class="radio"><span class="checked-radio"></span> </span>\n                      <span class="radio-label">  </span>\n                    </label>\n                  </div>-->\n                  <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-12 text-center">\n                    <label>\n                      <input type="radio" ng-model="sendCodeChoice" value="sms" name="address-select">\n                      <span class="radio"><span class="checked-radio"></span> </span>\n                      <span class="radio-label"></span>\n                    </label>\n                  </div>\n                </div>\n                <div class="col-xs-12 nopadding-x">\n                  <button type="button" ng-disabled="sendCodeAgainButton" ng-click="sendCodeAgain()"\n                          class="btn btn-blue btn-default-md btn-blue">  \n                    <div ng-show="isSendCodeSpinnerShow">\n                      <spinner-loader></spinner-loader>\n                    </div>\n                  </button>\n                </div>\n              </div>\n              <div class="col-xs-12">\n                <a class="edite-mobile-num text-center" ui-sref="app.mobileverification">  </a>\n              </div>\n              <br>\n              <br>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n'),e.put("/app/user/ngApp/templates/views/user/forgotpassword.html",'<div class="container email-password res-unsuccessful general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box center-marg general-padding">\n          <div class="rs-row-unsuccess-img">\n            <img src="/app/user/assets/img/img-ico/save-pass.png" class="center-marg">\n          </div>\n          <div class="rs-row-unsuccess-title center-marg">  </div>\n          <div class="rs-row-unsuccess-sub-title-gray-box center-marg">       \n                                  \n            .                .             .\n          </div>\n          <div class="rs-row-unsuccess-des">\n            <span class="center-marg">\n              <div class="email-password">\n                <p class="m-t-0"></p>\n                <forgot-password-directive>\n                  <form name="forgotPasswordFrom">\n                    <div class="form-group inner-addon right-inner-addon" >\n                      <label class="form-label control-label"></label>\n                      <input ng-model="identification" type="text" id="userEmailOrPhone" name="userEmailOrPhone" placeholder="       "\n                             class="form-control default-input singleline-input" email-phone-validation>\n                      <span class="form-icon icon icon-mobile-sms"></span>\n                      <span class="err-text" ng-show="forgotPasswordFrom.userEmailOrPhone.$error.emailPhoneValidation && !forgotPasswordFrom.userEmailOrPhone.$pristine">          . </span>\n                    </div>\n                    <div class="form-group inner-addon right-inner-addon" ng-show="additionalField">\n                      <label class="form-label control-label"></label>\n                      <input ng-model="additionIdentification"\n                             type="text" id="additionIdentificationNumber"\n                             name="additionIdentification"\n                             placeholder="     "\n                             ng-show="mobileInput"\n                             class="form-control default-input singleline-input">\n\n                      <input ng-model="additionIdentification"\n                             type="email" id="additionIdentificationEmail"\n                             name="additionIdentification"\n                             placeholder="     "\n                             ng-show="emailInput"\n                             class="form-control default-input singleline-input">\n                      <span class="form-icon icon icon-mobile-sms"></span>\n\n                    </div>\n                    <button ng-disabled=" showForgotSpinner " ng-click="forgotPassword()" class="btn btn-green btn-default-md">   \n                      <div ng-show="showForgotSpinner">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </button>\n                  </form>\n                </forgot-password-directive>\n              </div>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/login-modal.html",'<div class="modal-content">\n    <div class="modal-body">\n        <div class="login-register-modal">\n            <div class="fullWidth edit-phone-number" ng-show="registeringNav.validation === true">\n                <div class="text-center relativeMatter circle-for-icon">\n                    <span class="new-icon new-icon-edit_number objectInMiddle tik-mobile-ico"></span>\n                </div>\n                <p>       </p>\n                <div class="md-input-container">\n                    <div class="input-label-container pull-right">\n                        <span class="new-icon new-icon-mobile icon-before-input"></span>\n                        <input check-hover-input mobile-validation class="md-input" type="text" ng-model="userVerificationMobile">\n                        <label>*</label>\n                    </div>\n                </div>\n                <div class="btn-container text-center fullWidth">\n                    <button ng-click="sendCode()" class="rounded-button green-rounded-button big-rounded-button">   \n                        <spinner-loader ng-show="loading"></spinner-loader>\n                    </button>\n                </div>\n            </div>\n            <div class="fullWidth request-code" ng-show="registeringNav.inputCode === true">\n                <div class="request-code-title text-center">    \n                    <span class="boldme"> </span>         :</div>\n                <div class="fullWidth text-center">\n                    <input ng-disabled="loading === true" class="fantazy-input" ng-maxlength="1" id="fantazy-3" type="number" ng-model="verificationCode[3]" ng-change="changeVerificationCode(3)" ng-keydown="handleEnter($event)">\n                    <input ng-disabled="loading === true" class="fantazy-input" ng-maxlength="1" id="fantazy-2" type="number" ng-model="verificationCode[2]" ng-change="changeVerificationCode(2)" ng-keydown="handleEnter($event)">\n                    <input ng-disabled="loading === true" class="fantazy-input" ng-maxlength="1" id="fantazy-1" type="number" ng-model="verificationCode[1]" ng-change="changeVerificationCode(1)" ng-keydown="handleEnter($event)">\n                    <input ng-disabled="loading === true" class="fantazy-input" ng-maxlength="1" id="fantazy-0" type="number" ng-model="verificationCode[0]" ng-change="changeVerificationCode(0)" ng-keydown="handleEnter($event)">\n                </div>\n                <div class="fullWidth text-center info-section">\n                    <a class="bordered-text" href="#" ng-click="editPhoneNumber()">  ({{userVerificationMobile}})</a>\n                </div>\n                <div ng-show="registeringNav.waiting" class="fullWidth info-section text-center last-info-section">\n                    <p>      </p>\n                    <p>00:{{time}}</p>\n                </div>\n                <div class="fullWidth info-section text-center last-info-section" ng-show="registeringNav.expire">\n                    <label class="custom-input radio-button ng-binding ng-scope">\n                        <input ng-model="requestCode.action" type="radio" value="sms">\n                        <span></span>\n                    </label>\n                    <label class="custom-input radio-button ng-binding ng-scope"> \n                        <input ng-model="requestCode.action" type="radio" value="crisp">\n                        <span class="pattern"></span>\n                    </label>\n                    <div class="fullWidth text-center info-section">\n                        <button ng-click="sendCodeAgain()" class="rounded-button blue-rounded-button big-rounded-button"> \n                            <spinner-loader ng-show="loading"></spinner-loader>\n                        </button>\n                    </div>\n                </div>\n                <!--<div class="section-discount">-->\n                    <!--<div class="relativeMatter">-->\n                        <!--<span class="pattern"></span>-->\n                        <!--<div class="fullWidth discount-wrapper">-->\n                            <!--<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 col-xxs-2 pull-right">-->\n                                <!--<span class="new-icon new-icon-gift gift-icon"></span>-->\n                            <!--</div>-->\n                            <!--<div class="col-lg-10 col-md-10 col-sm-10 col-xs-10 col-xxs-10 pull-right">-->\n                                <!--<p>-->\n                                    <!--<span class="naturalFont"> </span>-->\n                                <!--</p>-->\n                                <!--<p>-->\n                                    <!--<span class="smallFirstFont discount-text">-->\n                                        <!--             -->\n                                    <!--</span>-->\n                                <!--</p>-->\n                            <!--</div>-->\n                        <!--</div>-->\n                    <!--</div>-->\n                <!--</div>-->\n            </div>\n            <div class="tabbed-container" ng-show="registeringNav.validation === false && registeringNav.inputCode === false">\n\n                <ul class="tabs">\n\n                    <li class="tab col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-6" ng-class="{active: !registering}" ng-click="registering = false;">\n                        <span></span>\n                    </li>\n                    <li class="tab col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-6" ng-class="{active: registering}" ng-click="registering = true;">\n                        <span> </span>\n                    </li>\n                </ul>\n\n                <div class="tabs-content">\n                    <div class="tab-content" ng-show="!registering">\n                        <form ng-submit="login()">\n                            <div class="fullWidth error-box" ng-show="haveError">\n                                <div class="error-container fullWidth">\n                                    <span class="error-text">{{errorText}}</span>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-email icon-before-input"></span>\n                                    <input check-hover-input class="md-input" type="text" ng-model="loginForm.username">\n                                    <label>  </label>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-lock icon-before-input"></span>\n                                    <input check-hover-input class="md-input" type="password" ng-model="loginForm.password">\n                                    <label> </label>\n                                </div>\n                            </div>\n                            <div class="register-button-container fullWidth text-center">\n                                <div>\n                                    <button class="rounded-button green-rounded-button big-rounded-button">\n                                        <spinner-loader ng-show="loading"></spinner-loader>\n                                    </button>\n                                </div>\n                                <div class="check-box-container">\n                                    <a ng-click="$close()" ui-sref="app.forgotpassword">     </a>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div class="tab-content" ng-show="registering">\n\n                        <form name="registerform" ng-submit="register()">\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-person icon-before-input"></span>\n                                    <input check-hover-input required class="md-input" type="text" ng-model="registerForm.fullName">\n                                    <label>   *</label>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-mobile icon-before-input"></span>\n                                    <input check-hover-input required mobile-validation unique-mobile class="md-input" type="text" ng-model="registerForm.mobileNumber">\n                                    <label>*</label>\n                                    <span class="md-error-text">   .</span>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-email icon-before-input"></span>\n                                    <input check-hover-input required class="md-input" type="email" unique-email ng-model="registerForm.userEmail">\n                                    <label>*</label>\n                                    <span class="md-error-text">  .</span>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-lock icon-before-input"></span>\n                                    <input check-hover-input required class="md-input" type="password" ng-model="registerForm.password">\n                                    <label> *</label>\n                                </div>\n                            </div>\n                            <div class="md-input-container">\n                                <div class="input-label-container pull-right">\n                                    <span class="new-icon new-icon-lock icon-before-input"></span>\n                                    <input check-hover-input required class="md-input" match="registerForm.password" type="password" ng-model="registerForm.confirmPass">\n                                    <label>  *</label>\n                                </div>\n                            </div>\n                            <div class="register-button-container fullWidth text-center">\n                                <div class="check-box-container">\n                                           \n                                    <a ui-sref="app.staticpages.show({slug:\'law\'})" ng-click="$close()"> </a>   .\n                                </div>\n                                <div>\n                                    <button class="rounded-button big-rounded-button" ng-class="{\'gray-rounded-button\' : registerform.$invalid === true, \'green-rounded-button\' : registerform.$invalid === false}"\n                                        ng-click="checkRegisterForm($event,registerform)"> \n                                        <spinner-loader ng-show="loading"></spinner-loader>\n                                    </button>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div class="fullWidth text-center" ng-show="step === 0 || !registering">\n                        <span class="seperator-or fullWidth relativeMatter"></span>\n                    </div>\n                    <social-login-new ng-show="step === 0 || !registering"></social-login-new>\n                </div>\n            </div>\n        </div>\n        <!-- <div class="close-btn pull-left" ng-click="$close()">\n            <i class="icon icon-cancel"></i>\n        </div> -->\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/login.html",'<div class="container">\n    <div class="row">\n    \t<div class="col-xs-12 col-lg-6 col-md-6 col-sm-6 col-md-offset-3 col-lg-offset-3 col-sm-offset-3">\n            <loginform></loginform>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/loginform.html",'<div class="col-xs-12 box-gn nopadding-x login-page-form">\n  <div class="col-lg-10 col-lg-offset-1">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="signuplogo"><img src="app/user/assets/img/bg/logosignin.png">\n        <p>  </p>\n      </div>\n    </div>\n    <div class="col-xs-12">\n      <form class="signinform" name="signInForm" ng-submit="sendLogin()">\n        <div class="form-group inner-addon right-inner-addon">\n          <label class="form-label control-label"></label>\n          <input ng-model="username" type="text" id="userEmailOrPhone" name="userEmailOrPhone" placeholder="   "\n                 class="form-control default-input singleline-input" required email-phone-validation>\n          <span class="form-icon icon icon-email"></span>\n        </div>\n        <span ng-show="signInForm.userEmailOrPhone.$error.emailPhoneValidation && !signInForm.userEmailOrPhone.$pristine" class="err-text">\n          <i class="icon icon-bullet"></i>\n                  \n        </span>\n        <div class="form-group inner-addon right-inner-addon">\n          <label class="form-label control-label"></label>\n          <input ng-model="password" type="password" id="userPassword" name="userPassword"\n                 placeholder=" "\n                 class="form-control default-input singleline-input" required>\n          <span class="form-icon icon icon-lock"></span>\n        </div>\n        <span ng-show="signInForm.userPassword.$invalid && !signInForm.userPassword.$pristine"\n              class="err-text">\n          <i class="icon icon-bullet"></i>\n                \n        </span>\n        <button ng-disabled="signInForm.$invalid || loginButton" class="btn btn-default-md"\n                ng-class="{\' btn-red\' : !loginButton , \' btn-disabled\' : loginButton}">\n          \n          <div ng-show="isLoginSpinner">\n            <spinner-loader></spinner-loader>\n          </div>\n        </button>\n      </form>\n      <a ui-sref="app.forgotpassword" class="restlink">     </a>\n      <sociallogin></sociallogin>\n      <div ng-hide="hideRegButton" class="divider2"></div>\n      <div class="register-btn-holder">\n        <a ui-sref="app.register" ng-hide="hideRegButton" class=" btn btn-green btn-default-md"> </a>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/mobileverification.html",'<div class="container">\n  <div class="row">\n    <div class="col-xs-12 col-lg-6 col-md-6 col-sm-8 col-md-offset-3 col-lg-offset-3 col-sm-offset-2">\n      <div class="col-xs-12 box-gn nopadding-x login-page-form verification-form">\n        <div class="col-lg-10 col-lg-offset-1">\n          <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n            <div class="signuplogo"><img src="app/user/assets/img/img-ico/mobile_confirm_icon.png">\n              <p>  </p>\n            </div>\n          </div>\n          <div class="col-xs-12">\n\n            <div class="verification-well confirm-state">       .\n            </div>\n          </div>\n          <div class="col-xs-12">\n            <form class="signinform" name="verificationForm">\n              <div class="mobilenumber-confirm">\n                <div class="form-group inner-addon right-inner-addon clearfix"\n                     ng-class="{\'has-error\': verificationForm.mobileNumber.$dirty && verificationForm.mobileNumber.$invalid}">\n                  <input ng-model="userVerificationMobile"\n                         mobile-validation unique-mobile mobile name="mobileNumber" type="tel" id="mobileNumber"\n                         placeholder="  (*)" required class="form-control default-input singleline-input">\n                  <span class="form-icon icon icon-mobile-sms"></span>\n                </div>\n                <span class="err-text"\n                      ng-show="verificationForm.mobileNumber.$dirty &&\n                                   verificationForm.mobileNumber.$error.required">\n                      .\n                </span>\n                <span class="err-text"\n                      ng-show="verificationForm.mobileNumber.$error.mobileValidation">\n                     .\n                </span>\n                <span class="err-text" ng-show="verificationForm.mobileNumber.$dirty &&\n                                                    verificationForm.mobileNumber.$error.uniqueMobile">\n                       .\n                </span>\n                <button type="button" ng-disabled="sendCodeButton" ng-click="sendCode()"\n                        class="btn btn-default-md verification-confirm btn-green">  \n                  <div ng-show="isSendCodeSpinnerShow">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </button>\n              </div>\n              <br>\n              <br>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/register.html",'<section class="sub-section">\n  <div class="container">\n    <div class="row">\n        <div class="col-lg-6 col-sm-6" ng-show="hideRegButton = true">\n          <loginForm></loginForm>\n        </div>\n        <div class="col-lg-6 col-sm-6">\n          <registerform></registerform>\n        </div>\n   \t</div>\n  </div>\n</section>'),e.put("/app/user/ngApp/templates/views/user/registerform.html",'<div class="col-xs-12 box-gn nopadding-x register-form">\n  <div class="col-lg-10 col-lg-offset-1">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="signuplogo"><img src="app/user/assets/img/bg/logosignup.png">\n        <p>   </p>\n      </div>\n    </div>\n    <div class="col-xs-12">\n      <form name="userRegisterForm" class="signinform" ng-submit="sendRegisterForm(this)">\n        <div class="form-group inner-addon right-inner-addon"\n             ng-class="{\'has-error\': userRegisterForm.fullName.$dirty && userRegisterForm.fullName.$invalid}">\n          <label class="form-label control-label"></label>\n          <input type="text" name="fullName" id="fullName" placeholder="    (*)"\n                 class="form-control default-input singleline-input" required ng-model="user.fullName">\n          <span class="form-icon icon icon-avatar"></span>\n        </div>\n        <span class="err-text"\n              ng-show="userRegisterForm.fullName.$invalid && !userRegisterForm.fullName.$pristine">          </span>\n        <div class="form-group inner-addon right-inner-addon"\n             ng-class="{\'has-error\': userRegisterForm.mobileNumber.$dirty && userRegisterForm.mobileNumber.$invalid}">\n          <label class="form-label control-label"></label>\n          <input ng-model="user.mobileNumber" mobile-validation name="mobileNumber" type="text" id="mobileNumber"\n                 placeholder="  (*)" required unique-mobile mobile\n                 class="form-control default-input singleline-input">\n          <span class="form-icon icon icon-mobile-sms"></span>\n        </div>\n        <span class="err-text" ng-show="userRegisterForm.mobileNumber.$dirty &&\n                                   userRegisterForm.mobileNumber.$error.required">      </span>\n        <span class="err-text"\n              ng-show="userRegisterForm.mobileNumber.$error.mobileValidation">    . </span> <span\n          class="err-text" ng-show="userRegisterForm.mobileNumber.$dirty &&\n                                                    userRegisterForm.mobileNumber.$error.uniqueMobile">      . </span>\n        <div class="form-group inner-addon right-inner-addon"\n             ng-class="{\'has-error\': userRegisterForm.userEmail.$dirty && userRegisterForm.userEmail.$invalid}">\n          <label class="form-label control-label"></label>\n          <input type="email" ng-model="user.userEmail" unique-email name="userEmail" id="userEmail"\n                 placeholder=" (*)" class="form-control default-input singleline-input" valid-email required>\n          <span class="form-icon icon icon-email"></span>\n        </div>\n        <span class="err-text" ng-show="userRegisterForm.userEmail.$dirty &&\n                                  userRegisterForm.userEmail.$error.required">      . </span>\n        <span class="err-text" ng-show="userRegisterForm.userEmail.$dirty &&\n                                  userRegisterForm.userEmail.$error.validEmail">       </span>\n        <span class="err-text" ng-show="userRegisterForm.userEmail.$dirty &&\n                                                            userRegisterForm.userEmail.$error.uniqueEmail">     . </span>\n        <div class="form-group inner-addon right-inner-addon"\n             ng-class="{\'has-error\': userRegisterForm.password.$dirty && userRegisterForm.password.$invalid}">\n          <label class="form-label control-label"></label>\n          <input required ng-model="user.password" name="password" type="password" id="password" placeholder=" "\n                 class="form-control default-input singleline-input">\n          <span class="form-icon icon icon-lock"></span> <span class="err-text" ng-show="userRegisterForm.password.$dirty &&\n                                   userRegisterForm.password.$error.required">       .\n        </span>\n        </div>\n        <div class="form-group inner-addon right-inner-addon"\n             ng-class="{\'has-error\': userRegisterForm.confirmPass.$dirty && userRegisterForm.confirmPass.$invalid}">\n          <label class="form-label control-label"></label>\n          <input type="password" name="confirmPass" required ng-model="user.confirmPass" match="user.password"\n                 id="confirmPass" placeholder="  " class="form-control default-input singleline-input">\n          <span class="form-icon icon icon-lock"></span>\n        </div>\n        <span class="err-text" ng-show="userRegisterForm.confirmPass.$dirty &&\n                               userRegisterForm.confirmPass.$error.required">      . </span>\n        <span class="err-text" ng-show="userRegisterForm.confirmPass.$dirty &&\n                                   userRegisterForm.confirmPass.$error.match">        . </span>\n        <div class="form-group">\n          <input type="checkbox" name="terms" ng-model="user.chiliTerms" value="terms" id="terms" checked>\n          <label for="terms"><a class="law" href="/static/law">     .</a></label>\n        </div>\n        <button\n            ng-disabled="userRegisterForm.$invalid || registerButton || userRegisterForm.mobileNumber.$error.mobileValidation"\n            class="btn btn-default-md" ng-class="{\' btn-green \' : !registerButton , \' btn-disabled\' : registerButton}">\n           \n          <div ng-show="isRegisterSpinner">\n            <spinner-loader></spinner-loader>\n          </div>\n        </button>\n      </form>\n      <sociallogin></sociallogin>\n    </div>\n  </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/user/resetpassword.html",'<div class="container email-password res-unsuccessful general-setting">\n  <div class="col-lg-12 nopadding-x">\n    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n      <div class="col-xs-12 col-lg-12 nopadding-x">\n        <div class="static-content-box center-marg general-padding">\n          <div class="rs-row-unsuccess-img">\n            <img src="/app/user/assets/img/img-ico/forget.png" class="center-marg">\n          </div>\n          <div class="rs-row-unsuccess-title center-marg">  </div>\n          <div class="rs-row-unsuccess-sub-title-gray-box center-marg">        \n                         .\n          </div>\n          <div class="rs-row-unsuccess-des">\n            <span class="center-marg">\n              <div class="email-password">\n                <p class="m-t-0"></p>\n                <reset-password-directive>\n                  <form name="resetpasswordForm">\n                    <div class="form-group inner-addon right-inner-addon">\n                      <label class="form-label control-label"></label>\n                      <input type="password" id="name" placeholder="  "\n                             class="form-control default-input singleline-input" ng-model="userNewPassword"\n                             name="userNewPassword" ng-required="true">\n                      <span class="form-icon icon icon-password"></span>\n                    </div>\n                    <div class="form-group inner-addon right-inner-addon">\n                      <label class="form-label control-label"></label>\n                      <input type="password" id="name" placeholder="   "\n                             ng-model="userNewPasswordConfirmed" name="userNewPasswordConfirmed" ng-required="true"\n                             class="form-control default-input singleline-input">\n                      <span class="form-icon icon icon-password"></span>\n                    </div>\n                    <button ng-click="changePassword()" class="btn btn-green btn-default-md">   \n                      <div ng-show="showResetSpinner">\n                        <spinner-loader></spinner-loader>\n                      </div>\n                    </button>\n                  </form>\n                </reset-password-directive>\n              </div>\n            </span></div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/sms_verification.html",'<div class="container"> \n    <div class="row">\n    \t<div class="col-xs-12 col-lg-6 col-md-6 col-sm-6 col-md-offset-3 col-lg-offset-3 col-sm-offset-3">\n            <div class="col-xs-12 box-gn nopadding-x login-page-form verification-form">\n\t\t\t  <div class="col-lg-10 col-lg-offset-1">\n\t\t\t    <div class="col-lg-6 col-lg-offset-3 nopadding-x">\n\t\t\t      <div class="signuplogo"><img src="app/user/assets/img/img-ico/mobile_confirm_icon.png">\n\t\t\t        <p>  </p>\n\t\t\t      </div>\n\t\t\t    </div>\n\t\t\t    <div class="col-xs-12">\n\t\t\t      <form class="signinform" name="" ng-submit=""> \n\t\t\t        <div class="form-group inner-addon right-inner-addon">\n\t\t\t          <label class="form-label control-label"></label>\n\t\t\t          <input ng-model="" type="" id="" name="" placeholder=" " class="form-control default-input singleline-input" required>\n\t\t\t          <span class="form-icon icon icon-mobile"></span>\n\t\t\t        </div>\n\t\t\t        <a href="#" class="text-left code-resend" >   </a>\n\t\t\t        <!-- <div class="verification-countdown">   <span countdown date="May 23, 2015 00:03:00">{{counter}}</span></div> -->\n\t\t\t        <div class="verification-well">           ,           .<p class="gift-verification"><i class="icon icon-gift"></i>            </p></div>\n\t\t\t        <div class="form-group inner-addon right-inner-addon">\n\t\t\t          <label class="form-label control-label"></label>\n\t\t\t          <input ng-model="" type="text" id="" name="" placeholder="   "\n\t\t\t                 class="form-control default-input singleline-input" required>\n\t\t\t          <span class="form-icon icon icon-password"></span>\n\t\t\t        </div>\n\t\t\t        <br>\n\t\t\t        <button ng-disabled="signInForm.$invalid" class="btn btn-green btn-default-md"></button>\n\t\t\t        <br>\n\t\t\t        <br>\n\t\t\t      </form>\n\t\t\t    </div>\n\t\t\t  </div>\n\t\t\t</div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/user/social-login-new.html",'<div class="fullWidth text-center">\n    <button ng-click="authLogin(\'google\')" class="rounded-button medium-rounded-button right-rounded-button relativeMatter goog-btn">\n        <span class="new-icon new-icon-google2 icon-in-rounded-btn goog-color"></span>\n        <span>   </span>\n    </button>\n    <button ng-click="authLogin(\'yahoo\')" class="rounded-button medium-rounded-button left-rounded-button relativeMatter yahoo-btn">\n        <span class="new-icon new-icon-yahoo icon-in-rounded-btn yahoo-color"></span>\n        <span>   </span>\n    </button>\n</div>'),e.put("/app/user/ngApp/templates/views/user/social-login.html",'<div class="col-xs-12 nopadding-x social-login">\n  <div class="socialButtons col-xs-12 nopadding-x">\n    <div class="divider"></div>\n    <p></p>\n    <div class="divider"></div>\n    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-12 xs-padding-l">\n      <a ng-click="authLogin(\'yahoo\')" class="btn btn-yahoo">  \n        <i class="icon icon-yahoo hidden-xs hidden-xxs"></i>\n      </a>\n    </div>\n    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 col-xxs-12 xs-padding-r">\n      <a ng-click="authLogin(\'google\')" class="btn btn-google-plus">  \n        <i class="icon icon-google hidden-xs hidden-xxs"></i>\n      </a>\n    </div>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/address-selector-modal.html",'<div class="fullWidth">\n    <div class="fullWidth info-close-wrapper">\n        <div class="header-section pull-right">\n            <p class="truncate text-right">\n                <i class="icon icon-information info-icon"></i>\n                            \n            </p>\n        </div>\n        <div class="close-btn pull-left" ng-click="closeMap()">\n            <i class="icon icon-cancel"></i>\n        </div>\n    </div>\n    <div class="fullWidth" id="addressMapWrapper"></div>\n    <div class="footer-section clearfix">\n        <div class="col-lg-9 col-md-6 col-sm-6 col-xs-12 pull-right">\n            <!-- <p ng-if="checkAddressAvailability" class="text-right">          \n          .</p>-->\n        </div>\n        <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">\n            <button class="btn btn-default-sm pull-left btn-green custom-btn-save" ng-click="closeMap()">\n                <span></span>\n            </button>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/addresses.html",'<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n    <div class="title-bar title-bar-2">\n      <i class="icon icon-bullet"></i>\n      <span class="color-red-1">  </span>\n    </div>\n  </div>\n  <div class="content-loader-holder" ng-if="showLoading">\n    <div class="content-loader">\n      <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n      <img  src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n      <p class="text-center">     ...    </p>\n    </div>\n  </div>\n  <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" ng-show="!showLoading">\n    <div class="select-address">\n      <form name="formEditedAddress" ng-repeat="(key, value) in userAddresses">\n        <label for="__{{ value.userAddressId }}" ng-class="{\'deactive\': !checkCanDeliver(value), \'edited-address\': value.edited}">\n          <input id="__{{ value.userAddressId }}" value="{{ value.userAddressId }}" ng-if="checkCanDeliver(value)"\n                 ng-model="userAddress.selected" type="radio" name="address-select">\n          <span ng-if="checkAddressAvailability && checkCanDeliver(value)" class="radio">\n            <span class="checked-radio"></span>\n          </span>\n          <span class="address-box {{value.userAddressId}}">\n            <span class="control-panel" ng-class="{\'hidden\' : value.edited}">\n              <a ng-click="showEditAddressForm(value)" ng-show="!value.edited" class="edite">\n                <i class="icon icon-pen-2"></i>\n              </a>\n              <a ng-click="deleteAddress(value.userAddressId, key)" class="remove">\n                <i class="icon icon-bin"></i>\n              </a>\n            </span>\n            <span class="add-label"\n                  ng-class="{\'err-span\': formEditedAddress.editedAddress.$invalid &&  formEditedAddress.editedAddress.$dirty}">\n              <span ng-show="!value.edited">{{value.userAddressName}}</span>\n              <input ng-show="value.edited" type="text" ng-model="value.userAddressName" name="editedAddress"\n                     placeholder="         : ">\n            </span>\n            <span class="city">\n              <span ng-show="!value.edited">{{ value.cityName }}</span>\n              <select ng-show="value.edited"\n                      ng-change="setSelectedCity(value.userAddressCityId, value.userAddressId, value.edited)"\n                      class="city {{value.userAddressId}} js-states form-control"\n                      ng-model="value.userAddressCityId">\n              </select>\n            </span>\n            <span class="quarter">\n              <span ng-show="!value.edited">{{ value.neighborhoodName }}</span>\n              <select ng-show="value.edited" class="neighborhood {{value.userAddressId}} js-states form-control"\n                      ng-model="value.userAddressNeighborhoodId"\n                      ng-change="neighborhoodIdChanged(value.userAddressNeighborhoodId)">\n              </select>\n            </span>\n            <span class="address">\n              <div class="col-lg-9 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                <span ng-show="!value.edited" class="">{{ value.userAddressComplete }}</span>\n                <textarea ng-show="value.edited" ng-model="value.userAddressComplete"\n                          type="text" placeholder="     ..." class="form-control">\n                </textarea>\n                <div ng-show="value.edited"\n                     class="btn-group clearfix col-lg-5 col-md-5 col-sm-6 col-xs-12 pull-right nopadding-x" role="group"\n                     aria-label="...">\n                  <button type="button" class="btn btn-default-xs btn-green" ng-click="editAddress(value)">\n                  </button>\n                  <button type="button" class="btn btn-default-xs btn-red" ng-click="cancelEditAddress(value)">\n                  </button>\n                </div>\n              </div>\n              <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12 nopadding-x">\n                <a ng-show="value.edited" href="#" ng-click="showAddressMap(value)" class="google-shot-link">\n                  <img alt="" class="img-responsive google-shot center-block"\n                       src="https://maps.googleapis.com/maps/api/staticmap?language=fa&center={{value.latitude}},{{value.longitude}}&zoom=14&scale=false&maptype=roadmap&key={{APP_KEY}}&format=png&size=300x250&style=visibility:on&style=feature:water%7Celement:geometry%7Cvisibility:on&style=feature:landscape%7Celement:geometry%7Cvisibility:on&markers=icon:{{currentOrigin}}/app/user/assets/img/base/pin-user-small.png%7C{{value.latitude}},{{value.longitude}}">\n                  <div class="zoom-map hidden-xxs hidden-xs"></div>\n                </a>\n              </div>\n            </span>\n          </span>\n          <span ng-show="!checkCanDeliver(value)" class="err-text">\n            <i class="icon icon-bullet"></i>\n                  \n          </span>\n        </label>\n      </form>\n      <form name="formAddAddress" novalidate>\n        <label class="new-address" for="addAddress" ng-show="newAddress">\n          <!--<input type="radio" name="address-select">\n          <span ng-show="checkAddressAvailability" class="radio">\n            <span class="checked-radio"></span>\n          </span>-->\n          <span class="address-box">\n            <span class="add-label new-address-level"\n                  data-toggle="tooltip"\n                  title="             .      ..."\n                  ng-class="{\'err-span\': formAddAddress.userAddressName.$invalid &&  formAddAddress.userAddressName.$dirty}">\n              <input required type="text" ng-model="newaddr.userAddressName"\n                     class="userAddressName"\n                     name="userAddressName"\n                     placeholder="         : ">\n            </span>\n            <span class="city">\n              <select required ng-change="setSelectedCity(newaddr.userAddressCityId)"\n                      class="city add js-states form-control"\n                      ng-model="newaddr.userAddressCityId">\n              </select>\n            </span>\n            <span class="quarter">\n              <select required ng-change="neighborhoodIdChanged(newaddr.userAddressNeighborhoodId)"\n                      class="neighborhood add js-states form-control"\n                      ng-model="newaddr.userAddressNeighborhoodId">\n                <option value=""></option>\n              </select>\n              <div ng-show="neighborhodSpinner" class="simple-spinner">\n                <spinner-loader></spinner-loader>\n              </div>\n            </span>\n            <span class="address">\n              <div class="col-lg-9 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                <textarea required ng-model="newaddr.userAddressComplete" type="text"\n                          placeholder="     ..." class="form-control">\n                </textarea>\n                <div class="btn-group clearfix col-lg-5 col-md-5 col-sm-6 col-xs-12 pull-right nopadding-x" role="group"\n                     aria-label="...">\n                  <button ng-if="!addNewAddressBtn" type="button" class="btn btn-default-xs btn-green"\n                          ng-click="addAddress()">\n                  </button>\n                  <button type="button" class="btn btn-default-xs btn-red" ng-click="cancelAddAddress()">\n                  </button>\n                </div>\n              </div>\n              <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12 nopadding-x">\n                <a href="#" ng-click="neighborhoodIdChanged(newaddr.userAddressNeighborhoodId, true)"\n                   class="google-shot-link">\n                  <img alt="" class="img-responsive google-shot center-block"\n                       src="https://maps.googleapis.com/maps/api/staticmap?language=fa&center={{newLat}},{{newLong}}&zoom=14&scale=false&maptype=roadmap&key={{APP_KEY}}&format=png&size=300x250&style=visibility:on&style=feature:water%7Celement:geometry%7Cvisibility:on&style=feature:landscape%7Celement:geometry%7Cvisibility:on&markers=icon:{{currentOrigin}}/app/user/assets/img/base/pin-user-small.png%7C{{newLat}},{{newLong}}">\n                  <span class="zoom-map hidden-xxs hidden-xs "></span>\n                </a>\n              </div>\n            </span>\n          </span>\n        </label>\n      </form>\n    </div>\n    <div ng-if="sizeAddress == 0"> \n      <p class="text-center">           . </p>\n    </div>\n\n      <button\n        class="btn btn-custom-blue btn-default-sm add-address"\n        ng-click="addAddress()"\n        ng-class="{\'with-address\' : sizeAddress > 0 , \'center-block\' : sizeAddress == 0 }">\n      <span>\n        <i class="icon icon-plus2"></i>\n         \n      </span>\n    </button>\n\n\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/angular-select2.html",'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <title>Title</title>\n</head>\n<body>\n\n</body>\n</html>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/filterSection.html",'<div class="filters-container" id="filters-wrapper">\n    <div class="filter-header">\n        <div class="pull-right">\n            <span class="new-icon new-icon-row-view round-icon-with-padding cursor-pointer" ng-click="changeView(false)" ng-class="{\'chili-color-back\' : gridView.bool !== true, \'gray-color-back\' : gridView.bool === true}"></span>\n            <span class="new-icon new-icon-group1 round-icon-with-padding cursor-pointer" ng-click="changeView(true)" ng-class="{\'chili-color-back\' : gridView.bool === true, \'gray-color-back\' : gridView.bool !== true}"></span>\n        </div>\n        <span class="pull-left remove-filters">\n            <a href="#" ng-click="removeFilters()"> </a>\n        </span>\n    </div>\n    <div class="search-in-filter">\n        <div class="search-in-filter-container">\n            <form ng-submit="searchNewString()">\n                <!--<input type="text" ng-trim="true" ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" placeholder="    ..." ng-model="searchString.str" ng-change="searchNewString()">-->\n                <input type="text" placeholder="    ..." ng-model="searchString.str">\n                <span class="new-icon new-icon-search2 icon-search-after-input"></span>\n            </form>\n        </div>\n    </div>\n    <div class="filters-holder">\n        <div class="filters">\n            <div class="filter-title">\n                <span class="new-icon new-icon-filter"></span>\n                \n            </div>\n\n            <div class="sub-filters">\n                <div class="sub-filter fullWidth">\n                    <label class="custom-input checkbox">\n                        <input ng-model="isDiscount.bool" ng-change="changeisDiscount()" type="checkbox" value="1">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <!--candidate for directive-->\n            <!--<div class="general-filter rounded-filter">-->\n            <!--<label class="custom-input checkbox"> -->\n            <!--<input ng-model="freeDelivery.bool" ng-change="changeFreeDelivery()" type="checkbox" value="1">-->\n            <!--<span></span>-->\n            <!--</label>-->\n            <!--</div>-->\n            <!--end of candidate for directive-->\n            <div class="sub-filter-title">\n                <span class="pull-right"> </span>\n                <span class="pull-left new-icon" ng-click="showAllRestaurantTypes()" ng-class="{\'new-icon-arrow-up\' : arrRestaurantTypes.length === limitToRestaunratTypes , \'new-icon-arrow-down\' : arrRestaurantTypes.length\n                !== limitToRestaunratTypes}"></span>\n            </div>\n            <div class="sub-filters">\n                <div ng-repeat="restType in arrRestaurantTypes | limitTo : limitToRestaunratTypes" class="sub-filter fullWidth">\n                    <label class="custom-input checkbox">{{restType.name}} ({{restType.count}})\n                        <input ng-model="restType.checked" type="checkbox" ng-change="changeRestaurantTypes(restType)">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="more-link-holder fullWidth">\n                <button class="more-link" role="link" ng-click="showAllRestaurantTypes()">{{arrRestaurantTypes.length === limitToRestaunratTypes ? \'\' : \'...\'}}\n                    <span class="new-icon more-icon"\n                        ng-class="{\'new-icon-arrow-up\' : arrRestaurantTypes.length === limitToRestaunratTypes , \'new-icon-arrow-down\' : arrRestaurantTypes.length !== limitToRestaunratTypes}"></span>\n                </button>\n            </div>\n            <div class="sub-filter-title border-on-top">\n                <span class="pull-right"> </span>\n                <span class="pull-left new-icon" ng-click="showAllFoodTypes()" ng-class="{\'new-icon-arrow-up\' : arrFoodTypes.length === limitToFoodTypes , \'new-icon-arrow-down\' : arrFoodTypes.length !== limitToFoodTypes}"></span>\n            </div>\n            <div class="sub-filters">\n                <div class="sub-filter fullWidth" ng-repeat="foodType in arrFoodTypes | limitTo : limitToFoodTypes">\n                    <label class="custom-input checkbox">{{foodType.name}} ({{foodType.count}})\n                        <input ng-model="foodType.checked" type="checkbox" ng-change="changeFoodTypes(foodType)">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="more-link-holder fullWidth">\n                <button class="more-link" role="link" ng-click="showAllFoodTypes()">{{arrFoodTypes.length === limitToFoodTypes ? \'\' : \'...\'}}\n                    <span class="new-icon more-icon" ng-class="{\'new-icon-arrow-up\' : arrFoodTypes.length === limitToFoodTypes , \'new-icon-arrow-down\' : arrFoodTypes.length !== limitToFoodTypes}"></span>\n                </button>\n            </div>\n            <div class="filter-title marginFromTopTwoStep fullWidth">\n                <span class="new-icon new-icon-sort"></span>\n                 \n            </div>\n            <div class="fullWidth sort-in-filter">\n                <a href="#" ng-class="{\'selected-sort\' : newest.bool === 1}" ng-click="changeSort(\'newest\')">\n                    <div class="sort-item fullWidth">\n                        <span class="pull-right new-icon new-icon-sort_new sort-item-icon"></span>\n                        <span class="pull-right sort-item-text"> </span>\n                    </div>\n                </a>\n                <a href="#" ng-class="{\'selected-sort\' : deliveryTime.bool === 1}" ng-click="changeSort(\'deliveryTime\')">\n                    <div class="sort-item fullWidth">\n                        <span class="pull-right new-icon new-icon-sort_delivery sort-item-icon"></span>\n                        <span class="pull-right sort-item-text"> </span>\n                    </div>\n                </a>\n                <a href="#" ng-class="{\'selected-sort\' : rating.bool === 1}" ng-click="changeSort(\'rating\')">\n                    <div class="sort-item fullWidth">\n                        <span class="pull-right new-icon new-icon-sort_rate sort-item-icon"></span>\n                        <span class="pull-right sort-item-text"> </span>\n                    </div>\n                </a>\n                <a href="#" ng-class="{\'selected-sort\' : financialCategory.bool === 1}" ng-click="changeSort(\'financialCategory\')">\n                    <div class="sort-item fullWidth">\n                        <span class="pull-right new-icon new-icon-sort_economic sort-item-icon"></span>\n                        <span class="pull-right sort-item-text"> </span>\n                    </div>\n                </a>\n                <!--<a href="#" ng-class="{\'selected-sort\' : likes.bool === 1}" ng-click="changeSort(\'likes\')">-->\n                <!--<div class="sort-item fullWidth">-->\n                <!--<span class="pull-right new-icon new-icon-like1 sort-item-icon"></span>-->\n                <!--<span class="pull-right sort-item-text"> </span>-->\n                <!--</div>-->\n                <!--</a>-->\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/header-options.html",'<nav id="top-header">\n    <div class="mainnav navbar {{getHeaderTopAffixClass()}} navbar-fixed-top affix-top" affix affix-top="60" ng-class="{\'affix\':showBackgroundHeader}">\n        <!--<div style="top: 0; bottom:0; left: 0; right: 0; position: absolute; background-color: #000000;"></div>-->\n        <div class="color-full-border">\n            <div class="colors">\n                <div class="blue"></div>\n                <div class="flat-green"></div>\n                <div class="dark-green"></div>\n                <div class="flat-orange"></div>\n                <div class="dark-orange"></div>\n                <div class="flat-red"></div>\n                <div class="flat-red"></div>\n            </div>\n        </div>\n        <div class="container">\n            <div class="row">\n                <div class="navbar-header col-lg-3 col-md-3 col-xs-12 col-sm-12 col-xxs-12" ng-click="showMenu(false)" ng-class="{\'changeBackground\' : activeMenu.bool}">\n\n                    <div class="pull-right relativeMatter">\n                        <button ng-show="!showLoading" id="toggler" aria-expanded="false" class="navbar-toggle collapsed" ng-click="showMenu(undefined,$event)"\n                            ng-class="{opened : !activeMenu.bool}">\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                            <span class="icon-bar"></span>\n                        </button>\n                        <button ng-if="(showSimpleSearch && !activeMenu.bool) || (showJustFilters && !activeMenu.bool)" class="buttons-after-collapse hidden-lg hidden-md" ng-click="showFilterModal()">\n                            <span class="new-icon new-icon-filter-2"></span>\n                        </button>\n                        <button ng-if="showSimpleSearch && !activeMenu.bool" class="buttons-after-collapse second-button hidden-lg hidden-md" ng-click="showMapModal()">\n                            <span class="new-icon new-icon-edit_location"></span>\n                        </button>\n                        <div ng-if="mustOpenModal" class="inline hidden-lg hidden-md">\n                            <button class="buttons-after-collapse second-button dropdown-toggle hidden-lg hidden-md" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n                                <span class="new-icon new-icon-share2"></span>\n                            </button>\n                            <ul class="absoluteMatter shares-icons dropdown-menu">\n                                <li class="share-holder">\n                                    <a target="_blank" href="https://telegram.me/share/url?url={{currentLocation}}"><span class="new-icon new-icon-telegram telegram-share"></span></a></li>\n                                <li class="share-holder">\n                                    <a target="_blank" href="https://twitter.com/home?status={{currentLocation}}"><span class="new-icon new-icon-twitter twitter-share"></span></a></li>\n                                <li class="share-holder">\n                                    <a target="_blank" href="http://www.facebook.com/share.php?u={{currentLocation}}"><span class="new-icon new-icon-facebook facebook-share"></span></a></li>\n                                <li class="share-holder">\n                                    <a target="_blank" href="whatsapp://send?text={{currentLocation}}"><span class="new-icon new-icon-whats_app whatsapp-share"></span></a></li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="pull-left">\n                        <a ng-if="currentUser.orderCount > 0 && mustOpenModal !== true" ui-sref=\'app.restaurantnew.show.menu({city:cityName , slug:currentUser.restaurantSlug})\'\n                            class="hidden-lg hidden-md head-shopping">\n                            <div class="relativeMatter">\n                                <i class="new-icon new-icon-bascket basket-icon"></i>\n                                <span class="num absoluteMatter">{{ currentUser.orderCount }}</span>\n                            </div>\n                        </a>\n                        <a ng-if="currentUser.orderCount > 0 && mustOpenModal" ng-click="openBasketModal()" href="#"\n                           class="hidden-lg hidden-md head-shopping">\n                            <div class="relativeMatter">\n                                <i class="new-icon new-icon-bascket basket-icon"></i>\n                                <span class="num absoluteMatter">{{ currentUser.orderCount }}</span>\n                            </div>\n                        </a>\n                        <a ui-sref="app.homepage" class="navbar-brand">\n                            <img src="app/user/assets/img/base/logo-new.png">\n                        </a>\n                    </div>\n                </div>\n                <div ng-if="showSimpleSearch" class="col-lg-5 col-md-5 hidden-sm hidden-xs hidden-xxs relativeMatter location-container-in-menu">\n                    <div class="search-container search-container-in-menu in-menu-vertically-middle">\n                        <simple-search></simple-search>\n                    </div>\n                </div>\n                <div class="col-lg-4 col-md-4 pull-right collapse-main-wrapper">\n                    <div id="collapse-main-nav" class="collapse navbar-collapse" ng-show="!showLoading" uib-collapse="!activeMenu.bool" collapsing="changeStateMenu(true)"\n                        expanded="changeStateMenu(false)">\n                        <div class="other-part-of-page" ng-class="{\'active\': activeMenu.bool}" ng-click="showMenu()"></div>\n                        <ul ng-if="isUserLoggedIn" class="nav navbar-nav navbar-right register" id="navigationBar" ng-click="showMenu()">\n                            <li class="dropdown login-dropdown toggle-arrow custom-dropdown">\n                                <a data-toggle="dropdown" class="dropdown-toggle">\n                                    <img check-image src="{{ currentUser.avatar }}" class="avatar img-rounded">\n                                </a>\n                                <div class="avatar-info cursor-pointer" data-toggle="dropdown" class="dropdown-toggle">\n                                    <p class="name">{{ currentUser.userFullName }} </p>\n                                    <p class="credit"> :\n                                        <price amount="{{currentUser.userCacheBalance}}"></price>\n                                    </p>\n                                    <p class="increase-wallet">\n                                        <a ui-sref="app.profile.wallet">\n                                            <span class="icon icon-plus"></span> </a>\n                                    </p>\n                                </div>\n                                <ul class="dropdown-menu list-unstyled list-nopadd">\n                                    <li id="increaseWalletWrapper">\n                                        <a id="increaseWallet" ui-sref="app.profile.wallet">\n                                            <span class="icon icon-plus"></span> </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.index">\n                                        <i class="new-icon new-icon-edit_profile grayForIcons"></i>   </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.orderlist">\n                                            <i class="new-icon new-icon-my_order grayForIcons"></i>  </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.transaction">\n                                        <i class="new-icon new-icon-my_transaction grayForIcons"></i> &zwnj; \n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.address">\n                                        <i class="new-icon new-icon-my_address2 grayForIcons"></i>  \n                                        </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.wallet">\n                                            <i class="icon icon-wallet grayForIcons"></i>  </a>\n                                    </li>\n                                    <li>\n                                        <a ui-sref="app.profile.review">\n                                        <i class="new-icon new-icon-my_comments grayForIcons"></i>  </a>\n                                    </li>\n                                    <li>\n                                        <a href="#" ng-click="logout()">\n                                            <i class="icon icon-exit grayForIcons"></i> </a>\n                                    </li>\n                                </ul>\n                            </li>\n                            <li class="order-count-box">\n                                <a ng-if="currentUser.orderCount > 0" ui-sref=\'app.restaurantnew.show.menu({city:cityName , slug:currentUser.restaurantSlug})\'\n                                    class="head-shopping-desktop">\n                                    <div class="relativeMatter">\n                                        <i class="new-icon new-icon-bascket"></i>\n                                        <span class="num absoluteMatter">{{ currentUser.orderCount }}</span>\n                                    </div>\n                                </a>\n                            </li>\n                        </ul>\n                        <ul ng-if="!isUserLoggedIn" class="nav navbar-nav navbar-right register" ng-show="!showLoading" ng-click="showMenu(false)">\n                            <li>\n                                <a href="#" ng-click="openAuthenticationModal(\'login\')">\n                                    <i class="new-icon new-icon-login smaller-icon">&nbsp;</i> </a>\n                            </li>\n                            <li>\n                                <a href="#" ng-click="openAuthenticationModal(\'register\')">\n                                    <i class="new-icon new-icon-register smaller-icon">&nbsp;</i>  </a>\n                            </li>\n                            <li class="order-count-box">\n                                <a ng-if="currentUser.orderCount > 0" ui-sref=\'app.restaurantnew.show.menu({city:cityName , slug:currentUser.restaurantSlug})\'\n                                    class="head-shopping-desktop">\n                                    <div class="relativeMatter">\n                                        <i class="new-icon new-icon-bascket"></i>\n                                        <span class="num absoluteMatter">{{ currentUser.orderCount }}</span>\n                                    </div>\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <spinner-loader ng-show="showLoading"></spinner-loader>\n            </div>\n        </div>\n    </div>\n</nav>'),
e.put("/app/user/ngApp/templates/libsView/templates/directives/internal-loading.html",'<div class="content-loader-holder">\n    <div class="content-loader">\n        <!-- <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="img-responsive" width="200"> -->\n        <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="150">\n        <p class="text-center">  </p>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/loaderWithoutText.html",'      <div class="content-loader-holder" >\n            <div class="content-loader">\n              <img  src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n            </div>\n        </div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/map.html",""),e.put("/app/user/ngApp/templates/libsView/templates/directives/mapSearchModal.html",'<div class="map-search-content">\n    <div class="map-search-header fullWidth">\n        <div class="fullWidth text-center">\n            <div class="inline-block address-wrapper">\n                <span class="inline-block new-icon new-icon-pin icon-pin"></span>\n                <span class="inline-block smallFirstFont">{{neighbourhood.name}} </span>\n                <span class="inline-block smallFirstFont">| </span>\n                <span class="inline-block smallFirstFont">      </span>\n                <div class="circle-top-of-map relativeMatter inline-block"><span class="objectInMiddle">{{allRestaurants.length}}</span></div>\n            </div>\n            <span class="pull-left close-section-mapsearch cursor-pointer" ng-click="close()"><i\n                    class="icon icon-cancel lightGrayColor"></i></span>\n        </div>\n    </div>\n    <div class="map-search-body">\n        <div class="row">\n            <div class="col-lg-12 col-md-12 relativeMatter">\n                <div class="Gmap-box" id="GmapModal" style="height: 90vh;"></div>\n                <div class="absoluteMatter map-action-container">\n                    <button ng-click="close()"> </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/mapSearchSection.html",'<div class="Gmap-box-holder relativeMatter">\n    <div class="col-md-12">\n        <div class="Gmap-box" id="Gmap" style="height: 260px;"></div>\n        <div class="open-zooming-modal absoluteMatter" ng-show="showInformation">\n            <a href="#" ng-click="openModalForSelecting()">\n                <div>\n                    <span class="new-icon new-icon-search2 zooming-icon pull-right"></span>\n                    <span class="zooming-text pull-right"> </span>\n                </div>\n            </a>\n        </div>\n        <div class="info-on-Gmap absoluteMatter" ng-show="showInformation">\n            <div class="fullWidth top-info-on-Gmap">\n                <span>{{neighbourhood.name}}</span>\n            </div>\n            <div class="fullWidth bottom-info-on-Gmap">\n                <div class="number-holder relativeMatter blockBecomeCenter"><span class="objectInMiddle">{{allRestaurants.length}}</span>\n                </div>\n                <span>      </span>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/neighborhood-map.html",'<div class="restaurant-list-map-box">\n  <div class="map-box-top row">\n    <p class="rest-count pull-right">\n      <span class="icon icon-bullet"></span> <span>       :</span>\n\n      <spinner-loader ng-show="loading"></spinner-loader>\n\n      <span ng-show="!loading && count!=undefined" class="restNumber">{{count}} </span> <span ng-show="!loading && count!=undefined"></span>\n    </p>\n    <p class="rest-count pull-left user-location">\n      <i class="icon icon-loction"></i> {{userLocation.data.regionName}} </p>\n  </div>\n\n  <div id="map-in-cats">\n    <div id="map-c" class="map-height-open" style="position: relative; overflow: hidden;"></div>\n    <div class="map-box-bottom row">\n      <div class="zoom-modal-section" ng-click="openModal()"><i class="icon icon-pin-2"></i>\n        <span> </span></div>\n    </div>\n  </div>\n</div>\n<div class="map-overlay" ng-show="neghborhoodModalMap"></div>\n<div class="map-container" ng-class="{\'open\' : neghborhoodModalMap}">\n  <div class="header-section">\n    <p class="truncate text-right">\n      <i class="icon icon-information"></i>              </p>\n  </div>\n  <div class="close-btn" ng-click="closeMap()"><i class="icon icon-cancel"></i></div>\n  <div class="map-container-box">\n    <div id="modal-map-zoom"></div>\n  </div>\n  <div class="footer-section clearfix">\n    <div class="col-lg-9 col-md-6 col-sm-6 col-xs-12 pull-right"></div>\n    <div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">\n      <button class="btn btn-default-sm pull-left btn-green" ng-click="selectPointMap()">\n        <span></span>\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/payment-address.html",'<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 nopadding-x">\n          <div class="title-bar title-bar-2">\n            <i class="icon icon-bullet"></i>\n            <span class="color-red-1">  </span>\n          </div>\n        </div>\n        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n          <div class="select-address">\n            <form name="formEditedAddress" ng-repeat="(key, value) in userAddresses">\n              <label for="__{{ value.userAddressId }}" ng-class="{\'deactive\': !checkCanDeliver(value), \'edited-address\': value.edited}">\n                <input id="__{{ value.userAddressId }}" value="{{ value.userAddressId }}" ng-if="checkCanDeliver(value)"\n                       ng-model="userAddress.selected" type="radio" name="address-select">\n                <span ng-if="checkAddressAvailability && checkCanDeliver(value)" class="radio">\n                  <span class="checked-radio"></span>\n                </span>\n                <span class="address-box {{value.userAddressId}}">\n                  <span class="control-panel" ng-class="{\'hidden\' : value.edited}">\n                    <a ng-click="showEditAddressForm(value)" ng-show="!value.edited" class="edite">\n                      <i class="icon icon-pen-2"></i>\n                    </a>\n                    <a ng-click="deleteAddress(value.userAddressId, key)" class="remove">\n                      <i class="icon icon-bin"></i>\n                    </a>\n                  </span>\n                  <span class="add-label"\n                        ng-class="{\'err-span\': formEditedAddress.editedAddress.$invalid &&  formEditedAddress.editedAddress.$dirty}">\n                    <span ng-show="!value.edited">{{value.userAddressName}}</span>\n                    <input ng-show="value.edited" type="text" ng-model="value.userAddressName" name="editedAddress"\n                           placeholder="         : ">\n                  </span>\n                  <span class="city">\n                    <span ng-show="!value.edited">{{ value.cityName }}</span>\n                    <select ng-show="value.edited"\n                            ng-change="setSelectedCity(value.userAddressCityId, value.userAddressId, value.edited)"\n                            class="city {{value.userAddressId}} js-states form-control"\n                            ng-model="value.userAddressCityId">\n                    </select>\n                  </span>\n                  <span class="quarter">\n                    <span ng-show="!value.edited">{{ value.neighborhoodName }}</span>\n                    <select ng-show="value.edited" class="neighborhood {{value.userAddressId}} js-states form-control"\n                            ng-model="value.userAddressNeighborhoodId"\n                            ng-change="neighborhoodIdChanged(value.userAddressNeighborhoodId)">\n                    </select>\n                  </span>\n                  <span class="address">\n                    <div class="col-lg-9 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                      <span ng-show="!value.edited" class="">{{ value.userAddressComplete }}</span>\n                      <textarea ng-show="value.edited" ng-model="value.userAddressComplete"\n                                type="text" placeholder="     ..." class="form-control">\n                      </textarea>\n                      <div ng-show="value.edited"\n                           class="btn-group clearfix col-lg-5 col-md-5 col-sm-6 col-xs-12 pull-right nopadding-x" role="group"\n                           aria-label="...">\n                        <button type="button" class="btn btn-default-xs btn-green" ng-click="editAddress(value)">\n                        </button>\n                        <button type="button" class="btn btn-default-xs btn-red" ng-click="cancelEditAddress(value)">\n                        </button>\n                      </div>\n                    </div>\n                    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12 nopadding-x">\n                      <a ng-show="value.edited" href="#" ng-click="showAddressMap(value)" class="google-shot-link">\n                        <img alt="" class="img-responsive google-shot center-block"\n                             src="https://maps.googleapis.com/maps/api/staticmap?language=fa&center={{value.latitude}},{{value.longitude}}&zoom=14&scale=false&maptype=roadmap&key={{APP_KEY}}&format=png&size=300x250&style=visibility:on&style=feature:water%7Celement:geometry%7Cvisibility:on&style=feature:landscape%7Celement:geometry%7Cvisibility:on&markers=icon:{{currentOrigin}}/app/user/assets/img/base/pin-user-small.png%7C{{value.latitude}},{{value.longitude}}">\n                        <div class="zoom-map hidden-xxs hidden-xs"></div>\n                      </a>\n                    </div>\n                  </span>\n                </span>\n                <span ng-show="!checkCanDeliver(value)" class="err-text">\n                  <i class="icon icon-bullet"></i>\n                        \n                </span>\n              </label>\n            </form>\n            <form name="formAddAddress" novalidate>\n              <label class="new-address" for="addAddress" ng-show="newAddress">\n                <!--<input type="radio" name="address-select">\n                <span ng-show="checkAddressAvailability" class="radio">\n                  <span class="checked-radio"></span>\n                </span>-->\n                <span class="address-box">\n                  <span class="add-label new-address-level"\n                        data-toggle="tooltip"\n                        title="             .      ..."\n                        ng-class="{\'err-span\': formAddAddress.userAddressName.$invalid &&  formAddAddress.userAddressName.$dirty}">\n                    <input required type="text" ng-model="newaddr.userAddressName"\n                           class="userAddressName"\n                           name="userAddressName"\n                           placeholder="         : ">\n                  </span>\n                  <span class="city">\n                    <select required ng-change="setSelectedCity(newaddr.userAddressCityId)"\n                            class="city add js-states form-control"\n                            ng-model="newaddr.userAddressCityId">\n                    </select>\n                  </span>\n                  <span class="quarter">\n                    <select required ng-change="neighborhoodIdChanged(newaddr.userAddressNeighborhoodId)"\n                            class="neighborhood add js-states form-control"\n                            ng-model="newaddr.userAddressNeighborhoodId">\n                      <option value=""></option>\n                    </select>\n                    <div ng-show="neighborhodSpinner" class="simple-spinner">\n                      <spinner-loader></spinner-loader>\n                    </div>\n                  </span>\n                  <span class="address">\n                    <div class="col-lg-9 col-md-8 col-sm-8 col-xs-12 pull-right nopadding-x">\n                      <textarea required ng-model="newaddr.userAddressComplete" type="text"\n                                placeholder="     ..." class="form-control">\n                      </textarea>\n                      <div class="btn-group clearfix col-lg-5 col-md-5 col-sm-6 col-xs-12 pull-right nopadding-x" role="group"\n                           aria-label="...">\n                        <button ng-if="!addNewAddressBtn" type="button" class="btn btn-default-xs btn-green"\n                                ng-click="addAddress()">\n                        </button>\n                        <button type="button" class="btn btn-default-xs btn-red" ng-click="cancelAddAddress()">\n                        </button>\n                      </div>\n                    </div>\n                    <div class="col-lg-3 col-md-4 col-sm-4 col-xs-12 nopadding-x">\n                      <a href="#" ng-click="neighborhoodIdChanged(newaddr.userAddressNeighborhoodId, true)"\n                         class="google-shot-link">\n                        <img alt="" class="img-responsive google-shot center-block"\n                             src="https://maps.googleapis.com/maps/api/staticmap?language=fa&center={{newLat}},{{newLong}}&zoom=14&scale=false&maptype=roadmap&key={{APP_KEY}}&format=png&size=300x250&style=visibility:on&style=feature:water%7Celement:geometry%7Cvisibility:on&style=feature:landscape%7Celement:geometry%7Cvisibility:on&markers=icon:{{currentOrigin}}/app/user/assets/img/base/pin-user-small.png%7C{{newLat}},{{newLong}}">\n                        <span class="zoom-map hidden-xxs hidden-xs "></span>\n                      </a>\n                    </div>\n                  </span>\n                </span>\n              </label>\n            </form>\n          </div>\n          <button\n              ng-if="addNewAddressBtn"\n              class="btn btn-custom-blue btn-default-sm add-address"\n              ng-click="addAddress()"\n              ng-class="{\'with-address\' : sizeAddress > 0 , \'center-block\' : sizeAddress == 0 }">\n            <span>\n              <i class="icon icon-plus2"></i>\n               \n            </span>\n          </button>\n        </div>\n      </div>    '),e.put("/app/user/ngApp/templates/libsView/templates/directives/rating.html",'<li ng-repeat="star in rating" class="relativeMatter inactive">\n    <span class="absoluteMatter star-background" ng-style="{{star.style}}"></span>\n    <i class="new-icon new-icon-rate_star star-icon relativeMatter"></i>\n</li>\n\n\n\n\n\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-header.html",'<section class="restaurant-header">\n  <div class="inline-butterbar butterbar active" ng-if="!restaurant.id"><span class="bar"></span></div>\n  <div class="panel-img" ng-style="headerStyle">\n    <div class="overlay"></div>\n    <div class="container">\n      <div class="row">\n        <div class="col-lg-10 col-md-10 col-sm-9 col-xs-12 pull-right">\n          <div class="restaurant-info-1">\n            <span class="restaurant-logo-rate">\n              <div class="img-holder hidden-xxs">\n                <img ng-src="{{restaurant.profile && restaurant.profile || \'app/user/assets/img/base/res_logo_placeholder.jpg\'}}" class="img-responsive center-block">\n                <div class="overlay" ng-if="!restaurant.isOpen"></div>\n              </div>\n              <ul class="list-inline rating hidden-xxs">\n                <rating stars="restaurant.rateAverage"></rating>\n              </ul>\n              <p class="rate-av hidden-xxs">({{restaurant.commentCount ? restaurant.commentCount : 0}} )</p>\n            </span> <span class="restaurant-deatail"> <span class="title">\n            <h1>{{restaurant.name}}\n                <span class="other-branchs-chain hidden-xxs pull-left" ng-hide="!restaurant.chainData">\n                    <!-- <i class="icon icon-restaurant"></i> -->\n                    <a ui-sref="app.chain-restaurants.index({city:restaurant.chainData.citySlug, slug: restaurant.chainData.chainRestaurantSlug})"> \n                      <i class="icon icon-arrow-left"></i>\n                    </a>\n                </span>\n\n            </h1>\n\n          </span>\n            <p class="address hidden-xxs ">\n              <i class="icon icon-pin-2"></i> {{restaurant.address}} </p>\n            <p class="delivery-time" ng-if="restaurant.deliveryTime && restaurant.deliveryTime[0] != null && restaurant.deliveryTime[1] != null">\n              <i class="icon icon-truck2"></i>   : {{ restaurant.deliveryTime[0] }}  {{ restaurant.deliveryTime[1] }} \n            </p>\n            <p class="slogan hidden-xxs" ng-hide="!restaurant.slogan">\n              <i class="icon icon-dish"></i> {{ restaurant.slogan }} </p>\n          </span>\n          </div>\n        </div>\n        <div class="col-lg-2 col-md-2 col-sm-3 col-xs-12">\n          <div class="restaurant-state deactive-restaurant" ng-if="restaurant.id">\n            <div class="state open " ng-if="restaurant.isOpen && restaurant.status == 1"></div>\n            <div class="state close " ng-if="!restaurant.isOpen || restaurant.status != 1"></div>\n            <div class="time" ng-repeat="time in restaurant.todayTime">\n                {{ time.start | timeFormat }} - {{ time.end | timeFormat }}\n            </div>\n<!--            <div class="day">\n              {{restaurant.todayTime.timeEndMorning | timeFormat}} - {{restaurant.todayTime.timeStartMorning | timeFormat}}\n            </div>\n            <div class="night">\n              {{restaurant.todayTime.timeEndNoon | timeFormat}} - {{restaurant.todayTime.timeStartNoon | timeFormat}}\n            </div>-->\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-image-holder.html",'<div class="image-holder relativeMatter">\n    <img img-lazy-src="{{profile}}" alt="{{restaurantName}}"/>\n    <div class="dicount-box absoluteMatter" ng-show="restaurantSalePercentage !== 0"><span\n            class="discount-holder objectInMiddle">{{restaurantSalePercentage}}</span></div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-item-horizontal.html",'<div class="col-lg-12 col-md-12 restaurant-item-holder" in-view="whenInView({inview: $inview, index: index})">\n    <div class="restaurant-item fullWidth" ng-class="{\'close-now\' : restaurant.isOpen !== true}">\n        <div class="image-list-holder pull-right">\n            <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})"><restaurant-image-holder restaurant-sale-percentage="restaurant.restaurantSalePercentage"\n                                     profile="restaurant.profile" restaurant-name="restaurant.restaurantName"></restaurant-image-holder></a>\n        </div>\n        <div class="pull-right name-container">\n            <div class="fullWidth">\n                <span class="restaurant-name"><a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a></span>\n            </div>\n            <div class="fullWidth paddingNames">\n                <div ng-repeat="tag in restaurant.restaurantFoodTypes | toArray | limitTo:3" style="display: inline;">\n                    <span class="sub-title-text">{{tag.tagName}}</span>\n                    <div class="gold-circle" ng-show="$last === false"></div>\n                </div>\n            </div>\n            <div class="fullWidth paddingNames">\n                <div class="relativeMatter inline-block">\n                <span class="new-icon triple-dollar objectInMiddle"\n                      ng-class="{\'new-icon-economic_level1\' : restaurant.restaurantFinancialLevel.financeLevel == 1, \'new-icon-economic_level2\' : restaurant.restaurantFinancialLevel.financeLevel == 2, \'new-icon-economic_level3\' : restaurant.restaurantFinancialLevel.financeLevel == 3}"></span>\n\n                    <span class="new-icon triple-dollar fake-dollar new-icon-economic_level3"></span>\n                </div>\n                <div class="financial-level inline-block"><span> : </span>{{restaurant.restaurantFinancialLevel.financeLevel == 1 ? \'\' : (restaurant.restaurantFinancialLevel.financeLevel == 2 ? \'\' : \'\')}}</div>\n            </div>\n        </div>\n        <div class="right-specs-holder pull-left relativeMatter stars-holder">\n            <div class="right-specs-container">\n                <span class="new-icon new-icon-person lightGrayColor"></span>\n                <span class="lightGrayColor">{{restaurant.restaurantCommentCount}}</span>\n                <rate number="restaurant.restaurantRateAverage"></rate>\n            </div>\n            <div class="pull-left specs-list-holder">\n                <ul class="specs-list">\n                    <li ng-show="restaurant.veg" class="listStyleNone inline"><span class="new-icon new-icon-veg_tag"></span></li>\n                    <!-- <li ng-show="restaurant.special" class="listStyleNone inline" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top"><span class="new-icon new-icon-special_tag"></span></li> -->\n                    <li ng-show="restaurant.restaurantIsNew !== 0" class="listStyleNone inline" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top"><span class="new-icon new-icon-new_tag"></span></li>\n                    <li ng-show="restaurant.restaurantIsRecommended !== 0" class="listStyleNone inline" uib-popover="" popover-trigger="\'mouseenter\'"\n                        popover-placement="top">\n                        <span class="new-icon new-icon-star-fill-circle"></span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="action-holder fullWidth">\n            <div class="pull-right light-gray address-container">\n                <span class="new-icon new-icon-pin pull-right address-icon text-right"></span>\n                <span class="address-text pull-right text-right">{{ restaurant.neighborhood.name }}</span>\n            </div>\n            <div class="pull-left action-container">\n                <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})"\n                   ng-show="restaurant.isOpen === true">\n                    <button class="status-button see-menu"> </button>\n                </a>\n                <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})"\n                   ng-show="restaurant.isOpen === false">\n                    <button class="status-button now-close"><span ng-show="restaurant.nextActivationTime.time != 0">   <div class="inline-block relativeMatter overflow-hidden hour-wrapper"><span\n                            class="hour-container objectInMiddle">{{restaurant.nextActivationTime.time}}</span></div> {{restaurant.nextActivationTime.unit === \'m\' ? \'\' : \'\'}} </span><span\n                            ng-show="restaurant.nextActivationTime == 0">  </span></button>\n                </a>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-item-mobile.html",'<div class="col-xs-12 col-xxs-12 hidden-lg hidden-md restaurant-item-mobile-holder restaurant-item-holder"\n     in-view="whenInView({inview: $inview, index: index})">\n    <div class="restaurant-item fullWidth relativeMatter overflow-hidden"\n         ng-class="{\'close-now\' : restaurant.isOpen !== true}">\n        <div class="image-list-holder pull-right"><a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})">\n            <restaurant-image-holder restaurant-sale-percentage="restaurant.restaurantSalePercentage"\n                                     profile="restaurant.profile" restaurant-name="restaurant.restaurantName"></restaurant-image-holder>\n                                     </a>\n        </div>\n        <div class="pull-right name-tag-container">\n            <div class="name-container truncateText">\n                <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})"><span class="restaurant-name">{{restaurant.restaurantName}}</span></a>\n            </div>\n            <div class="paddingNames text-right">\n                <div ng-repeat="tag in restaurant.restaurantFoodTypes | toArray | limitTo:3" style="display: inline;">\n                    <span class="sub-title-text">{{tag.tagName}}</span>\n                    <div class="gold-circle" ng-show="$last === false"></div>\n                </div>\n            </div>\n            <div>\n                <ul class="list-specs inline">\n                    <li class="triple-dollar-li" uib-popover=" " popover-trigger="\'mouseenter\'"\n                        popover-placement="top"\n                        ng-show="restaurant.restaurantFinancialLevel !== undefined && restaurant.restaurantFinancialLevel.financeLevel !== undefined">\n                        <div class="relativeMatter">\n                        <span class="new-icon triple-dollar objectInMiddle"\n                              ng-class="{\'new-icon-economic_level1\' : restaurant.restaurantFinancialLevel.financeLevel == 1, \'new-icon-economic_level2\' : restaurant.restaurantFinancialLevel.financeLevel == 2, \'new-icon-economic_level3\' : restaurant.restaurantFinancialLevel.financeLevel == 3}"></span>\n\n                            <span class="new-icon triple-dollar fake-dollar new-icon-economic_level3"></span>\n                        </div>\n                        <!--<span class="new-icon new-icon-economic_level2 triple-dollar"></span>-->\n                        <!--<span class="new-icon new-icon-economic_level2 triple-dollar"></span>-->\n\n                    </li>\n                    <li ng-show="restaurant.veg"><span class="new-icon new-icon-veg_tag"></span></li>\n                    <!-- <li ng-show="restaurant.special" uib-popover="" popover-trigger="\'mouseenter\'"\n                        popover-placement="top"><span class="new-icon new-icon-special_tag"></span></li> -->\n                    <li ng-show="restaurant.restaurantIsNew !== 0" uib-popover="" popover-trigger="\'mouseenter\'"\n                        popover-placement="top"><span class="new-icon new-icon-new_tag"></span></li>\n                    <li ng-show="restaurant.restaurantIsRecommended !== 0" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top">\n                        <span class="new-icon new-icon-star-fill-circle"></span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="fullWidth address-star-container" ng-class="{\'when-every-thing-left\' : restaurant.isOpen === false}">\n            <div class="address-container pull-right" ng-hide="restaurant.isOpen === false">\n                <div class="pull-right light-gray address-inner">\n                    <span class="new-icon new-icon-pin pull-right address-icon text-right"></span>\n                    <span class="address-text pull-right text-right truncateText">{{ restaurant.neighborhood.name }}</span>\n                </div>\n            </div>\n            <div class="star-container pull-left" ng-class="{\'fullWidth\' : restaurant.isOpen === false}">\n                <div class="right-specs-container" ng-class="{\'pull-left\' : restaurant.isOpen === false}">\n                    <span class="new-icon new-icon-person lightGrayColor"></span>\n                    <span class="lightGrayColor">{{restaurant.restaurantCommentCount}}</span>\n                    <rate number="restaurant.restaurantRateAverage"></rate>\n                </div>\n                <span class="address-text truncateText text-right pull-left address-becoming-left" ng-show="restaurant.isOpen === false">{{ restaurant.neighborhood.name }}</span>\n            </div>\n        </div>\n        <div class="pre-order-box absoluteMatter" ng-show="restaurant.isOpen === false && restaurant.nextActivationTime.time != 0">\n            <div class="relativeMatter">\n                <div class="absoluteMatter rotated-text">\n                    <div>\n                          \n                    </div>\n                    <div class="orange-color">{{restaurant.nextActivationTime.time + \' \' + (restaurant.nextActivationTime.unit === \'m\' ? \'\' : \'\')}}</div>\n                    <div class=""></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-item.html",'<div class="col-lg-4 col-md-6 hidden-xs hidden-xxs hidden-sm restaurant-item-holder" in-view="whenInView({inview: $inview, index: index})">\n    <div class="restaurant-item fullWidth" ng-class="{\'close-now\' : restaurant.isOpen !== true}">\n        <div class="fullWidth relativeMatter" style="display: none;">\n            <span class="new-icon new-icon-like2 pull-left"></span>\n        </div>\n        <div class="image-grid-holder"><a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})"><restaurant-image-holder restaurant-sale-percentage="restaurant.restaurantSalePercentage" profile="restaurant.profile" restaurant-name="restaurant.restaurantName"></restaurant-image-holder></a></div>\n        <div class="restaurant-title fullWidth truncateText">\n            <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})">{{restaurant.restaurantName}}</a>\n        </div>\n        <div class="restaurant-sub-title fullWidth truncateText">\n            <div ng-repeat="tag in restaurant.restaurantFoodTypes | toArray | limitTo:3" style="display: inline;">\n                <span class="sub-title-text">{{tag.tagName}}</span>\n                <div class="gold-circle" ng-show="$last === false"></div>\n            </div>\n        </div>\n        <div class="stars-holder fullWidth">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                <div class="middle-line">\n                    <span class="new-icon new-icon-person lightGrayColor"></span>\n                    <span class="lightGrayColor">{{restaurant.restaurantCommentCount}}</span>\n                    <rate number="restaurant.restaurantRateAverage"></rate>\n                </div>\n            </div>\n        </div>\n        <div class="specs-holder fullWidth">\n            <div class="pull-right light-gray fourTenWidth">\n                <span class="new-icon new-icon-pin pull-right address-icon oneTenWidth text-right"></span>\n                <span class="address-text pull-right truncateText nineTenWidth text-right">{{ restaurant.neighborhood.name }}</span>\n            </div>\n            <div class="pull-left light-gray big-icon-font sixTenWidth">\n                <ul class="list-specs">\n                    <li class="triple-dollar-li" uib-popover=" " popover-trigger="\'mouseenter\'" popover-placement="top"\n                        ng-show="restaurant.restaurantFinancialLevel !== undefined && restaurant.restaurantFinancialLevel.financeLevel !== undefined">\n                        <div class="relativeMatter">\n                        <span class="new-icon triple-dollar objectInMiddle"\n                              ng-class="{\'new-icon-economic_level1\' : restaurant.restaurantFinancialLevel.financeLevel == 1, \'new-icon-economic_level2\' : restaurant.restaurantFinancialLevel.financeLevel == 2, \'new-icon-economic_level3\' : restaurant.restaurantFinancialLevel.financeLevel == 3}"></span>\n\n                            <span class="new-icon triple-dollar fake-dollar new-icon-economic_level3"></span>\n                        </div>\n                        <!--<span class="new-icon new-icon-economic_level2 triple-dollar"></span>-->\n                        <!--<span class="new-icon new-icon-economic_level2 triple-dollar"></span>-->\n\n                    </li>\n                    <li ng-show="restaurant.veg"><span class="new-icon new-icon-veg_tag"></span></li>\n                    <li ng-show="restaurant.special" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top"><span class="new-icon new-icon-special_tag"></span></li>\n                    <li ng-show="restaurant.restaurantIsNew == 1" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top"><span class="new-icon new-icon-new_tag"></span></li>\n                    <li ng-show="restaurant.restaurantIsRecommended == 1" uib-popover="" popover-trigger="\'mouseenter\'" popover-placement="top">\n                        <span class="new-icon new-icon-star-fill-circle"></span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class="action-holder fullWidth">\n            <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})" ng-show="restaurant.isOpen === true">\n                <button class="status-button see-menu"> </button>\n            </a>\n            <a ui-sref="app.restaurantnew.show.menu({city: restaurant.neighborhood.citySlug, slug: restaurant.restaurantSlug})" ng-show="restaurant.isOpen === false">\n                <button class="status-button now-close"><span ng-show="restaurant.nextActivationTime.time != 0">   <div class="inline-block relativeMatter overflow-hidden hour-wrapper"><span class="hour-container objectInMiddle">{{restaurant.nextActivationTime.time}}</span></div> {{restaurant.nextActivationTime.unit === \'m\' ? \'\' : \'\'}} </span><span ng-show="restaurant.nextActivationTime == 0">  </span></button>\n            </a>\n        </div>\n    </div>\n</div>\n'),
e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant-region-modal.html",'<div id="addressmodal" class="modal fade" ng-class="{\'in\': show}" ng-show="show">\n  <div class="modal-backdrop fade in"></div>\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-body">\n        <div class="close-btn" ng-click="closeModal()">\n          <i class="icon icon-cancel"></i>\n        </div>\n        <div class="header-bar">\n          <div class="row">\n            <div class="col-md-12">\n              <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="center-block logo-main-2"></div>\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n              <h1 class="text-center">              </h1>\n            </div>\n            <search-section></search-section>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/restaurant.html",'<div class="small-restaurant-container" ng-cloak>\n\n  <div in-view="inMethod({inview: $inview, index: index})" ng-class="{\'open-restaurant\': restaurant.isOpen, \'close-restaurant\': !restaurant.isOpen, \'row-view row-view-2\' : !gridView, \'thumbnail-view\' : gridView}" class="grid-box col-lg-4 col-md-6 col-sm-6 col-xs-6 col-xxs-12 pull-right">\n    <ul class="list-inline list-unstyled top-label">\n      <li ng-if="restaurant.restaurantIsRecommended == 1" class="label"></li>\n      <li ng-if="restaurant.restaurantSalePercentage != 0" class="label"> {{ restaurant.restaurantSalePercentage }}\n      </li>\n      <li ng-if="restaurant.restaurantIsNew == 1" class="label"></li>\n    </ul>\n    <div class="box clearfix">\n      <a ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})">\n        <span class="image"> <span class="inner-img">\n          <div class="close-overlay" ng-if="!restaurant.isOpen">\n            <div ng-show="!isUndefinedOrNullOrFalse(restaurant.nextActivationTime)" class="open-hours">\n              <p>   :</p>\n              <div>\n                <span>\n                 {{ restaurant.nextActivationTime |timeFormat }}\n\n                </span>\n\n              </div>\n            </div>\n          </div>\n          <img img-lazy-src="{{restaurant.profile}}" class="img-responsive"> </span> </span> </a> <span class="cap">\n      <span class="top-sec">\n        <ul class="list-nopadd list-inline title truncate">\n\n          <li class="truncate">\n            <a ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})">\n              <h4>{{restaurant.restaurantName}} </h4>\n              <span class="region hidden-xxs "> (\n                <span ng-repeat="(index , type) in restaurant.restaurantType"> {{type.tagName}} </span> ) </span> </a>\n          </li>\n          <li class="stars">\n            <ul class="list-nopadd list-inline stars">\n              <li class="rate-title">\n                <span class="num">({{ restaurant.restaurantCommentCount ? restaurant.restaurantCommentCount : 0 }}) </span>\n              </li>\n              <rating stars="restaurant.restaurantRateAverage"></rating>\n            </ul>\n          </li>\n          <li class="cats">\n            <ul class="list-nopadd list-inline cats">\n              <li ng-repeat="(id, menuType) in restaurant.restaurantFoodTypes " ng-show="$index<4">\n                {{menuType.tagName}}\n              </li>\n              <li ng-if="!restaurant.restaurantFoodType || restaurant.restaurantFoodType.length == 0">&nbsp;</li>\n            </ul>\n          </li>\n        </ul>\n        <ul class="list-nopadd list-inline options-t clearfix">\n          <li data-toggle="tooltip" title=" " class="eco-level-t">\n            <i class="icon icon-money active" ng-repeat="i in getNumber(restaurant.restaurantFinancialLevel.financeLevel) track by $index"></i>\n          </li>\n          <li data-toggle="tooltip" title=" " class="address" ng-show="restaurant.minDeliveryTime">\n            <i class="icon icon-transport"></i>\n            <span ng-show="!restaurantsList.loading"> {{restaurant.minDeliveryTime}}  {{restaurant.maxDeliveryTime}}  </span>\n            <span ng-show="restaurantsList.loading ">    </span>\n          </li>\n        </ul>\n        <ul class="list-nopadd list-inline feature clearfix hidden-xxs ">\n          <li class="address truncate">\n            <i class="icon icon-pin-2"></i> {{restaurant.neighborhood.name}}\n          </li>\n          <li class="pull-left">\n            <a ng-if="restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" class="btn btn-default-xs btn-yellow">  </a>\n            <a ng-if="!restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" ng-disabled="!restaurant.isOpen" class="btn btn-default-xs btn-disabled">  </a>\n          </li>\n          <li class="star-rate">\n            <ul class="list-nopadd list-inline rating">\n              <li class="rate-title">\n                <span class="text">\n                  <a ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})">   </a>\n                </span>\n              </li>\n              <li class="stars">\n                <ul class="list-nopadd list-inline stars">\n                  <rating stars="restaurant.restaurantRateAverage"></rating>\n                </ul>\n              </li>\n              <li class="rate-title num">\n                ({{ restaurant.restaurantCommentCount ? restaurant.restaurantCommentCount : 0 }})\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </span>\n      <div class="list-nopadd list-inline options-r clearfix">\n        <div class="col-md-4 col-sm-4 nopadding-x">\n          <span class="icon icon-money"></span><span class="value">  :{{ restaurant.restaurantFinancialLevel.tagName }}</span>\n        </div>\n        <div class="col-md-4 col-sm-4 nopadding-x">\n          <span class="icon icon-basket"></span><span class="value">  : {{ restaurant.restaurantMinPriceSendLimit | number | persian }}  </span>\n        </div>\n        <div class="col-md-4 col-sm-4 nopadding-x">\n          <span class="icon icon-transport" ng-show="restaurant.minDeliveryTime">\n          <span class="value">   :\n            <span ng-show="!restaurantsList.loading"> {{restaurant.minDeliveryTime | persian}}  {{restaurant.maxDeliveryTime | persian}}  </span>\n            <span ng-show="restaurantsList.loading">    </span> </span>\n          </span>\n        </div>\n\n      </div>\n    </span>\n      <div class="visible-xxs hidden-xs hidden-md hidden-lg hidden-sm ">\n        <ul class="list-nopadd list-inline feature clearfix">\n          <li class="address truncate">\n            <i class="icon icon-pin-2"></i> {{restaurant.neighborhood.name}}\n          </li>\n          <li class="pull-left">\n            <a ng-if="restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" class="btn btn-default-xs btn-yellow">  </a>\n            <a ng-if="!restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" ng-disabled="!restaurant.isOpen" class="btn btn-default-xs btn-disabled">  </a>\n          </li>\n          <li class="star-rate">\n            <ul class="list-nopadd list-inline rating">\n              <li class="rate-title">\n                <span class="text">\n                  <a ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})">   </a>\n                </span>\n              </li>\n              <li class="stars">\n                <ul class="list-nopadd list-inline stars">\n                  <rating stars="restaurant.restaurantRateAverage"></rating>\n                </ul>\n              </li>\n              <li class="rate-title num">\n                ({{ restaurant.restaurantCommentCount ? restaurant.restaurantCommentCount : 0 }})\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </div>\n      <div class="foot-cap">\n        <a ng-if="restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" class="btn btn-default-xs btn-yellow"> </a>\n        <a ng-if="!restaurant.isOpen" ng-disabled="!restaurant.isOpen" ui-sref="app.restaurantnew.show.menu({city: citySlug || restaurant.city.regionSlug, slug: restaurant.restaurantSlug})" class="btn btn-default-xs btn-disabled"> </a>\n        <span class="address truncate"> <i class="icon icon-pin-2"></i> {{restaurant.restaurantAddress}} </span>\n      </div>\n    </div>\n  </div>\n\n  <!-- <div class="clearfix" ng-show="index % 3 == 2 && gridView "></div> -->\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/search.html",'<div class="col-lg-8 col-md-10 col-sm-12 col-xs-12 col-lg-push-2 col-md-push-1">\n  <div id="searchNeighborhoodSection" class="container-fluid">\n    <div class="row search-container hidden-xs hidden-xxs">\n      <div class="col-lg-10 col-md-10 col-sm-10">\n        <div class="row">\n          <div class="col-lg-7 col-md-7 col-sm-7">\n            <div class="row">\n              <div class="col-lg-5 col-md-5 col-sm-5 search-button-container" id="intro-3">\n                <button ng-click="goToSearchPage()" class="search-button"> </button>\n              </div>\n              <div class="col-lg-7 col-md-7 col-sm-7" id="intro-2">\n                <input type="text" tabindex="2" ng-trim="true" ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" ng-change="searchInFoodsAndRestaurants()" ng-model="foodSearchedString.str" ng-click="onSelectFoodClick($event)" ng-keydown="startSearching($event,\'selectFood\',\'selectFood\')"\n                  class="form-control search-box" placeholder="{{selectFood.placeholder || \'    ...\'}}">\n              </div>\n              <result-box ng-if="foodsAndRestaurants !== undefined" on-select-item="selectFoodTag(item)" selected-class="city-selected" items="foodsAndRestaurants" show-me="selectFood" parent-class="region-list-holder foods-list-holder" ul-class="region-list" key-to-show="restaurantName" is-loading="selectFood.foodsLoading"></result-box>\n            </div>\n          </div>\n          <div class="col-lg-5 col-md-5 col-sm-5 region-part" id="intro-1">\n            <input type="text" tabindex="1" class="form-control search-box search-box-border" ng-trim="true" ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" ng-change="searchInRegions()" ng-model="regionSearchedString.str"\n              ng-keydown="startSearching($event,\'selectRegion\',\'selectRegion\')" ng-click="onSelectRegionClick($event)" placeholder="{{selectRegion.placeholder || \'       \'}}">\n          </div>\n          <result-box ng-if="regionsUi !== undefined" items="regionsUi" selected-class="city-selected" on-select-item="onSelectRegion(item)" show-me="selectRegion" parent-class="region-list-holder" ul-class="region-list" is-loading="selectRegion.regionLoading"></result-box>\n        </div>\n      </div>\n      <div class="col-lg-2 col-md-2 col-sm-2 city-part">\n        <div class="city-holder" ng-click="onSelectCity($event)">\n          <span>{{selectedCityName}}</span>\n          <span class="icon icon-arrow-down font-icon-small"></span>\n        </div>\n        <result-box ng-if="cities !== undefined" key-to-search="text" key-to-show="text" show-me="selectCity" parent-class="city-list-holder" ul-class="city-list" items="cities" on-select-item="choiceCity(item)" init-value="selectedCityName" selected-class="city-selected"></result-box>\n      </div>\n    </div>\n    <div class="row visible-xs visible-xxs hidden-sm hidden-md hidden-lg">\n      <div class="row search-container margin-center">\n        <div class="col-xs-8 col-xxs-8 region-part" id="intro-mob-1">\n          <input type="text" class="form-control search-box" ng-click="onSelectRegionClick($event)" placeholder="       " ng-trim="true" ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" ng-change="searchInRegions()"\n            ng-model="regionSearchedString.str" ng-keydown="startSearching($event,\'selectRegion\')" ng-click="onSelectRegionClick($event)">\n        </div>\n        <div class="col-xs-4 col-xxs-4 city-part">\n          <div class="city-holder" ng-click="onSelectCity($event)">\n            <span>{{selectedCityName}}</span>\n            <span class="icon icon-arrow-down font-icon-small"></span>\n          </div>\n        </div>\n        <result-box ng-if="cities !== undefined" key-to-search="text" key-to-show="text" show-me="selectCity" parent-class="general-list-holder" ul-class="city-list" items="cities" on-select-item="choiceCity(item)" init-value="selectedCityName" selected-class="city-selected">\n        </result-box>\n        <result-box ng-if="regionsUi !== undefined" selected-class="city-selected" index-of-selected="selectRegion.index" items="regionsUi" on-select-item="onSelectRegion(item)" is-loading="selectRegion.regionLoading" show-me="selectRegion" parent-class="general-list-holder" ul-class="city-list"></result-box>\n      </div>\n      <div class="row search-box-holder margin-center city-part">\n        <div class="col-xs-12 col-xxs-12 margin-center" id="intro-mob-2">\n          <div class="row">\n            <input type="text" class="form-control search-restaurant-box" ng-trim="true" ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}" ng-change="searchInFoodsAndRestaurants()" ng-model="foodSearchedString.str"\n              ng-click="onSelectFoodClick($event)" ng-keydown="startSearching($event,\'selectFood\')" placeholder="   ...">\n          </div>\n        </div>\n        <result-box ng-if="foodsAndRestaurants !== undefined" on-select-item="selectFoodTag(item)" items="foodsAndRestaurants" show-me="selectFood" parent-class="general-list-holder general-list-holder-biggest" ul-class="region-list" key-to-show="restaurantName" is-loading="selectFood.foodsLoading"></result-box>\n      </div>\n      <div class="col-xs-12 col-xxs-12 margin-center" id="intro-mob-3">\n        <div class="row full-button-search">\n          <button ng-click="goToSearchPage()" class="search-button"> </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/select-region-modal.html",'<div class="modal-content">\n    <div class="modal-body">\n        <div class="close-btn pull-left" ng-click="$close()">\n            <i class="icon icon-cancel"></i>\n        </div>\n        <div class="header-bar">\n            <div class="row">\n                <div class="col-md-12">\n                    <img src="app/user/assets/img/base/LogoForHome_shadow.png" class="center-block logo-main-2">\n                </div>\n                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n                    <h1 class="text-center">              </h1>\n                </div>\n            </div>\n            <div class="row">\n                <div class="search-container search-container-in-menu pull-right">\n                    <simple-search-region></simple-search-region>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/simple-search.html",'<div class="col-lg-9 col-md-9 col-sm-9 col-xs-9 col-xxs-9">\n    <div class="row">\n        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 col-xxs-4">\n            <div class="row">\n                <div class="col-lg-12 col-md-12 col-sm-12 search-button-container">\n                    <button ng-click="doSearch()" class="search-button">{{regionSearchModal ? \' \' : \' \'}}</button>\n                </div>\n            </div>\n        </div>\n        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8 col-xxs-8 region-part">\n            <input type="text" tabindex="1" class="form-control search-box search-box-border" ng-trim="true"\n                   ng-model-options="{updateOn: \'default blur clear\',debounce: {\'default\': 700, \'blur\': 0, \'clear\': 0 }}"\n                   ng-change="searchInRegions()" ng-model="regionSearchedString.str"\n                   ng-keydown="startSearching($event,\'regionLoading\',\'selectRegion\')"\n                   ng-click="onSelectRegionClick($event)"\n                   placeholder="{{selectRegion.placeholder || \' \'}}">\n        </div>\n        <result-box ng-if="regionsUi !== undefined" items="regionsUi" selected-class="city-selected"\n                    on-select-item="onSelectRegion(item)" show-me="selectRegion"\n                    parent-class="region-list-holder" ul-class="region-list"\n                    is-loading="selectRegion.regionLoading"></result-box>\n    </div>\n</div>\n<div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 col-xxs-3 city-part">\n    <div class="city-holder pull-right" ng-click="onSelectCity($event)">\n        <span>{{selectedCityName.str}}</span>\n        <span class="icon icon-arrow-down font-icon-small"></span>\n    </div>\n    <result-box ng-if="cities !== undefined" key-to-search="regionName" key-to-show="regionName" show-me="selectCity"\n                parent-class="city-list-holder" ul-class="city-list" items="cities"\n                on-select-item="choiceCity(item)" init-value="selectedCityName.str"\n                selected-class="city-selected"></result-box>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/spinner-loader.html",'<div class="spinner-loader"></div>'),e.put("/app/user/ngApp/templates/views/restaurants/chains/branch-list.html",'<header class="header-bar-2 header-bar-read ">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-4 col-lg-4 col-sm-4 col-xs-4 col-xxs-12 hidden-xxs"></div>\n      <div class="col-md-4 col-lg-4 col-sm-4 col-xs-4 col-xxs-12 hidden-xxs">\n        <div class="location-read">      {{chainRestaurant.name}}</div>\n      </div>\n    </div>\n  </div>\n</header>\n<section class="restaurant-header">\n  <div class="inline-butterbar butterbar active" ng-if="!chainRestaurant.id"><span class="bar"></span></div>\n  <div class="panel-img" ng-if="chainRestaurant.cover" ng-style="headerStyle">\n    <div class="overlay"></div>\n  </div>\n</section>\n<div class="container">\n  <div class="row">\n    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">\n      <div class="bread-crumbs">\n        <ul class="list-inline list-unstyled list-nopadd">\n          <li>\n            <a ui-sref="app.homepage"></a>\n          </li>\n          <li>\n            <a ui-sref="app.chain-restaurants.index({slug: chainRestaurant.slug})">     {{chainRestaurant.name}} </a>\n          </li>\n          <li></li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n<section class="restarurant-cat">\n  <div class="container">\n    <div class="row">\n      <div class="col-md-9 col-md-3 col-sm-12 col-xs-12 stick-parent sidebar-fix pull-right clearfix">\n        <div class="filter-wrapper scrollbar-dynamic" ng-controller="chainFiltersController">\n          <div class="filter">\n            <div class="sidebar-toggle visible-xs visible-xxs visible-sm clearfix" ng-click="hideFilter = !hideFilter">\n              <span class="text-right pull-right">   </span>\n              <i class="toggle-arrow-target icon pull-left " ng-class="{\'icon-arrow-up\':!hideFilter ,\'icon-arrow-down\':hideFilter}"></i>\n            </div>\n            <ul class="list-inline list-unstyled grid-view-change hidden-xs hidden-xxs text-right">\n              <li id="grid-view" ng-click="changeView(\'grid\')" ng-class="{\'active\' : sharedData.gridView}">\n                <i class="icon icon-group1"></i>\n              </li>\n              <li id="row-view" ng-click="changeView(\'row\')" ng-class="{\'active\' : !sharedData.gridView}">\n                <i class="icon icon-row-view"></i>\n              </li>\n              <li class="reset-config">\n                <p class=" text-right" ng-click="resetRestaurantSetting()">  </p>\n              </li>\n            </ul>\n            <div class="sidebar-content" ng-hide="hideFilter">\n              <!--<div class="search-box">\n                <form ng-submit="searchFormSubmit()">\n                  <input ng-model="searchKeyword" type="text" placeholder="    ...">\n                  <i ng-click="searchFormSubmit()" class="icon icon-search" ng-hide="showSpinner"></i>\n                  <div ng-show="showSpinner">\n                    <spinner-loader></spinner-loader>\n                  </div>\n                </form>\n              </div>-->\n              <div class="divider clearfix"></div>\n              <div data-toggle="dropdown-rest" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>  </span>\n                <span class="pull-left">\n                  <spinner-loader></spinner-loader>\n                </span>\n              </div>\n              <div data-toggle="dropdown-rest" class="sort-btn clearfix" ng-show="!restaurantsList.loading" ng-click=" toggleType = !toggleType">\n                <span class="pull-right text"> <i class="icon icon-knife"></i>   </span>\n\n                <span class="pull-left">\n                  <i class="icon" ng-class="(toggleType && !restaurantsList.loading) ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n                </span>\n              </div>\n              <ul ng-show="toggleType && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="restaurantType in restaurantsList.restaurantTypes | toArray |  orderBy:\'-count\'| limitTo: restaurantToggleLimit">\n                  <a ng-click="filterByRestaurantType(restaurantType.tagId)" class="truncate" ng-class="{active : restaurantFilters[restaurantType.tagId] }"> {{ restaurantType.tagName }} ( {{ restaurantType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.restaurantTypes) > 4" class="show-more-btn-sec" ng-click="changeRestaurantToggle()" style="cursor: pointer;"> {{ restaurantToggleCurrentStatus }}</li>\n              </ul>\n              <div data-toggle="dropdown" ng-show="restaurantsList.loading" class="sort-btn-loading sort-btn clearfix">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>  </span> <span class="pull-left">\n                <spinner-loader></spinner-loader>\n              </span>\n              </div>\n              <div data-toggle="dropdown" ng-show="!restaurantsList.loading" class="sort-btn clearfix" ng-click=" toggleFood = !toggleFood ">\n                <span class="pull-right text"> <i class="icon icon-dish"></i>   </span> <span class="pull-left">\n                <i class="icon" ng-class="(toggleFood  && !restaurantsList.loading)  ? \'icon-arrow-up\' : \'icon-arrow-down\'"></i>\n              </span>\n              </div>\n              <ul ng-show="toggleFood  && !restaurantsList.loading" class="cat-list list-unstyled list-nopadd">\n                <li ng-repeat="foodType in restaurantsList.foodTypes | toArray |  orderBy:\'-count\' | limitTo: foodToggleLimit">\n                  <a ng-click="filterByFoodType(foodType.tagId)" ng-class="{active : foodFilters[foodType.tagId] }" class="truncate"> {{foodType.tagName}} ( {{ foodType.count }} ) </a>\n                </li>\n                <li ng-show="getObjectLength(restaurantsList.foodTypes) > 4" class="show-more-btn-sec" ng-click="changeFoodToggle()" style="cursor: pointer;"> {{ foodToggleCurrentStatus }}\n                </li>\n              </ul>\n              <div class="divider clearfix">\n                <span class="text pull-right">  </span> <span class="pull-left">\n                <i class="icon icon-sort-2"></i> </span>\n              </div>\n              <div data-toggle="dropdown" class="sort-btn clearfix">\n                <ul class="sort-list list-unstyled list-unstyled list-nopadd">\n                  <li>\n                    <a ng-if="!restaurantsList.loading" ng-click="sortByTime(timeToggle,rateToggle,financialToggle)" ng-class="timeToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-transport"></i>  (  ) </a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByRate(timeToggle,rateToggle,financialToggle)" ng-class="rateToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-star-null"></i></a>\n                  </li>\n                  <li>\n                    <a ng-click="sortByFinancialLevel(timeToggle,rateToggle,financialToggle)" ng-class="financialToggle ? \'active\' : \'deactive\'">\n                      <i class="icon icon-money"></i> </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-lg-9 col-md-9 col-sm-12 col-xs-12 pull-left">\n        <div id="container-cats">\n          <!--<div id="container-cats" class="restaurant-chain-container">-->\n          <div class="content-loader-holder" ng-if="contentSpinner">\n            <div class="content-loader">\n              <img src="app/user/assets/img/base/loading.svg" class="img-responsive" width="200">\n              <p class="text-center">  </p>\n            </div>\n          </div>\n          <div class="row" ng-hide="contentSpinner">\n            <div class="empty-resault" ng-show="!(restaurants | toArray ).length && searchOrFilter">\n              <div class="empty-content">\n                <img src="app/user/assets/img/img-ico/nulllcontent.png" class="img-responsive center-block">\n                <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 col-xs-offset-0 col-xxs-12">\n                  <div class="col-md-6">\n                    <a ui-sref="app.cooperation" class="btn btn-default-sm btn-green-2 " href="/cooperation">  </a>\n                  </div>\n                  <div class="col-md-6">\n                    <a ng-click="resetRestaurantSetting()" class="btn btn-default-sm btn-red">   </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div ng-if="!restaurants" class="col-md-12">\n              <div class="empty-resault">\n                <div class="empty-content">\n                  <img src="app/user/assets/img/img-ico/nulllcontent.png" class="img-responsive center-block">\n                  <div class="col-md-6 col-lg-6 col-sm-6 col-xs-12 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 col-xs-offset-0 col-xxs-12">\n                    <div class="col-md-6">\n                      <a ui-sref="app.cooperation" class="btn btn-default-sm btn-green-2 " href="/cooperation"> </a>\n                    </div>\n                    <div class="col-md-6">\n                      <a ng-click="resetRestaurantSetting()" class="btn btn-default-sm btn-red">   </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <restaurant ng-repeat="restaurant in restaurantsList.list" restaurant="restaurant" grid-view="sharedData.gridView" index="$index"></restaurant>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</section>'),e.put("/app/user/ngApp/templates/views/restaurants/modals/food-detail-modal.html",'<div class="fullWidth relativeMatter">\n    <internal-loading ng-show="loading"></internal-loading>\n    <span class="new-icon new-icon-close absoluteMatter close-button cursor-pointer" ng-class="{\'on-no-image\': food.hasPic !== true}" ng-click="$close()"></span>\n    <div class="absoluteMatter static-image" ng-show="food.hasPic !== true" ng-style="foodImage"></div>\n    <div class="food-image-section fullWidth" ng-show="food.hasPic">\n        <img id="large-image" ng-hide="loading" ng-src="{{food.largeImage}}"/>\n    </div>\n    <div class="food-detail-modal" ng-class="{\'with-static-image\': food.hasPic !== true}">\n        <div class="fullWidth">\n            <div class="food-detail-section">\n                <h3 class="text-center food-name-in-details">{{food.name}}</h3>\n                <!--<div class="stars-holder fullWidth">-->\n                    <!--<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">-->\n                        <!--<div class="middle-line">-->\n                            <!--<rate number="restaurant.rateAverage"></rate>-->\n                            <!--<span class="new-icon new-icon-person lightGrayColor"></span>-->\n                            <!--<span class="lightGrayColor">{{restaurant.commentCount}}</span>-->\n                        <!--</div>-->\n                    <!--</div>-->\n                <!--</div>-->\n                <div class="fullWidth food-description-in-detail">{{food.description}}</div>\n            </div>\n            <div class="food-operate-section fullWidth">\n                <div class="sixTenWidth price-wrapper pull-right">\n                    <span class="inline-block price-text disable-price-text" ng-show="food.lastPrice != null">{{food.lastPrice|number}} </span>\n                    <span class="inline-block price-text">{{food.price|number}} </span>\n                </div>\n                <div class="threeTenWidth text-left ErrorColor small4Font finished-text" ng-show="food.status !== 1">\n                     !\n                </div>\n                <div ng-show="food.status === 1 && restaurant.isOpen === true" class="fourTenWidth operat-wrapper text-left pull-left">\n                    <div class="fullWidth ordering-section">\n                        <a href="#" class="increase" ng-click="increase(food)">\n                            <span class="new-icon new-icon-plus_2 pull-left"></span>\n                        </a>\n                        <span class="food-count pull-left">{{count}}</span>\n                        <a href="#" class="decrease" ng-click="decrease(food)">\n                            <span class="new-icon new-icon-minus_2 pull-left"></span>\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class="row">\n                <div class="fullWidth relativeMatter">\n                    <div class="disable-options absoluteMatter" ng-show="food.status !== 1 || restaurant.isOpen !== true"></div>\n                    <div class="option-wrapper clearfix m-t-lg fullWidth" ng-repeat="option in options">\n                        <div class="option-title">\n                            <span class="title-main">{{option.groupName}}</span>\n                            <span ng-if="option.groupMaxSelectionLimit > 1" class="title-desc">\n                                                        <span ng-class="{\'blinking-text\': maxError[option.groupId] === true}">( {{option.groupMaxSelectionLimit | persian}} )</span>\n                                                </span>\n                            <p ng-if="option.groupRequired" class="font-small light-gray m-t-sm">    \n                                    .</p>\n                        </div>\n\n                        <ul class="options-radio food-options-list">\n                            <li ng-repeat="optionValue in option.options">\n                                <label ng-if="option.groupMaxSelectionLimit == 1" class="custom-input radio-button">{{optionValue.foodOptionName}}\n                                    <input ng-model="option.selectedValue" type="radio" ng-change="validOptions()"\n                                           value="{{optionValue.foodOptionId}}">\n                                    <span></span>\n                                </label>\n\n                                <label ng-if="option.groupMaxSelectionLimit > 1" class="custom-input checkbox">{{optionValue.foodOptionName}}\n                                    <input ng-model="optionValue.selected" type="checkbox" ng-change="validOptions()"\n                                           value="{{optionValue.foodOptionId}}">\n                                    <span></span>\n                                </label>\n                                <span class="pull-left"\n                                      ng-class="{\'light-gray\': (!optionValue.selected && option.groupMaxSelectionLimit > 1) || ( !option.selectedValue || option.selectedValue != optionValue.id)}">\n                                                                <price ng-if="option.groupPriceDisplayType == 0"\n                                                                       amount="{{food.price + optionValue.foodOptionPrice}}"></price>\n                                                                <price ng-if="option.groupPriceDisplayType == 1 && optionValue.foodOptionPrice > 0"\n                                                                       amount="{{optionValue.foodOptionPrice}}"></price>\n                                                                <span ng-if="option.groupPriceDisplayType == 1 && optionValue.foodOptionPrice == 0"></span>\n                                                        </span>\n                            </li>\n                        </ul>\n\n                    </div>\n                </div>\n            </div>\n            <div class="row tenStepFromTop" ng-show="food.status === 1 && restaurant.isOpen === true">\n                <div class="fullWidth accept-section-in-details">\n                    <div class="pull-right"> :\n                        <price class="" amount="{{calculatePrice()}}"></price>\n                    </div>\n                    <div class="pull-left">\n                        <button class="rounded-button" ng-click="acceptModal()" ng-disabled="!isValid">\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),
e.put("/app/user/ngApp/templates/views/restaurants/modals/restaurant-map-modal.html",'<div class="map-search-content">\n    <div class="map-search-header fullWidth">\n        <div class="fullWidth text-center">\n            <div class="inline-block address-wrapper">\n                <span class="inline-block new-icon new-icon-pin icon-pin"></span>\n                <span class="inline-block smallFirstFont">{{address}} </span>\n            </div>\n            <span class="pull-left close-section-mapsearch cursor-pointer" ng-click="$close()"><i\n                    class="icon icon-cancel lightGrayColor"></i></span>\n        </div>\n    </div>\n    <div class="map-search-body">\n        <div class="row">\n            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-xxs-12 relativeMatter">\n                <div class="Gmap-box" id="GmapModal" style="height: 400px;"></div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/views/restaurants/sideDish/sideDish.html",'<div class="side-dish-content">\n    <div class="sidedish-header">\n        <div class="sidedish-header-back" ng-style="{\'background-image\':\'url({{urlBackground}})\'}">\n            <div class="gradiant-white"></div>\n        </div>\n        <div class="close-side-dish cursor-pointer" ng-click="$close()">\n            <i class="icon icon-cancel"></i>\n        </div>\n        <div class="food-side-content-header">\n            <div class="food-title">\n                <span>{{data.foodName}}</span> \n                <price ng-if="data.foodLastPrice" style="text-decoration: line-through"\n                       amount="{{data.foodLastPrice}}"></price>\n                <price amount="{{data.foodPrice}}"></price>\n\n            </div>\n            <div class="food-counter">\n                <span ng-click="plusCount()" class="icon icon-plus count-icons"></span>\n                <span class="food-count"> {{count}} </span>\n                <span ng-click="minusCount()" class="icon icon-minus count-icons"></span>\n            </div>\n        </div>\n    </div>\n    <div class="food-options">\n\n\n        <div class="option-wrapper clearfix m-t-lg" ng-repeat="option in data.options">\n            <div class="option-title">\n                <span class="title-main">{{option.groupName}}</span>\n                <span ng-if="option.groupMaxSelectionLimit > 1" class="title-desc">\n                                                        <span>(</span>\n                                                        <span> {{option.groupMaxSelectionLimit | persian}} </span>\n                                                        <span>)</span>\n                                                </span>\n                <p ng-if="option.groupRequired" class="font-small light-gray m-t-sm">    \n                        .</p>\n            </div>\n\n            <ul class="options-radio food-options-list">\n                <li ng-repeat="optionValue in option.options">\n                    <label ng-if="option.groupMaxSelectionLimit == 1" class="custom-input radio-button">{{optionValue.foodOptionName}}\n                        <input ng-model="option.selectedValue" type="radio"\n                               value="{{optionValue.foodOptionId}}">\n                        <span></span>\n                    </label>\n\n                    <label ng-if="option.groupMaxSelectionLimit > 1" class="custom-input checkbox">{{optionValue.foodOptionName}}\n                        <input ng-model="optionValue.selected" type="checkbox"\n                               value="{{optionValue.foodOptionId}}">\n                        <span></span>\n                    </label>\n                    <span class="pull-left"\n                          ng-class="{\'light-gray\': (!optionValue.selected && option.groupMaxSelectionLimit > 1) || ( !option.selectedValue || option.selectedValue != optionValue.id)}">\n                                                                <price ng-if="option.groupPriceDisplayType == 0"\n                                                                       amount="{{data.foodPrice + optionValue.foodOptionPrice}}"></price>\n                                                                <price ng-if="option.groupPriceDisplayType == 1 && optionValue.foodOptionPrice > 0"\n                                                                       amount="{{optionValue.foodOptionPrice}}"></price>\n                                                                <span ng-if="option.groupPriceDisplayType == 1 && optionValue.foodOptionPrice == 0"></span>\n                                                        </span>\n                </li>\n            </ul>\n\n        </div>\n\n\n    </div>\n    <footer class="side-dish-footer clearfix bg-white border-radius-20">\n        <div class="price">\n\n            <div ng-if="!basketService.basket.items[data.foodId].options" class="add-to-basket col-md-6">\n                <button\n                        ng-click="basketService.addToBasket(data.foodId, data.foodPrice , selectedOptions() , count); $close()"\n                        class="btn addToBasket-sideDish border-radius-20 no-margin pull-left green-bg"\n                        ng-disabled="!validOptions()"\n                        ng-class="{\'btn-disabled ng-disabled\' : !validOptions()}">\n                    \n                </button>\n            </div>\n\n\n            <div ng-if="basketService.basket.items[data.foodId].options" class="add-to-basket col-md-6">\n                <button ng-click="basketService.updateOptionsBaket(data.foodId , selectedOptions() , count); $close()"\n                        class="btn addToBasket-sideDish border-radius-20 no-margin pull-left green-bg"\n                        ng-disabled="!validOptions()"\n                        ng-class="{\'btn-disabled ng-disabled\' : !validOptions()}">\n                    \n                </button>\n            </div>\n\n            <div class="price-option col-md-6 color-dark-gray">\n                <span> </span>\n                <price class="" amount="{{calculatePrice()}}"></price>\n            </div>\n\n        </div>\n    </footer>\n</div>\n'),e.put("/app/user/ngApp/templates/views/restaurants/sideDish/sideDishModalBackground.html",""),e.put("/app/user/ngApp/templates/views/restaurants/sideDish/window.html",'<div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}">\n    <div class="custom-modal-content">\n        <div class="side-dish-wrapper tripple-modal">\n            <div class="side-dish-modal">\n                <div class="side-dish-back1"></div>\n                <div class="side-dish-back2"></div>\n                <div class="side-dish-back-main" uib-modal-transclude>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/comments/commentsList.html",'<div>\n        <div class="comment-section-header">\n            <h3 class="light-gray fullWidth">\n                <span class="new-icon new-icon-bullet2"></span>\n                 \n            </h3>\n        </div>\n\n        <div ng-show="!loadingComments">\n            <div class="no-comments text-center" ng-show="comments.length == 0" >\n                   \n            </div>\n            <div ng-show="comments.length != 0">\n                <div class="comment-panel border-radius-10 m-b-lg clearfix" ng-repeat="comment in comments track by $index" ng-hide=\'comment.commentText == "" || comment.commentText == null\'>\n                    <div class="comment-panel-header bg-gray-light clearfix border-radius-10">\n                        <p class="pull-right user-name">\n                            <span class="pull-right user-name-text">{{comment.username}}</span>\n                            <span class="light-gray user-name-date">{{comment.date | persian}}</span>\n                        </p>\n                        <p class="pull-left">\n                            <emojis rate="comment.voteNum" font-size="font-icon-large"></emojis>\n                        </p>\n                    </div>\n                    <div class="comment-panel-content fullWidth relativeMatter">\n                        <div class="user-comment">\n                            <div class="user-comment-content">\n                                <p>{{comment.commentText}}</p>\n                            </div>\n                            <div class="order-items-comment light-gray">\n                            <span ng-repeat="food in comment.foods"  ng-show="food" class="order-item-comment border-radius-10 border-light-gray-1 font-small" ng-class="{\'food-border-sad\': food.foodQuality == 1, \'food-border-normal\': food.foodQuality == 2, \'food-border-happy\': food.foodQuality == 3}">\n                                {{ food.foodName }}\n                            </span>\n                            </div>\n                            <report-comment comment-id="comment.id" comment-status="comment.reported"></report-comment>\n                        </div>\n                        <div class="manager-answer b-top-gray-1 p-relative" ng-if="comment.replies.length > 0">\n                            <div id="triangle-bottomright" class="manager-triangle"></div>\n                            <div class="m-c-header clearfix">\n                                <!--<img class="img-responsive pull-right border-radius-10" ng-src="{{restaurant.profile && restaurant.profile || \'app/user/assets/img/base/res_logo_placeholder.jpg\'}}">-->\n                                <img class="img-responsive pull-right border-radius-10" ng-src="{{restaurantProfile && restaurantProfile || \'app/user/assets/img/base/res_logo_placeholder.jpg\'}}" >\n                                <span class="font-medium"> :</span>\n                            </div>\n                            <p>{{comment.replies[0].text}}</p>\n                        </div>\n                    </div>\n                </div>\n                <div style="position: relative;" ng-show="loadingComments">\n                    <spinner-loader ></spinner-loader>\n                </div>\n                <button ng-show="moreCommentVisible" ng-click="moreComment()" class="btn-commentMoreButton font-medium btn bg-gray-light button-md">\n                    <span class="light-gray">\n                        \n                    <i class="icon icon-arrow-down"></i>\n                    </span>\n\n                </button>\n            </div>\n        </div>\n</div>\n\n\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/menuItems/gridViewItems.html",'<div>\n  <div class="clearfix" ng-if="$index % 3 == 0 "></div>\n<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6 col-xxs-12 clearfix pull-right grid-box thumbnail-view ">\n        <div class="restaurant-menu-item clearfix"\n             ng-class="{\'deactive\' : !food.isOpen || food.status ==2 ,\'selected-box\' : basketService.basket.items[food.id].itemCount > 0 , \'have-effect\': food.description }">\n      <div class="lazy-load-img"  ng-click="addToBascket(food)">\n          <img ng-click="openLightboxModal(food, $event)" src="{{food.image}}">\n          <img src="app/image/placeholder.png">\n          <i class="icon icon-search zoom-image-icon" ng-show="food.hasPic" ng-click="openLightboxModal(food, $event)"></i>\n      </div>\n      <div class="caption">\n            <p class="name text-overflow-class" marquee-effect  ng-click="addToBascket(food)" >\n              {{food.name}}\n            </p>\n            <p ng-show="food.description" class="desc hidden-xxs"\n               ng-click="addToBascket(food)" ng-bind="food.description" text-over-flow-hidden>\n          </p>\n     </div>\n     <div class="food-image-gradient" ng-click="openLightboxModal(food, $event)"></div>\n\n  <div class="control-panel" ng-class="{\'have-discount\':food.lastPrice > 0}">\n\n  <div ng-show="food.isOpen && food.status != 2 && restaurant.restaurantStatus == 1"\n      class="col-lg-6 col-md-7 col-sm-6 col-xs-6 clearfix nopadding-x controls">\n\n    <span class="plus"\n          ng-if="!food.hasOption"\n          ng-click="addToBascket(food)"\n          ng-hide="!restaurant.isOpen">\n           <i class="icon icon-plus" ng-hide="basketService.inWait[foodId]"></i>\n          <div ng-show="basketService.inWait[foodId]">\n            <spinner-loader></spinner-loader>\n          </div>\n    </span>\n\n    <span class="have-option-plus" ng-if="food.hasOption && !basketService.basket.items[food.id].options"\n      ng-click="addToBascket(food)"\n      ng-hide="!restaurant.isOpen">\n      <i class="icon icon-plus have-options" ng-hide="basketService.inWait[foodId]"></i>\n      <span> </span>\n    </span>\n\n    <span\n    style="\n    padding-right: 0px;\n    padding-top: 1px;\n    padding-bottom: 1px;\n    padding-left: 6px;\n    line-height: 2;\n    "\n     class="have-option-plus" ng-if="food.hasOption && basketService.basket.items[food.id].options"\n      ng-click="addToBascket(food)"\n      ng-hide="!restaurant.isOpen">\n      <i class="icon icon-refresh have-options" ng-hide="basketService.inWait[foodId]"></i>\n      <span></span>\n    </span>\n\n    <span class="num"\n        ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.id].itemCount > 0}">\n                {{basketService.basket.items[food.id].itemCount > 0 ?\n                basketService.basket.items[food.id].itemCount : 0 | persian }}\n    </span>\n    <span class="minus"\n              ng-click="basketService.removeFromBasket(food.id, food.price)"\n              ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.id].itemCount > 0}"\n              ng-hide="!restaurant.isOpen">\n             <i class="icon icon-minus" ng-hide="basketService.inWait[foodId]"></i>\n           <div ng-show="basketService.inWait[foodId]">\n              <spinner-loader></spinner-loader>\n          </div>\n     </span>\n  </div>\n  <div class="col-lg-6 col-md-5 col-sm-6 col-xs-6 nopadding-x clearfix price ">\n      <span class="real-price"\n            ng-click="addToBascket(food)">\n        {{parsePrice(food.price) | number | persian }} \n      </span>\n      <span class="discount" ng-if="food.lastPrice > 0">\n        {{food.lastPrice | number | persian }} \n      </span>\n  </div>\n  <div class="err-text col-md-6 col-sm-6" ng-if="!food.isOpen || food.status ==2"> </div>\n\n</div>\n\n  </div>\n</div>\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/menuItems/listViewItems.html",'<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6 col-xxs-12 clearfix pull-right grid-box row-view row-view-2 nopadding-mobile">\n  <div class="restaurant-menu-item clearfix"\n        ng-class="{\'deactive\' : !food.isOpen || food.status ==2 ,\'selected-box\' : basketService.basket.items[food.id].itemCount > 0}">\n      <div class="lazy-load-img" ng-class="{\'have-effect\': food.hasPic}">\n          <img src="{{food.image}}">\n          <img src="app/image/placeholder.png">\n          <div class="overlay" ng-click="openLightboxModal(food, $event)">\n            <i class="icon icon-search zoom-image-icon" ng-show="food.hasPic" ></i>\n          </div>\n      </div>\n      <div class="caption"  ng-click="addToBascket(food)">\n          <p class="name">\n            {{food.name}}\n          </p>\n         <div class="err-text hidden-xxs " ng-if="!food.isOpen || food.status ==2"> </div>\n      </div>\n  <div class="control-panel" ng-class="{\'have-discount\':food.lastPrice > 0}">\n        <div class="clearfix nopadding-x  err-text"\n            ng-if="!food.isOpen || food.status ==2">\n             \n        </div>\n      <div ng-show="food.isOpen && food.status != 2 && restaurant.restaurantStatus == 1"\n            class="col-lg-6 col-md-7 col-sm-6 col-xs-6 clearfix nopadding-x controls">\n\n          <span class="plus"\n                ng-if="!food.hasOption"\n                ng-click="addToBascket(food)"\n                ng-hide="!restaurant.isOpen">\n            <i class="icon icon-plus" ng-hide="basketService.inWait[foodId]"></i>\n            <div ng-show="basketService.inWait[foodId]">\n              <spinner-loader></spinner-loader>\n            </div>\n          </span>\n\n          <span class="have-option-plus" \n              ng-if="food.hasOption && !basketService.basket.items[food.id].foodOptions"\n              ng-click="addToBascket(food)"\n              ng-hide="!restaurant.isOpen">\n            <i class="icon icon-plus have-options" ng-hide="basketService.inWait[foodId]"></i>\n            <span> </span>\n          </span>\n\n\n          <span class="have-option-plus" \n            ng-if="food.hasOption && basketService.basket.items[food.foodId].options" \n            ng-click="addToBascket(food)"\n            ng-hide="!restaurant.isOpen">\n            <i class="icon icon-refresh have-options" ng-hide="basketService.inWait[foodId]"></i>\n            <span> </span>\n          </span>\n\n\n          <span class="num"\n                ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.id].itemCount > 0}">\n                {{basketService.basket.items[food.id].itemCount > 0 ?\n                basketService.basket.items[food.id].itemCount : 0 | persian }}\n          </span>\n          <span class="minus"\n                    ng-click="basketService.removeFromBasket(food.id, food.price)"\n                    ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.id].itemCount > 0 }"\n                    ng-hide="!restaurant.isOpen">\n                   <i class="icon icon-minus" ng-hide="basketService.inWait[foodId]"></i>\n                  <div ng-show="basketService.inWait[foodId]">\n                       <spinner-loader></spinner-loader>\n                  </div>\n          </span>\n      </div>\n    <div class="col-lg-6 col-md-5 col-sm-6 col-xs-6 nopadding-x clearfix price">\n          <span class="real-price"\n                ng-click="addToBascket(food)">\n              {{parsePrice(food.price) | number | persian }} \n          </span>\n          <span class="discount" ng-if="food.lastPrice > 0">\n            {{food.lastPrice | number | persian }} \n          </span>\n    </div>\n</div>\n<div class="caption-2 hidden-xs hidden-xxs" text-over-flow-hidden  ng-click="addToBascket(food)">\n    <p class="desc truncate">{{food.description}}\n        <span ng-if="!food.isOpen || food.status ==2" class="err-text text-left pull-left">\n           \n        </span>\n    </p>\n  </div>\n</div>\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/menuItems/listWithModalItems.html",'<div class="col-lg-4 col-md-6 col-sm-6 col-xs-6 col-xxs-12 clearfix pull-right grid-box row-view listWithModal nopadding-mobile">\n    <div class="restaurant-menu-item clearfix" ng-class="{\'deactive\' : !food.isOpen || food.status ==2 ,\'selected-box\' : basketService.basket.items[food.foodId].itemCount > 0}">\n\n        <div class="caption">\n            <p class="name pull-right haveModalName" ng-click="addToBascket(food)">\n                {{food.name}}\n            </p>\n            <div class="pull-left haveModalDiv" ng-show="food.hasPic" ng-click="openLightboxModal(food, $event)">\n                <span class="icon icon-image-view "></span>\n            </div>\n        </div>\n\n        <div class="control-panel" ng-class="{\'have-discount\':food.lastPrice > 0}">\n            <div ng-show="food.isOpen && food.status != 2 && restaurant.restaurantStatus == 1" class="col-lg-6 col-md-7 col-sm-6 col-xs-6 clearfix nopadding-x controls">\n\n                <span class="plus" ng-if="!food.hasOption" ng-click="addToBascket(food)" ng-hide="!restaurant.isOpen">\n                    <i class="icon icon-plus" ng-hide="basketService.inWait[foodId]"></i>\n                    <div ng-show="basketService.inWait[foodId]">\n                        <spinner-loader></spinner-loader>\n                    </div>\n                </span>\n\n                <span class="have-option-plus" ng-if="food.hasOption && !basketService.basket.items[food.foodId].options" ng-click="addToBascket(food)"\n                    ng-hide="!restaurant.isOpen">\n                    <i class="icon icon-plus have-options" ng-hide="basketService.inWait[foodId]"></i>\n                    <span> </span>\n                </span>\n\n                <span class="have-option-plus" ng-if="food.hasOption && basketService.basket.items[food.id].options" ng-click="addToBascket(food)"\n                    ng-hide="!restaurant.isOpen">\n                    <i class="icon icon-refresh have-options" ng-hide="basketService.inWait[foodId]"></i>\n                    <span> </span>\n                </span>\n\n                <span class="num" ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.foodId].itemCount > 0}">\n                    {{basketService.basket.items[food.foodId].itemCount > 0 ? basketService.basket.items[food.foodId].itemCount : 0 | persian\n                    }}\n                </span>\n                <span class="minus" ng-click="basketService.removeFromBasket(food.id, food.price)" ng-class="{\'hidden\' : !food.isOpen ,\'hidden\' : !basketService.basket.items[food.foodId].itemCount > 0}"\n                    ng-hide="!restaurant.isOpen">\n                    <i class="icon icon-minus" ng-hide="basketService.inWait[foodId]"></i>\n                    <div ng-show="basketService.inWait[foodId]">\n                        <spinner-loader></spinner-loader>\n                    </div>\n                </span>\n            </div>\n            <div class="col-lg-6 col-md-5 col-sm-6 col-xs-6 nopadding-x clearfix price ">\n                <span class="real-price" ng-click="addToBascket(food)">\n                    {{food.price | number | persian }} \n                </span>\n                <span class="discount" ng-show="food.lastPrice > 0">\n                    {{food.lastPrice | number | persian }} \n                </span>\n            </div>\n        </div>\n\n        <div class="err-text" ng-if="!food.isOpen || food.status ==2"> </div>\n\n        <div class="clearfix"></div>\n        <p ng-show="food.description" class="desc hidden-xxs" ng-click="addToBascket(food)">{{food.description}}\n        </p>\n        <!-- <div class="caption-2 hidden-xs hidden-xxs auto-width" text-over-flow-hidden >\n            <p class="desc truncate"\n            ng-click="checkRestaurantOperation(restaurant.isOpen , food.foodId, food.foodPrice, true)">{{food.foodDescription}}\n                <span ng-if="!food.isOpen || food.foodStatus ==2" class="err-text text-left pull-left"> </span>\n            </p>\n        </div> -->\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/menuItems/menuHeaders.html",'<div id="{{sectionId}}" class="col-md-12 col-sm-12 col-xs-12 col-lg-12 clearfix nopadding-mobile">\n    <div ng-if="section.image == null && !isMobile" class="title-bar-2">\n        <i class="icon icon-bullet"></i>\n        <span class="color-red-1">\n        {{section.name}}\n        </span>\n    </div>\n    <div ng-if="section.image != null && !isMobile" class="cover-page">\n        <img src="{{ section.image }}" class="img-responsive full-width">\n        <span class="cover-name">{{section.name}}</span>\n    </div>\n    <!-- mobile -->\n    <div ng-if="isMobile" class="title-bar-2">\n        <i class="icon icon-bullet"></i>\n        <span class="color-red-1">\n        {{section.name}}\n        </span>\n    </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/menuItems/specialFoodItems.html",'<div class="special-offer clearfix" ng-show="showSpecials">\n   <div class="col-md-12 col-sm-12 col-xs-12 col-lg-12 clearfix">\n        <div class="title-bar list-inline">\n        <i class="icon icon-special-tag"></i>\n        <h2 class="color-red-1"> </h2>\n        <span class="date">{{ todayTime.timeDay }}</span>\n        </div>\n    </div>\n    <div ng-if="viewMode == \'listView\'">\n        <list-view-items ng-repeat="(id, food) in restaurant.specialFoods"></list-view-items>\n    </div>\n    <div ng-if="viewMode == \'gridView\'">\n         <grid-view-items ng-repeat="(id, food) in restaurant.specialFoods"> </grid-view-items>\n    </div>\n    <div ng-if="viewMode == \'listWithModal\'">\n        <list-with-modal-items ng-repeat="(id, food) in restaurant.specialFoods"></list-with-modal-items>\n    </div>\n</div>\n\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/circleProgressBar.html",'<div id="container" class="container-progress" >\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/circleProgressBarWithEmoji.html",'<div id="container" class="container-progress" >\n       <emojis face="{{face}}" font-size="{{fontSize}}" color="{{color}}" class="emoji-icon-inner"></emojis>\n</div>\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/emojiRadioBtn.html",'\n<div class="emoji-icon light-gray emojis-radio-btn">\n  <fieldset ng-disabled="readOnly">\n    <div class="inline-block">\n      <input type="radio" name="{{name}}" id="happy-{{uniqId}}" value="3" class="good-rate" ng-model="reviewData[name]">\n      <label for="happy-{{uniqId}}" ng-style="{ cursor: readOnly == true ? \'default\' : \'pointer\' }"> <i class="icon icon-happy {{fontSize}}"></i>\n        <p class="font-medium" ng-show="haveText == \'true\'"></p>\n      </label>\n    </div>\n    <div class="inline-block">\n      <input type="radio" name="{{name}}" id="normal-{{uniqId}}" value="2" class="normal-rate" ng-model="reviewData[name]">\n      <label for="normal-{{uniqId}}" ng-style="{ cursor: readOnly == true ? \'default\' : \'pointer\' }"> <i class="icon icon-normal {{fontSize}}"></i>\n        <p class="font-medium" ng-show="haveText == \'true\'"></p>\n      </label>\n    </div>\n    <div class="inline-block">\n      <input type="radio" name="{{name}}" id="sad-{{uniqId}}" value="1" class="bad-rate" ng-model="reviewData[name]">\n      <label for="sad-{{uniqId}}" ng-style="{ cursor: readOnly == true ? \'default\' : \'pointer\' }"> <i class="icon icon-sad {{fontSize}}"></i>\n        <p class="font-medium" ng-show="haveText == \'true\'"></p>\n      </label>\n    </div>\n  </fieldset>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/emojiRate.html",'<div ng-show="isVisible" class="emoji-icon light-gray" style="cursor: default;">\n  <div class="inline-block">\n    <label ng-style="{color: color}"> <i class="icon {{icon}} {{fontSize}}"></i></label>\n  </div>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/emojis.html",'<div>\n        <i class="icon icon-{{face}} {{fontSize}} color-icon-{{color}}"></i>    \n</div>\n\n'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/foodOrderModal.html",'<div class="side-dish-content food-order-modal">\n  <header class="sidedish-header">\n    <div class="sidedish-header-back relativeMatter" style="background-image: url(\'/app/user/assets/img/comments/pattern_food.png\')">\n      <div class="gradiant-white-modal"></div>\n      <hr>\n    </div>\n    <div class="close-side-dish cursor-pointer" ng-click="$close()">\n      <i class="icon icon-cancel light-gray"></i>\n    </div>\n    <div class="text-center modal-title">\n      <div class="color-red-1">\n        <p class="detail-title">  {{data.order.orderId}}</p>\n      </div>\n    </div>\n  </header>\n  <section class="custom-modal-content food-list-in-modal">\n    <ul class="no-style-ul order-list-details">\n      <li ng-repeat="item in data.order.items" class="dotting-element">\n        <span class="small6Font somePaddingLeft">{{item.food.foodName}} &times; {{item.count}}</span>\n        <span class="small6Font pull-left somePaddingRight">\n          <price amount="{{item.price}}"></price>\n        </span>\n      </li>\n\n\n    </ul>\n    <!-- <div class="gift-order purple-color purple-border dashed-border thin-border clearfix font-medium">\n    <div class="p-relative gift-icon-modal pull-right">\n    <span class="icons-gift icon-gift2  font-icon-large"></span>\n    <span class="icons-gift icon-gift1  font-icon-large"></span>\n    <span> </span>\n    </div>\n    <span class="pull-left m-t-md"> -, </span>\n    </div> -->\n    <div class="total-price-modal font-medium padding-top-bottom-md dotting-element">\n      <span class="naturalFont somePaddingLeft"> </span>\n      <span class="pull-left naturalFont somePaddingRight">\n        <price amount="{{data.order.totalPrice}}"></price>\n      </span>\n    </div>\n\n  </section>\n\n\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/orderCommentForm.html",'<div>\n    <div class="overlay-comment" ng-show="showLoading">\n        <div class="comment-success text-center">\n            <internal-loading ng-show="!commentSubmitSuccess"></internal-loading>\n            <p class="color-success font-large" ng-show="commentSubmitSuccess">\n                <i class="icon icon-check-circle m-l-sm font-icon-large"></i>\n                     \n            </p>\n        </div>\n    </div>\n    <form ng-submit="submitVote($event)">\n        <h3 class="text-center m-t-lg color-red-primary">   \n            <span>\n                {{ order.orderId }}\n            </span>\n            <a class="color-red-light cursor-pointer open-order-modal" ng-click="openFoodItemsModal(\'foodItems\' , \'gift\')" >\n                <small>( )</small>\n            </a>\n        </h3>\n        <div class="emojis-wrapper text-center padding-between-items">\n            <emoji-radio-btn review-data="reviewData"  name="overall" init-vote="vote" uniq-Id="ids.overalIds"  have-text="true" font-size="font-icon-large" ></emoji-radio-btn>\n        </div>\n        <div class="bg-white p-relative text-center padding-between-items" ng-show="reviewData.overall">\n            <div class="order-details row margin-center" ng-show="checkOverall()">\n                <div class="text-center">\n                    <p class="font-medium light-gray m-b-lg">        </p>\n                </div>\n                <div class="review-orders">\n                    <div class="review-order-list-item clearfix ">\n                        <div class="col-md-6 pull-right no-padding">\n                            <p class="dark-gray" ng-click="showList()" ng-class="{\'cursor-pointer\' : foods.length != 0 }"> \n                                <i class="icon" ng-class="{\'icon-arrow-down\': iconDown ,\'icon-arrow-up\': !iconDown }" ng-show="foods.length != 0"></i>\n                            </p>\n                        </div>\n                        <div class="col-md-6 pull-left emojis">\n                            <emoji-radio-btn review-data="reviewData" name="foodOverall" uniq-Id="ids.qualityIds" have-text="false"  font-size="font-icon-large" ></emoji-radio-btn>\n                        </div>\n                    </div>\n\n                    <!--foods rate-->\n                    <div class="review-order-list-item clearfix order-foods-details" ng-show="showFoodList">\n                        <div class="row no-margin"ng-repeat="item in order.items">\n                            <div class="col-md-6 pull-right ">\n                                <p class="light-gray order-item-name">\n                                    <span class="bullet"></span>\n                                    {{item.food.foodName}}\n                                </p>\n                            </div>\n                            <div class="col-md-6 pull-left emojis padding-between-items-small">\n                                <!-- review-data="reviewData" -->\n                                <emoji-radio-btn review-data="reviewData[\'foodQuality\']"name="{{item.food.foodId}}"\n                                                 uniq-Id="item.food.foodId" have-text="false"\n                                                 font-size="font-icon-medium"></emoji-radio-btn>\n                            </div>\n                        </div>\n                    </div>\n                    <!--end of foods rate-->\n\n                    <div class="review-order-list-item clearfix">\n                        <div class="col-md-6 pull-right no-padding">\n                            <p class="dark-gray">  </p>\n                        </div>\n                        <div class="col-md-6 pull-left emojis">\n                            <emoji-radio-btn review-data="reviewData" name="deliverySpeed" uniq-Id="ids.deliverySpeedIds" have-text="false" font-size="font-icon-large"></emoji-radio-btn>\n                        </div>\n                    </div>\n                    <div class="review-order-list-item clearfix ">\n                        <div class="col-md-6 pull-right no-padding">\n                            <p class="dark-gray">   </p>\n                        </div>\n                        <div class="col-md-6 pull-left emojis">\n                            <emoji-radio-btn review-data="reviewData" name="buyExperience"\n                                             uniq-Id="ids.chiliveryUxIds" have-text="false"\n                                             font-size="font-icon-large"\n                                             model-name="modelNames[3]"></emoji-radio-btn>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class="add-comment">\n                <div class="">\n                    <div class="p-relative text-center add-comment-wrapper padding-20">\n                        <div class="add-comment-title light-gray">\n                            <p class=""> (  )</p>\n                        </div>\n                        <div class="inline-block p-relative"></div>\n                        <textarea class="addcomment-textarea bg-transparent font-medium" name="text"\n                                  ng-model="reviewData[\'text\']"></textarea>\n                        <div class="add-comment-btn">\n                            <button type="submit" ng-disabled="!canSubmit" class="btn button-md bg-green-primary font-medium"\n                                    ng-class="{\' btn-disabled\' : !canSubmit}" > \n                            </button>\n                        </div>\n                        <i class="icon icon-comment_icon add-comment-icon font-icon-medium"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </form>\n</div>\n'),
e.put("/app/user/ngApp/templates/libsView/templates/directives/review/orderReviewTitle.html",""),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/rate.html",'<div class="small-btn white-color inline-block  {{colorStatus}}">\n        <span> {{ number | persian}}</span>\n        <i class="icon icon-star-fill"></i>\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/reportComment.html",'<div ng-click="reportComment(commentId)" class="report-comment light-gray font-small" ng-class="{\'reported-comment\' : commentHasBeenReported}">\n        <i class="icon icon-report"></i>\n        {{commentHasBeenReported ? \' \' : \'\'}}\n</div>'),e.put("/app/user/ngApp/templates/libsView/templates/directives/review/submittedEmojies.html",'{{ rate }}~~~~~~\n<div>\n    <i class="icon icon-happy"></i>\n    <i class="icon icon-normal"></i>\n    <i class="icon icon-sad "></i>\n</div>\n\n')}]);